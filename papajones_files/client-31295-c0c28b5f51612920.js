"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[31295],{__fusion__49:(e,t,i)=>{i.r(t),i.d(t,{default:()=>at});var n=i(43193),o=i(62149),r=i(88885),a=i(40836),l=i(53683),d=i(91931),s=i(33990);const c=(0,d.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"24px"}})),h=e=>{let{getItemProps:t}=e;return(0,s.tZ)(c,{...t({index:0}),children:(0,s.tZ)(a.v,{id:"shared.hmmCantFindThisAddress"})})};var g=i(94579),p=i(78422);const u=(0,d.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.backgroundSecondary:"transparent",padding:e.$isTagged?"16px 24px":"0",display:"flex",cursor:"pointer",transition:g.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.backgroundSecondary}}))),m=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{alignSelf:"center",padding:`0 ${t.sizing.scale700}`}})),y=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{minWidth:0,display:"flex",flexDirection:"column",flexGrow:1,borderBottom:`1px solid ${t.colors.borderOpaque}`,padding:`${t.sizing.scale600} 0 `}})),v=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,textOverflow:"ellipsis",overflow:"hidden"}})),Z=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),_=e=>{const[,t]=(0,d.hQ)();return(0,s.BX)(u,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,s.tZ)(m,{children:(0,s.tZ)(p.Z,{name:"LocationMarkerOutlined",size:"24",color:t.colors.contentTertiary})}),(0,s.BX)(y,{children:[(0,s.tZ)(v,{children:e.location.addressLine1}),(0,s.tZ)(Z,{children:e.location.addressLine2})]})]})},f=(0,d.zo)("ul",(e=>{let{$theme:t}=e;return{background:t.colors.backgroundPrimary,margin:"0 -24px"}})),D=e=>{let t=null;return e.isOpen&&(t=e.showTryAgainMessage?(0,s.tZ)(h,{getItemProps:e.getItemProps}):e.locations.map(((t,i)=>(0,s.tZ)(_,{index:i,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},i)))),(0,s.tZ)(f,{...e.getMenuProps(),children:t})};var L=i(48402),I=i(69404),T=i(36151),S=i(40606),b=i(62851),C=i(47850),z=i(43406),P=i(63649),k=i(43779),x=i(45142),B=i(37573),E=i(40832),$=i(7708),O=i(90200),V=i(81282),w=i(33535),X=i(92703),A=i(93685),M=i(8001);const N=(0,d.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.HeadingLarge,marginBottom:"16px"}})),H=(0,d.zo)("span",g.E2),R=(0,d.zo)("div",{marginBottom:"12px"}),Y=(0,d.w1)(b.U,{marginBottom:"24px"}),F=(0,d.w1)(C.Z,{paddingTop:0}),U=(0,d.w1)(b.U,{height:"48px",marginBottom:"12px"}),q=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginBottom:"8px"}})),j=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginBottom:"8px",marginTop:"24px"}})),W=(0,d.zo)("div",{display:"flex",justifyContent:"center"});function G(e){const{instructionsDraft:t,updateInstructionsDraft:i,updateLocationDraft:n}=(0,E.a8)(),o=(0,r.T)(),l=(0,w.ZP)(),{guestCheckoutEnabled:d}=(0,B.Z)(),c=e.overrideDiningMode,h=e.selectedDeliveryLocation?.address?.label||"",[g,p]=(0,T.useState)(h);(0,T.useEffect)((()=>{p(h)}),[h]);const[u,m]=(0,T.useState)(!1),y=(0,x.Z)();(0,T.useEffect)((()=>{n(e.ephemeralLocation)}),[e.ephemeralLocation,n]);const v=()=>m(!1);if(u)return(0,s.tZ)(A.Z,{onRemoveAddress:e.onRemoveAddress,onKeepAddress:v});return(0,s.BX)(s.HY,{children:[(0,s.tZ)(N,{children:(0,s.tZ)(X.Z,{diningMode:c,pickup:(0,s.tZ)(a.v,{id:"components.checkout.pickup_details"}),delivery:(0,s.tZ)(a.v,{id:"components.checkout.delivery_details"}),dineIn:(0,s.tZ)(a.v,{id:"components.checkout.dine_in_details"})})}),(0,s.BX)(Y,{children:[(0,s.tZ)(F,{iconType:"Pin",children:e.ephemeralLocation?.address?.eaterFormattedAddress||e.ephemeralLocation?.address?.address1||""}),(0,s.tZ)(H,{children:o("shared.changeAddress")})]}),"DELIVERY"===c||"SHIPMENT"===c?(0,s.BX)(s.HY,{children:[(0,s.tZ)(q,{children:(0,s.tZ)(a.v,{id:"components.delivery.delivery_options"})}),(0,s.tZ)(S.Z,{source:e.ephemeralLocationInstruction,loaded:e=>{let{availableInteractionTypes:n}=e;return(0,s.tZ)(R,{children:1===n.length?(0,s.tZ)(U,{children:y(n[0])}):(0,s.tZ)(k.Z,{customIcon:(0,s.tZ)(M.Z,{interactionType:t.interactionType}),onChange:e=>{i("interactionType",e.target.value),l("eats:delivery_preference_switch",{option:e.target.value}),e.currentTarget&&e.currentTarget.focus()},value:t.interactionType,ariaLabel:o("shared.selectdeliverymethod"),children:n.map((e=>(0,s.tZ)(k.W,{value:e,children:y(e)},e)))})})},loading:()=>(0,s.tZ)(U,{}),error:()=>(0,s.tZ)(U,{})}),(0,s.tZ)(S.Z,{source:e.ephemeralLocationInstruction,loaded:()=>"door_to_door"===t.interactionType||"leave_at_door"===t.interactionType?(0,s.BX)(s.HY,{children:[(0,s.tZ)(R,{children:(0,s.tZ)(z.Z,{placeholder:o("shared.aptOrSuiteLabel"),onChange:e=>i("aptOrSuite",e.target.value),value:t.aptOrSuite})}),(0,s.tZ)(R,{children:(0,s.tZ)(z.Z,{placeholder:o("shared.businessNameLabel"),onChange:e=>i("businessName",e.target.value),value:t.businessName})})]}):null,loading:()=>(0,s.BX)(s.HY,{children:[(0,s.tZ)(U,{}),(0,s.tZ)(U,{})]}),error:()=>(0,s.tZ)(U,{})}),(0,s.tZ)(P.Z,{placeholder:o("shared.deliveryNotesLabel"),onChange:e=>{i("notes",e.target.value),e.target.style.height="inherit";const t=e.target.scrollHeight;e.target.style.height=`${t}px`},value:t.notes,ariaLabel:o("shared.deliveryNotesLabel"),rows:"2"})]}):null,d?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(j,{children:(0,s.tZ)(a.v,{id:"components.delivery.save_this_address"})}),(0,s.tZ)(V.Z,{address:g,setAddress:p})]}),e.showRemoveAddress?(0,s.tZ)(W,{children:(0,s.tZ)(O.Z,{selectedDeliveryLocation:e.selectedDeliveryLocation,onRemoveAddress:()=>{m(!0)}})}):null,(0,s.tZ)($.Z,{addressLabel:g,selectedDeliveryLocation:e.selectedDeliveryLocation,onAddressSaved:()=>{e.onAddressSaved(e.selectedDeliveryLocation)}})]})}var J=i(75241),Q=i(52298),K=i(83949),ee=i(34626),te=i(47986),ie=i(43978),ne=i(95747),oe=i(79609),re=i(74057),ae=i(37649),le=i(31809),de=i(84089),se=i(56899),ce=i(66041),he=i(59210),ge=i(55758),pe=i(46700),ue=i(1765),me=i(32857),ye=i(68065);const ve=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),Ze=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{borderRadius:t.borders.radius300,overflow:"hidden"}})),_e=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} ${t.sizing.scale800}`,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:t.sizing.scale600}})),fe=e=>{let{onBack:t,onConfirm:i,coordinates:o,pinConstraints:a}=e;const l=(0,w.ZP)(),[d,c]=n.useState(!0),[h,g]=n.useState(o),p=(0,r.T)(),u=p("location_manager.drop_off_pin_marker_title");return n.useEffect((()=>{l("eats:location_manager_pin_drop_impression")}),[l]),(0,s.BX)(s.HY,{children:[(0,s.tZ)(ve,{children:(0,s.tZ)(he.Jf,{margin:"0",children:p("location_manager.edit_mode_pin_title")})}),(0,s.tZ)(Ze,{children:(0,s.tZ)(ue.Z,{pinConstraints:a,coordinates:o,zoom:18,height:"480px",showZoomButtons:!0,markerLabel:u,draggable:!0,onChange:g,noZoomOnMouseWheelScroll:!0,setCanSubmit:c})}),(0,s.tZ)(he.aM,{marginTop:"scale600",marginBottom:"scale600",children:p("location_manager.edit_pin_description")}),(0,s.BX)(_e,{children:[(0,s.tZ)(me.Z,{onClick:t,kind:ye.TO.tertiary,children:p("back")}),(0,s.tZ)(me.Z,{disabled:!d,onClick:()=>{d&&i(h)},children:p("shared.confirm")})]})]})};var De=i(52754),Le=i(77947),Ie=i(36154),Te=i(66473),Se=i(85301),be=i(69955),Ce=i(92717),ze=i(1795),Pe=i(11841),ke=i(85427),xe=i(97130),Be=i("__fusion__1674"),Ee=i(19990),$e=i(3899);const Oe=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{color:t.colors.negative,display:"flex",alignItems:"center",justifyContent:"center"}})),Ve=e=>{let{placeId:t,provider:i}=e;const[o,r]=n.useState(!1),l=(0,Ee.F)(),d=()=>l.mutate({placeId:t,provider:i});return o?(0,s.tZ)(de.Z,{isOpen:!0,closeable:!1,size:se.NO.auto,children:(0,s.tZ)(ce.fe,{children:(0,s.tZ)($e.Z,{onKeepAddress:()=>r(!1),onRemoveAddress:d})})}):(0,s.tZ)(me.Z,{startEnhancer:()=>(0,s.tZ)(Oe,{children:(0,s.tZ)(Be.default,{size:"16"})}),onClick:()=>r(!0),kind:ye.TO.secondary,size:ye.NO.compact,shape:ye.X3.pill,children:(0,s.tZ)(a.v,{id:"components.address_entry.remove_address"})})};var we=i(22023),Xe=i(11362);const Ae=(0,d.w1)(ce.mz,(e=>{let{$theme:t}=e;return{gap:t.sizing.scale600,display:"flex",justifyContent:"flex-end"}})),Me=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale300}})),Ne=(0,d.zo)("div",{height:"600px"}),He=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600}})),Re=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} ${t.sizing.scale800}`,display:"flex",justifyContent:"flex-end",alignItems:"center",gap:t.sizing.scale600}})),Ye=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`0 ${t.sizing.scale600} 0 ${t.sizing.scale600}`}})),Fe=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0`}}));function Ue(e){const t=(0,w.ZP)(),i=e.selectedDeliveryLocationV2?.location?.id||"",o=e.selectedDeliveryLocationV2?.location?.provider||"",[a,l]=n.useState(!1),d=(0,Ce.z)({referenceInfo:{placeID:i,provider:o}},{queryObserverOptions:{staleTime:0}}),c=(0,r.T)(),h=c("location_manager.address_label_title"),g=c("components.delivery.add_a_label"),[p,u]=n.useState(!0),[m,y]=(0,T.useState)(e.selectedDeliveryLocationV2?.personalPayload?.label||""),{deliveryInstructionV2:v,setDeliveryInstructionV2:Z,setAddressInfo:_}=(0,E.a8)(),f=v?.interactionType||e.selectedDeliveryLocationV2?.deliveryPayload?.selectedInteractionType||Se.lq,D="unknown"===f?Se.lq:f,L=e.selectedDeliveryLocationV2?.deliveryPayload?.deliveryInstructions?.[D]?.pinDropInfo?.coordinate||e.selectedDeliveryLocationV2?.location?.coordinate||{},I=e.selectedDeliveryLocationV2?.deliveryConfig?.constraint,{ephemeralInstruction:S,setEphemeralInstruction:b,ephemeralInteractionType:C,setEphemeralInteractionType:z,goToEditDeliveryDetails:P,goToPinDrop:k,goToDropOff:x,isCurrentLocation:B}=(0,xe.X)({instruction:v?.deliveryNotes,interactionType:D}),[$,O]=n.useState(L),[V,X]=n.useState(!1);n.useEffect((()=>{if(p){const{deliveryPayload:t}=e.selectedDeliveryLocationV2||{},{deliveryInstructions:i,type:n}=t||{},o=i?.[D];"USER_INPUT_MISSING"===n&&l(!0),Z((e=>e?{...e,interactionType:D,...o}:{interactionType:D,...o})),u(!1)}}),[p,e.selectedDeliveryLocationV2,D,Z]);const A=e=>{O(e),R({pinDropInfo:{coordinate:e}}),P()},M=e.selectedDeliveryLocationV2?.deliveryConfig?.deliveryInteractionDetailsViewConfig||{},N=e.selectedDeliveryLocationV2?.deliveryConfig?.deliveryInstructionInputViewModels?.[D],H=()=>{R({interactionType:C,deliveryNotes:S}),P()},R=e=>{let{interactionType:t,deliveryNotes:i,pinDropInfo:n}=e;Z((e=>e?{...e,...t?{interactionType:t}:{},...n?{pinDropInfo:n}:{},deliveryNotes:i}:{...t?{interactionType:t}:{},...n?{pinDropInfo:n}:{},deliveryNotes:i}))};return n.useEffect((()=>{t("eats:location_manager_delivery_details_v2_impression")}),[t]),n.useEffect((()=>()=>{_(ke.jq),Z(null)}),[_,Z]),d?.isLoading||d?.isFetching?(0,s.tZ)(Ne,{children:(0,s.tZ)(ze.Z,{})}):"pindrop"===e.stepType?(0,s.tZ)(Ye,{children:(0,s.tZ)(fe,{coordinates:$,onConfirm:A,onBack:P,pinConstraints:I})}):"dropoff"===e.stepType?(0,s.BX)(Ye,{children:[(0,s.tZ)(Te.Z,{ephemeralInstruction:S,setEphemeralInstruction:b,setEphemeralInteractionType:z,ephemeralInteractionType:C,deliveryInteractionDetailsViewConfig:M}),(0,s.BX)(Ae,{children:[(0,s.tZ)(me.Z,{onClick:P,kind:ye.TO.tertiary,children:c("back")}),(0,s.tZ)(me.Z,{onClick:H,children:c("components.ConfirmMobile.update")})]})]}):(0,s.BX)(s.HY,{children:[(0,s.BX)(Ye,{children:[(0,s.tZ)(Me,{children:(0,s.tZ)(he.Jf,{margin:"0",children:c("location_manager.edit_mode_title")})}),(0,s.tZ)(pe.Z,{coordinates:$,onClick:k})]}),(0,s.tZ)(Ye,{children:(0,s.tZ)(Ie.Z,{getAddressEntryFormPayload:d?.data,shouldHighlightRequired:V,setShouldHighlightRequired:X})}),(0,s.tZ)(Fe,{children:(0,s.tZ)(we.I,{$size:Xe.N.module})}),(0,s.BX)(Ye,{children:[(0,s.tZ)(Le.Z,{selectedInteraction:D,deliveryInteractionViewConfig:e.selectedDeliveryLocationV2?.deliveryConfig?.deliveryInteractionViewConfig,onClick:x}),(0,s.tZ)(be.Z,{ephemeralInstruction:v?.deliveryNotes,onChange:e=>R({deliveryNotes:e}),deliveryInstructionInputViewModel:N})]}),(0,s.tZ)(Fe,{children:(0,s.tZ)(we.I,{$size:Xe.N.module})}),(0,s.tZ)(Ye,{children:(0,s.BX)(He,{children:[(0,s.tZ)(he.D9,{marginBottom:"scale300",marginTop:"scale600",children:h}),(0,s.tZ)(Pe.Z,{value:m,onChange:e=>y(e.target.value),placeholder:g,clearOnEscape:!0})]})}),a||B(e.selectedDeliveryLocationV2)?null:(0,s.tZ)(Ye,{children:(0,s.tZ)(Ve,{placeId:i,provider:o})}),(0,s.BX)(Re,{children:[(0,s.tZ)(me.Z,{onClick:e.onBack,kind:ye.TO.tertiary,children:c("back")}),(0,s.tZ)(De.Z,{selectedDeliveryLocationV2:e.selectedDeliveryLocationV2,getAddressEntryFormPayload:d?.data,onAddressSaved:e.onAddressSaved,label:m,setShouldHighlightRequired:X})]})]})}var qe=i(31704),je=i(13218),We=i(73057),Ge=i(45106);const Je=(0,d.w1)(we.I,{marginTop:"0"}),Qe=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} ${t.sizing.scale800}`,minHeight:"385px"}})),Ke=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} ${t.sizing.scale800}`}})),et=e=>{let{onAddressSaved:t,targetDiningMode:i,isSchedulable:o,deliveryDetails:a,guestCheckoutEnabled:l,isLoggedIn:d,deliveryTime:c,storeUuid:h}=e;const g=(0,Ge.Z)(),p=(0,r.T)(),u=(0,w.ZP)(),{goToEditDeliveryDetails:m}=(0,xe.X)(),{query:y,locations:v,isLoading:Z,highlightedIndex:_,showTryAgainMessage:f,reset:T,getItemProps:S,getMenuProps:b,getInputProps:C}=(0,ie.Z)({onLocationSelectedV2:e=>{const t=(0,je._W)(e?.location,e?.personalPayload);a.setSelectedDeliveryLocationV2(e),l||d?(m(),a.onTypeaheadLocationSelected(t)):a.saveDeliveryDetailsLoggedOut(t)},initialQuery:"",id:"location-manager",initialIsClosed:!0,overrideDiningMode:i}),z=()=>g?null:(0,s.BX)(s.HY,{children:[(0,s.tZ)(Je,{$size:Xe.N.module}),(0,s.tZ)(Ke,{children:(0,s.tZ)(he.fH,{margin:0,children:p("location_manager.schedule_title")})}),(0,s.tZ)(We.Z,{deliveryTime:c,storeUuid:h,isSchedulable:o})]});return n.useEffect((()=>{u("eats:location_manager_address_entry_impression")}),[u]),(0,s.tZ)(s.HY,{children:(0,s.BX)(I.Z,{children:[(0,s.tZ)(Ke,{children:(0,s.tZ)(L.Z,{query:y,getInputProps:C,reset:()=>{a.setShowDeliveryDetails(!1),T()},placeholder:p("location_manager.search_placeholder"),isLoading:Z,iconType:"Search",backgroundColor:"inputFill",borderStyle:"rounded",highlightFocus:!1})}),(l||d)&&""===y?(0,s.BX)(s.HY,{children:[(0,s.tZ)(Ke,{children:(0,s.tZ)(he.fH,{margin:0,children:p("location_manager.suggestions_section_title")})}),(0,s.tZ)(qe.Z,{deliveryLocations:a.deliveryLocationsV2,onAddressSaved:t,onEditClick:e=>{m(),a.setSelectedDeliveryLocationV2(e),a.onTypeaheadLocationSelected((0,je._W)(e.location,e.personalPayload))}}),(0,s.tZ)(z,{})]}):(0,s.tZ)(Qe,{children:(0,s.tZ)(D,{locations:v.data||[],getMenuProps:b,getItemProps:S,highlightedIndex:_,showTryAgainMessage:f,isOpen:!0})})]})})};var tt=i(91631);const it=(0,d.zo)("label",g.E2),nt=(0,d.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.HeadingLarge,marginBottom:"16px"}})),ot=(0,d.zo)("div",{margin:"0 -24px"}),rt=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale600} 0 ${t.sizing.scale800}`}})),at=e=>{const t=(0,o.TH)(),i=(0,tt.k6)(),d=(0,r.T)(),{guestCheckoutEnabled:c}=(0,B.Z)(),{deliveryLocation:h,deliveryTime:g}=(0,re.Z)(),{storeUuid:p="",isSchedulable:u=!0,stepType:m="",locationManagerOrigin:y=""}=(0,te.kPj)(e.modalContext||"")||{},{isAddressPickerRevampEnabled:v,goToEditDeliveryDetails:Z,redirectUrl:_}=(0,xe.X)(),f=(0,te.nyP)(t),T=(0,ge.d)(),S="edit"===m||"edit"===e.modalContext,b="feed"===y||"feed"===e.modalContext,C="store"===y||"store"===e.modalContext,z=t.state?.deliveryLocation,P="DELIVERY_LOCATION_MANAGER"===e.modalContext?"DELIVERY":T,k=z||h,x=(0,oe.Z)({deliveryLocation:k,disableRedirectToFeed:C,isEditMode:S}),{user:E}=(0,ee.Z)(),$="edit"===m||"pindrop"===m||"dropoff"===m,O=(0,ne.Z)(),V=E.data?.isLoggedIn||!1,w=e?.XP_OVERRIDES_DO_NOT_USE?.Title||nt,A=n.useCallback((()=>i.push(_({storeUuid:p,isSchedulable:Boolean(u)}))),[i,u,_,p]),M=()=>{if("dropoff"!==m&&"pindrop"!==m)if("edit"!==m){if(!v)return O((0,te.C45)(t));i.push((0,te.C45)(t))}else A();else Z()},N=i=>{if(!i)return;const n=e?.XP_OVERRIDES_DO_NOT_USE?.onLocationSelected;S||f||b?x.onDone(i):n?n?.(i):O((0,te.C45)((0,te.gOP)(t,i)))},{query:H,placeholder:R,locations:Y,isLoading:F,highlightedIndex:U,isOpen:q,showTryAgainMessage:j,openMenu:W,reset:pe,getItemProps:ue,getMenuProps:me,getInputProps:ye,getLabelProps:ve}=(0,ie.Z)({onLocationSelected:t=>{const i=e?.XP_OVERRIDES_DO_NOT_USE?.onLocationSelected;!c&&!V||C?x.saveDeliveryDetailsLoggedOut(t):(x.setShowDeliveryDetails(!0),x.onTypeaheadLocationSelected(t)),i?.(t)},initialQuery:"",id:"location-manager",initialIsClosed:!0,overrideDiningMode:P});return n.useEffect((()=>{$&&!x.selectedDeliveryLocationV2&&A()}),[x.selectedDeliveryLocationV2,A,i,$,u,_,p]),v?(0,s.BX)(de.Z,{onClose:M,closeable:!0,isOpen:!0,animate:!0,autoFocus:!0,size:se.NO.default,role:se.HB.dialog,overrides:{Dialog:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale1000}}},DialogContainer:{style:{alignItems:"flex-start"}}},children:[$?null:(0,s.tZ)(ce.xB,{children:(0,s.tZ)(he.Jf,{margin:"0",children:d("location_manager.modal_title")})}),(0,s.BX)(rt,{children:[(0,s.tZ)(ae.Z,{eventName:"eats:enter_delivery_address_start",eventPayload:{address:k?.address?.address1,latitude:k?.latitude,longitude:k?.longitude}}),$&&!C&&x.selectedDeliveryLocationV2?(0,s.tZ)(Ue,{onBack:()=>A(),selectedDeliveryLocationV2:x.selectedDeliveryLocationV2,onAddressSaved:N,stepType:m}):(0,s.tZ)(et,{deliveryDetails:x,deliveryTime:g,guestCheckoutEnabled:c,isLoggedIn:V,isSchedulable:Boolean(u),onAddressSaved:N,storeUuid:p,targetDiningMode:P})]})]}):(0,s.tZ)(l.ZP,{...x.showDeliveryDetails&&!S?{hasBackButton:!0,onClose:()=>{x.setShowDeliveryDetails(!1)}}:{backLocation:(0,te.C45)(t)},...e.XP_OVERRIDES_DO_NOT_USE?.dialogProps||{},children:(0,s.BX)(l.HF,{children:[(0,s.tZ)(ae.Z,{eventName:"eats:enter_delivery_address_start",eventPayload:{address:k?.address?.address1,latitude:k?.latitude,longitude:k?.longitude}}),x.showDeliveryDetails&&!C?(0,s.tZ)(G,{overrideDiningMode:P,selectedDeliveryLocation:x.selectedDeliveryLocation,ephemeralLocation:x.ephemeralLocation,ephemeralLocationInstruction:x.ephemeralLocationInstruction,onAddressSaved:N,onRemoveAddress:x.removeTaggedLocation,showRemoveAddress:(0,le.e)(x?.selectedDeliveryLocation,x?.taggedLocations?.data,h)}):(0,s.BX)(s.HY,{children:[(0,s.tZ)(w,{...e?.XP_OVERRIDES_DO_NOT_USE?.titleProps,children:(0,s.tZ)(X.Z,{diningMode:P,pickup:(0,s.tZ)(a.v,{id:"component.location_typeahead_mobile.pickup_near"}),delivery:(0,s.tZ)(a.v,{id:"component.location_typeahead_mobile.deliver_to"}),dineIn:(0,s.tZ)(a.v,{id:"component.location_typeahead_mobile.dine_in_near"})})}),(0,s.BX)(I.Z,{children:[(0,s.tZ)(it,{...ve(),children:d("shared.combobox.a11y_instructions")}),(0,s.tZ)(L.Z,{query:H,getInputProps:ye,reset:()=>{x.setShowDeliveryDetails(!1),pe()},placeholder:R,isLoading:F,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{W()}}),(c||V)&&""===H?(0,s.BX)(s.HY,{children:[(0,s.tZ)(Q.ZP,{$height:8}),(0,s.tZ)(ot,{children:(0,s.tZ)(J.Z,{taggedLocations:x.taggedLocations,onAddressSaved:N,onEditClick:e=>{x.setShowDeliveryDetails(!0),x.onTypeaheadLocationSelected(e)}})}),(0,s.tZ)(K.Z,{onDone:()=>O((0,te.C45)(t))})]}):(0,s.BX)(s.HY,{children:[(0,s.tZ)(Q.ZP,{$height:8}),(0,s.tZ)(D,{locations:Y.data||[],getMenuProps:me,getItemProps:ue,highlightedIndex:U,showTryAgainMessage:j,isOpen:q})]})]})]})]})})}}}]);