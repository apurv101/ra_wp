"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[4661],{67801:(e,t,E)=>{E.d(t,{Z:()=>o});var n=E(79810);const r=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{boxSizing:"border-box",display:"flex",flexDirection:"column",gap:t.sizing.scale300,width:"100%",paddingTop:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale600,paddingLeft:t.sizing.scale600,backgroundColor:t.colors.backgroundPrimary,container:"root / inline-size"}}));r.displayName="StyledRoot";const i=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale300,"@container root (inline-size > 600px)":{flexDirection:"row",justifyContent:"space-between"}}}));i.displayName="StyledActionContainer";const _=(0,n.zo)("div",(e=>{let{$reverseWhenWide:t,$theme:E}=e;return{display:"flex",flexDirection:"column",gap:E.sizing.scale300,"@container root (inline-size > 600px)":{flexDirection:t?"row-reverse":"row"}}}));_.displayName="StyledActionSubContainer";var R=E(92300),a=E(33990);const o=e=>{const{primaryAction:t,secondaryActions:E,dismissiveAction:n,topAccessory:o,overrides:O={}}=e,[l,T]=(0,R.jb)(O.Root,r),[c,s]=(0,R.jb)(O.ActionContainer,i),[S,N]=(0,R.jb)(O.ActionSubContainer,_);return(0,a.BX)(l,{...T,children:[o,(0,a.BX)(c,{...s,children:[(0,a.tZ)(S,{...N,children:E}),(0,a.BX)(S,{$reverseWhenWide:!0,...N,children:[t,n]})]})]})}},94722:(e,t,E)=>{E.d(t,{Us:()=>n});Object.freeze({NONE:"NONE",PILL:"PILL"}),Object.freeze({PLAIN:"PLAIN",BANNER:"BANNER"});const n=Object.freeze({UNKNOWN:"UNKNOWN",BOTTOM_SHEET:"BOTTOM_SHEET",COMPLETE_ORDER:"COMPLETE_ORDER",CALL_PHONE:"CALL_PHONE",REQUEST_ORDER_UPDATE:"REQUEST_ORDER_UPDATE",NAVIGATE_TO_STORE:"NAVIGATE_TO_STORE",TIP:"TIP",OPEN_MULTI_RESTAURANT_DRAWER:"OPEN_MULTI_RESTAURANT_DRAWER",MEMBERSHIP:"MEMBERSHIP",SHOW_ORDER_DETAILS:"SHOW_ORDER_DETAILS",ORDER_NOT_YET_READY:"ORDER_NOT_YET_READY",RIDE_TO_STORE:"RIDE_TO_STORE",AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE:"AUTONOMOUS_DELIVERY_UNLOCK_VEHICLE",AUTONOMOUS_DELIVERY_FIND_VEHICLE:"AUTONOMOUS_DELIVERY_FIND_VEHICLE",AUTONOMOUS_DELIVERY_CALL_OPERATOR:"AUTONOMOUS_DELIVERY_CALL_OPERATOR",AUTONOMOUS_DELIVERY_CONTACT_SUPPORT:"AUTONOMOUS_DELIVERY_CONTACT_SUPPORT",UPDATE_DELIVERY_INSTRUCTIONS:"UPDATE_DELIVERY_INSTRUCTIONS",BOOK_UBER_RIDE:"BOOK_UBER_RIDE",UPDATE_DELIVERY_ADDRESS:"UPDATE_DELIVERY_ADDRESS",UPDATE_INTERACTION_TYPE:"UPDATE_INTERACTION_TYPE",AUTONOMOUS_DELIVERY_RECEIVE_ORDER:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_CONFIRM",AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS:"AUTONOMOUS_DELIVERY_RECEIVE_ORDER_DISMISS",SCHEDULE_ORDER:"SCHEDULE_ORDER",VIEW_STORE:"VIEW_STORE",UPDATE_COMPLIANCE_CONSENTS:"UPDATE_COMPLIANCE_CONSENTS"});Object.freeze({TOP_CENTERED:"TOP_CENTERED",FULL_WIDTH:"FULL_WIDTH",FULL_HEIGHT:"FULL_HEIGHT"}),Object.freeze({UNKNOWN:"UNKNOWN",PRIMARY_STORE:"PRIMARY_STORE",ADD_ON_STORE:"ADD_ON_STORE"}),Object.freeze({UNKNOWN:"UNKNOWN",COPY:"COPY"}),Object.freeze({DYNAMIC_BOOKING_FEE:"DYNAMIC_BOOKING_FEE",BUSY_AREA_FEE:"BUSY_AREA_FEE",MEAL_VOUCHER:"MEAL_VOUCHER",ORDER_HISTORY:"ORDER_HISTORY",BANDWAGON:"BANDWAGON",ALLERGEN_DISCLAIMER:"ALLERGEN_DISCLAIMER",AGGREGATOR_STOREFRONT:"AGGREGATOR_STOREFRONT",UNKNOWN:"UNKNOWN",OTHER_FEES:"OTHER_FEES",SERVICE_FEES:"SERVICE_FEES",FEE_DISCLAIMER:"FEE_DISCLAIMER",BASKET_SIZE:"BASKET_SIZE",RESERVED_12:"RESERVED_12",RESERVED_13:"RESERVED_13",RESERVED_14:"RESERVED_14",RESERVED_15:"RESERVED_15",RESERVED_16:"RESERVED_16",RESERVED_17:"RESERVED_17"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED",REQUIRED_SINGLE_OPTION:"REQUIRED_SINGLE_OPTION",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({ANY_STORE:"ANY_STORE",IS_BASKET_FROM_SAME_STORE:"IS_BASKET_FROM_SAME_STORE",IS_BASKET_NOT_FROM_SAME_STORE:"IS_BASKET_NOT_FROM_SAME_STORE",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",TOP_EATS_PROMISE:"TOP_EATS_PROMISE",EATS_PROMISE:"EATS_PROMISE"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING"}),Object.freeze({NONE:"NONE",LINE:"LINE",SPACE:"SPACE"}),Object.freeze({UNKNOWN:"UNKNOWN",NO_RUSH_DELIVERY:"NO_RUSH_DELIVERY",STANDARD_DELIVERY:"STANDARD_DELIVERY",PREMIUM_DELIVERY:"PREMIUM_DELIVERY",ETD_SURGE_DELIVERY:"ETD_SURGE_DELIVERY",OPT_IN_TYPE_RESERVED_5:"OPT_IN_TYPE_RESERVED_5",OPT_IN_TYPE_RESERVED_6:"OPT_IN_TYPE_RESERVED_6",OPT_IN_TYPE_RESERVED_7:"OPT_IN_TYPE_RESERVED_7"})},4661:(e,t,E)=>{E.d(t,{P:()=>U,Z:()=>h});var n=E(52298),r=E(192),i=E(34567),_=E(22787),R=E(39010),a=E(36925),o=E(89400),O=E(52692),l=E(91931),T=E(62091),c=E(38217),s=E(67801),S=E(94292),N=E(31913),d=E(33990);const D=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600}})),I=(0,l.zo)("div",(e=>{let{$theme:t,$hasCenteredTitle:E=!0}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary,textAlign:E?"center":"left"}})),A=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),u=(0,l.zo)(T.Z,{objectFit:"cover",height:"200px",width:"100%"});function h(e){let{bottomSheet:t,onClose:E}=e;return(0,d.tZ)(a.ZP,{handleClick:E,children:(0,d.BX)(D,{children:[t.title?(0,d.tZ)(I,{children:t.title}):null,(0,d.tZ)(O.Z,{$margin:"16px -16px 0",$height:"2px"}),t.body?(0,d.BX)(A,{children:[(0,d.tZ)(n.ZP,{$height:16}),(0,d.tZ)(r.Z,{lines:t.body})]}):null,(0,d.tZ)(R.U,{paragraphs:t.paragraphs}),t.buttonText||t.secondaryButton?(0,d.tZ)(n.ZP,{$height:16}):null,t.buttonText?(0,d.BX)(d.HY,{children:[(0,d.tZ)(n.ZP,{$height:8}),(0,d.tZ)(i.Z,{onClick:E,children:t.buttonText})]}):null,t.secondaryButton?(0,d.BX)(d.HY,{children:[(0,d.tZ)(n.ZP,{$height:8}),(0,d.tZ)(_.Z,{$as:"a",href:t.secondaryButton.url,target:"_blank",children:t.secondaryButton.text})]}):null]})})}function U(e){let{metadata:t,bottomSheet:E,onClose:r,isOpen:i=!0,__invertIconColorOnDarkMode:_,closable:a=!0}=e;const l=E.secondaryButtonText&&E.url,{primaryButton:T,secondaryButton:h}=(0,S.Z)({metadata:t,bottomSheet:E,onClose:r}),U=()=>E?.title?.text?(0,d.tZ)(d.HY,{children:E.title.text}):E?.title?.richtext?(0,d.tZ)(N.ZP,{text:E?.title?.richtext}):null;return(0,d.BX)(c.R1,{onClose:r,isOpen:i,closeable:a,children:[E.heroImgUrl?(0,d.tZ)(u,{src:E.heroImgUrl}):null,(0,d.BX)(D,{children:[E.title?(0,d.tZ)(I,{$hasCenteredTitle:!E.heroImgUrl,children:(0,d.tZ)(U,{})}):null,E.heroImgUrl?null:(0,d.tZ)(O.Z,{$margin:"16px -16px 0",$height:"2px"}),E.body?(0,d.BX)(A,{children:[(0,d.tZ)(n.ZP,{$height:16}),(0,d.tZ)(o.Z,{badge:E.body})]}):null,(0,d.tZ)(R.U,{paragraphs:E.paragraphs,__invertIconColorOnDarkMode:_}),E.buttonText||l?(0,d.tZ)(n.ZP,{$height:16}):null]}),(0,d.tZ)(s.Z,{primaryAction:T,dismissiveAction:h})]})}},39010:(e,t,E)=>{E.d(t,{U:()=>N});var n=E(91931),r=E(62091),i=E(52909),_=E(33990);const R=(0,n.zo)("li",{display:"flex",alignItems:"center"}),a=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale700,paddingRight:t.sizing.scale700,paddingBottom:t.sizing.scale700}})),o=(0,n.zo)(r.Z,(e=>{let{$theme:t,$invertColor:E}=e;return{width:t.sizing.scale800,minWidth:t.sizing.scale800,height:"auto",minHeight:t.sizing.scale800,...E?{filter:"invert(100%)"}:{}}})),O=(0,n.zo)("div",(e=>({...e.$isBold?e.$theme.typography.LabelMedium:e.$theme.typography.ParagraphMedium,display:"flex",justifyContent:"space-between"}))),l=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:t.sizing.scale100,marginRight:t.sizing.scale300,marginLeft:t.sizing.scale300}})),T=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),c=(0,n.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginBottom:t.sizing.scale100}})),s=(0,n.zo)("ul",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600}}));function S(e){return(0,_.BX)(l,{children:[e.endTitleIconUrl?(0,_.tZ)(r.Z,{src:e.endTitleIconUrl,width:"16",height:"16"}):null,e.endTitle]})}const N=e=>{const{themeId:t}=(0,i.aG)(),E="dark"===t;return(0,_.tZ)(s,{children:e.paragraphs?e.paragraphs.map((t=>(0,_.BX)(R,{children:[t.iconUrl?(0,_.tZ)(a,{children:(0,_.tZ)(o,{src:t.iconUrl,$invertColor:Boolean(e.__invertIconColorOnDarkMode&&E)})}):null,(0,_.BX)("div",{children:[(0,_.BX)(O,{$isBold:t.isTitleBold||!1,children:[(0,_.tZ)(c,{children:t.title}),t.endTitle?(0,_.tZ)(S,{endTitle:t.endTitle,endTitleIconUrl:t.endTitleIconUrl}):null]}),(0,_.tZ)(T,{children:t.subtitle})]})]},t.title))):null})}},94292:(e,t,E)=>{E.d(t,{Z:()=>h});var n=E(32857),r=E(68065),i=E(43193),_=E(94722);const R=(e,t)=>t[e||_.Us.UNKNOWN];var a=E(58984),o=E(74622),O=E(62459);var l=E(33535),T=E(34626),c=E(80886),s=E(31139),S=E(99990),N=E(49398),d=function(e){return e[e.COMPLIANT=1]="COMPLIANT",e[e.DEFERRED=2]="DEFERRED",e[e.NONCOMPLIANT=0]="NONCOMPLIANT",e}(d||{});function D(e){let{metadata:t}=e;const E=function(e){const t=(0,O.Z)("updateComplianceV1");return(0,o.useMutation)((e=>t.request("updateComplianceV1",e)),e)}(),n=t?.DisclosureVersionUUID||"",r=d.COMPLIANT,{store:i}=(0,S.QT)(),_=(0,l.ZP)(),{store:R}=(0,s.e3)(),D=(0,a.I0)(),I=Array.isArray(i)?i[0].data:i.data,A=Array.isArray(R)?R[0].data:R.data,{user:u}=(0,T.Z)(),h=u.data?.isLoggedIn;return h?async()=>{_("eats:age_gate_user_has_a_valid_age"),D((0,c.C5)({isOpen:!1})),n&&await E.mutateAsync({compliance:r,disclosureVersionUuid:n})}:()=>{_("eats:age_gate_user_has_a_valid_age"),(0,N.bs)(I||A),D((0,c.C5)({isOpen:!1}))}}var I=E(69744);var A=E(33990),u=function(e){return e.SUCCESS="success",e.ERROR="error",e.LOADING="loading",e.IDLE="idle",e}(u||{});function h(e){let{metadata:t,bottomSheet:E,onClose:a}=e;const o=function(e){let{metadata:t}=e;const E=D({metadata:t});return{[_.Us.UPDATE_COMPLIANCE_CONSENTS]:E,[_.Us.BOTTOM_SHEET]:I.Z,[_.Us.UNKNOWN]:I.Z}}({metadata:t}),[O,l]=i.useState(u.IDLE),T=O===u.LOADING,c=E.secondaryButtonText?(0,A.tZ)(n.Z,{kind:r.TO.tertiary,size:r.NO.large,onClick:async()=>{const e=R(E.secondaryActionType,o);e&&await e(),a()},disabled:T,children:E.secondaryButtonText}):null,s=E.url?(0,A.tZ)(n.Z,{kind:r.TO.tertiary,size:r.NO.large,$as:"a",href:E.url,target:"_blank",disabled:T,children:E.secondaryButtonText}):c;return{primaryButton:E.buttonText?(0,A.tZ)(n.Z,{size:r.NO.large,onClick:async()=>{const e=R(E.primaryActionType,o);if(e)try{l(u.LOADING),await e(),l(u.SUCCESS),a()}catch(e){a()}},isLoading:T,disabled:T,children:E.buttonText}):null,secondaryButton:s}}},49398:(e,t,E)=>{E.d(t,{bs:()=>i,m4:()=>_});var n=E(61127),r=E(68799);const i=e=>{const t=(0,r.Z7)("uev2.age-gating.dateOfConsent"),E=e?.cityId,i=e.storeMerchantTypeInfo?.uberMerchantType?.type,_=`${E}|${i}`;(0,n.Z)(t)?(0,r.pc)("uev2.age-gating.dateOfConsent",{[_]:Date.now()}):(t[_]=Date.now(),(0,r.pc)("uev2.age-gating.dateOfConsent",t))},_=e=>{const t=(e=>{const t=(0,r.Z7)("uev2.age-gating.dateOfConsent");if((0,n.Z)(t))return null;const E=e?.cityId,i=e.storeMerchantTypeInfo?.uberMerchantType?.type;return t[`${E}|${i}`]||null})(e);if(!t)return!0;const E=new Date(t).getTime();return(new Date).getTime()-E>2592e6}}}]);