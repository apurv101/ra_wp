(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[52627],{90985:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var i=a(92300),r=a(95958),o=a(48700),n=a(42209),s=a(33990);const u=t=>{let{children:e,content:a,color:u,shape:d=o.X3.rectangle,placement:c=o.r4.topRight,hierarchy:l,horizontalOffset:m,verticalOffset:p,hidden:I,overrides:y={}}=t;const[h,g]=(0,i.jb)(y.Badge,r.j8),[f,A]=(0,i.jb)(y.Root,r.Fp),[T,b]=(0,i.jb)(y.Positioner,r.x5),C=(0,n.u)(e);o.r4.topLeft,o.r4.topRight,o.r4.bottomRight,o.r4.bottomLeft;return C?(0,s.BX)(f,{...A,children:[C,(0,s.tZ)(T,{$horizontalOffset:m,$verticalOffset:p,$placement:c,$role:o.HB.badge,...b,children:(0,s.tZ)(h,{$hierarchy:l,$shape:d,$color:u,$hidden:I,...g,children:a})})]}):(0,s.tZ)(h,{$hierarchy:l,$shape:d,$color:u,$hidden:I,...g,children:a})}},71454:t=>{t.exports=function(t,e,a){var i=!1,r=!1;return function(){r=a&&!i;var o=this,n=arguments;if(i||(i=!0,setTimeout((function(){if(i=!1,!a)return t.apply(o,n)}),e)),r)return r=!1,t.apply(this,arguments)}}},74334:(t,e,a)=>{"use strict";a.d(e,{Ou:()=>o,fi:()=>i,vZ:()=>r});Object.freeze({UNKNOWN:"UNKNOWN",LEADING:"LEADING",TRAILING:"TRAILING"});const i=Object.freeze({UNKNOWN:"UNKNOWN",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",TERTIARY:"TERTIARY"}),r=Object.freeze({UNKNOWN:"UNKNOWN",HIERARCHY_DEFAULT:"HIERARCHY_DEFAULT",ACCENT:"ACCENT",NEGATIVE:"NEGATIVE",POSITIVE:"POSITIVE",WARNING:"WARNING"}),o=Object.freeze({UNKNOWN:"UNKNOWN",PILL:"PILL",RECTANGLE:"RECTANGLE"})},10400:(t,e,a)=>{"use strict";a.d(e,{F8:()=>i,Yj:()=>o,oN:()=>r});const i=Object.freeze({UNKNOWN:"UNKNOWN",AVAILABLE:"AVAILABLE",LIKELY_UNAVAILABLE:"LIKELY_UNAVAILABLE",UNAVAILABLE:"UNAVAILABLE",PLACEHOLDER_1:"PLACEHOLDER_1",PLACEHOLDER_2:"PLACEHOLDER_2"}),r=(Object.freeze({GRID:"GRID",LIST:"LIST"}),Object.freeze({TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"})),o=Object.freeze({UNKNOWN:"UNKNOWN",TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"});Object.freeze({UNKNOWN:"UNKNOWN",IN_STORE_SEARCH:"IN_STORE_SEARCH",QUICK_ADD_ITEM_FEED_CAROUSEL:"QUICK_ADD_ITEM_FEED_CAROUSEL"}),Object.freeze({FIT:"FIT",CENTER_CROP:"CENTER_CROP"})},11849:(t,e,a)=>{"use strict";a.d(e,{Z:()=>h});var i=a(12517),r=a(31913),o=a(48700),n=a(74334),s=a(8639);const u={[n.Ou.PILL]:o.X3.pill,[n.Ou.RECTANGLE]:o.X3.rectangle};const d={[n.fi.PRIMARY]:o.T5.primary,[n.fi.SECONDARY]:o.T5.secondary};const c={[n.vZ.POSITIVE]:o.r$.positive,[n.vZ.ACCENT]:o.r$.accent,[n.vZ.NEGATIVE]:o.r$.negative,[n.vZ.WARNING]:o.r$.warning};var l=a(89217),m=a(36278),p=a(91931),I=a(91483),y=a(33990);function h(t){let{viewModel:e}=t;const{content:a,hierarchy:n,color:h,shape:g,accessibilityText:f}=e,[A,T]=(0,p.hQ)(),b=function(t){return t&&u[t]||o.X3.rectangle}(g),C=function(t){return t&&d[t]||o.T5.primary}(n);let U=null;"standard"===h?.type&&(U=h.standard);const D=function(t){return t&&c[t]||o.r$.accent}(U),k={Badge:{style:{...function(t,e){let a={};if("custom"===t?.type){const i=t&&"custom"in t?t.custom:null,r=(0,s.Lq)(i?.contentColor),o=(0,s.Lq)(i?.backgroundColor);a={color:e?.colors[`${r}`],backgroundColor:e?.colors[`${o}`]}}return a}(h,T),maxWidth:"100%",width:"fit-content"}}};let N=null;switch(a.type){case"richText":{const t=(0,I._M)(a.richText),e=(0,s.Lq)(t);N=(0,y.tZ)("span",{className:A({maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",...e?{color:T.colors[e]}:null}),children:(0,y.tZ)(r.ZP,{text:a.richText,whiteSpace:"nowrap"})});break}case"standard":{const t=a.standard.iconContent?.icon?{richIllustration:{illustration:{type:"icon",icon:{icon:a.standard.iconContent.icon,dimensions:{width:{type:"pointValue",pointValue:12},height:{type:"pointValue",pointValue:12}}}},accessibilityText:a.standard.iconContent?.accessibilityText||""}}:{richIllustration:null};N=(0,y.BX)(y.HY,{children:["LEADING"===a.standard.iconContent?.iconLayout?(0,y.BX)(y.HY,{children:[(0,y.tZ)(l.SZ,{...t}),(0,y.tZ)(m.Q3,{})]}):null,a.standard.title,"TRAILING"===a.standard.iconContent?.iconLayout?(0,y.BX)(y.HY,{children:[(0,y.tZ)(m.Q3,{}),(0,y.tZ)(l.SZ,{...t})]}):null]});break}default:return null}return(0,y.tZ)(i.Ct,{color:D,shape:b,hierarchy:C,content:N,overrides:k,...f?{"aria-label":f}:{}})}},12517:(t,e,a)=>{"use strict";a.d(e,{Ct:()=>o});var i=a(90985),r=a(33990);function o(t){return(0,r.tZ)(i.Z,{...t})}},74701:(t,e,a)=>{"use strict";a.d(e,{j:()=>u});var i=a(36151),r=a(74954),o=a(88671),n=a(64388);var s=a(58984);const u=t=>{const e=(0,r.iQ)(),[a]=(0,i.useState)((()=>"storeId"===t.getCartFrom?e.getQueueFromCache({type:"storeId",storeId:t.storeId}):e.getQueueFromCache({type:"cartId",cartId:t.draftOrderId}))),u=(0,i.useCallback)((t=>a.subscribe(t)),[a]),d=(0,i.useSyncExternalStore)(u,(()=>a.getSnapshot()),(()=>a.getSnapshot())),c=(0,s.I0)(),l=d.rawCartData?.draftOrder?.restaurantUUID,{store:m}=(0,n.ZP)(l),p=(0,i.useRef)(null);p.current=m;const I=(0,o.k)(),y=(0,i.useRef)(null);y.current=I;const h=(0,i.useCallback)((t=>((t=>!(!t||"object"!=typeof t)&&"name"in t)(t)&&(t=>["ADD_ITEM_UNKNOWN","DELETE_ITEM_UNKNOWN","UPDATE_ITEM_UNKNOWN","UNKNOWN"].includes(t.name))(t)&&p.current&&(c({type:"ADD_ITEMS_TO_DRAFT_ORDER_V2_FAILURE",payload:t.error}),y.current?.(!1,t.error,!1,p.current)),Promise.reject(t))),[y,p,c]);return(0,i.useMemo)((()=>{if("FETCHING"===e.state)return{status:"LOADING"};const t=d.rawCartData?.preCheckoutBundling?.otherOrdersInBundle?.map((t=>{const a=e.getQueueFromCache({type:"storeId",storeId:t.storeId});return{role:t.role,rawCartData:a.getSnapshot().rawCartData}})).filter((t=>t.rawCartData))??[],i=t.length>0?{type:"BUNDLED",otherOrders:t}:{type:"DEFAULT"};switch(d.status){case"OUTDATED":case"UPDATING":return{status:"OUTDATED",appearance:i,rawCartData:d.rawCartData};case"INACTIVE":return{status:"LOADING"};case"DELETING_CART":return{status:"DELETING",rawCartData:d.rawCartData,actions:{editQuantityInCart:async t=>a.pushInteraction({type:"CREATE_CART",payload:t}).catch(h)}};case"MISSING_CART":return{status:"MISSING",actions:{editQuantityInCart:async t=>a.pushInteraction({type:"CREATE_CART",payload:t}).catch(h)}};case"CREATING_CART":return{status:"CREATING",rawCartData:d.rawCartData,actions:{editQuantityInCart:async t=>a.pushInteraction({type:"EDIT_ITEM_QUANTITY",payload:t}).catch(h)}};case"IN_SYNC":case"OUT_OF_SYNC":case"SYNCING":return{status:"SYNCING"===d.status?"SYNCING":"AVAILABLE",rawCartData:d.rawCartData,actions:{editQuantityInCart:async t=>a.pushInteraction({type:"EDIT_ITEM_QUANTITY",payload:t}).catch(h),deleteCart:async()=>a.pushInteraction({type:"DELETE_CART",payload:{}}).catch(h)},appearance:i}}}),[a,e,d,h])}},62938:(t,e,a)=>{"use strict";a.d(e,{Z:()=>n});var i=a(69694),r=a(84272),o=a(47885);const n=()=>{const{isStorePrecheckoutBundlingEnabled:t}=(0,o.Z)(),{primaryBundledStoreUuid:e}=(0,r.Z)(),{draftOrder:a,cart:n}=(0,i.Z)(e);return{shouldShowBundleItemAddedFirstDialog:t&&e&&!(a&&n?.data?.items?.length)}}},29495:(t,e,a)=>{"use strict";a.d(e,{Z:()=>bt});var i=a(36151),r=a(43193),o=a(91931),n=a(6703),s=a(58984),u=a(15070),d=(a(37566),a(47986)),c=a(88671),l=a(64388),m=a(91631),p=a(33535),I=a(67476),y=(a(87444),a(66958)),h=a(79517),g=a(57597),f=(a(95768),a(69630)),A=a(62149),T=a(33990);(0,o.zo)("div",(t=>{let{$theme:e}=t;return{borderRadius:e.borders.pillButtonBorderRadius,border:`1px solid ${e.colors.buttonPrimaryText}`,boxShadow:e.shadows.floatingButton}}));var b=a(88885),C=a(78422),U=a(68093),D=a(34567),k=a(52909);const N=(0,o.zo)("div",(t=>{let{$theme:e,$closeAnimation:a,$isDark:i}=t;return{cursor:"auto",display:"flex",alignItems:"center",background:i?e.colors.backgroundInversePrimary:e.colors.backgroundPrimary,border:`2px solid ${i?e.colors.backgroundInversePrimary:e.colors.backgroundPrimary}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:e.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...a?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),S=(0,o.zo)("div",(t=>{let{$theme:e,$size:a,$isDark:i}=t;return{..."small"===a?e.typography.LabelSmall:e.typography.LabelLarge,width:"max-content",paddingLeft:"small"===a?"2px":"16px",paddingRight:"small"===a?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:i?e.colors.contentInversePrimary:e.colors.contentPrimary}})),E=(0,o.zo)("button",(t=>{let{$theme:e,$size:a,disabled:i,$isDark:r}=t;return{borderRadius:e.borders.pillButtonBorderRadius,color:r?e.colors.contentInversePrimary:e.colors.contentPrimary,background:r?e.colors.backgroundInversePrimary:e.colors.backgroundPrimary,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===a?"34px":"36px",height:"small"===a?"34px":"36px",minHeight:""+("small"===a?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:r?e.colors.backgroundInverseSecondary:e.colors.backgroundSecondary}},":active":{background:r?e.colors.backgroundInverseSecondary:e.colors.backgroundSecondary},...i&&{color:e.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:e.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:r?e.colors.backgroundInverseSecondary:e.colors.backgroundSecondary}},":active":{background:r?e.colors.backgroundInverseSecondary:e.colors.backgroundSecondary}}}})),v=t=>{const e=(0,g.Z)({item:t.item,storeUuid:t.storeUuid,cartQuantity:t.quantity}),{themeId:a}=(0,k.aG)(),i=(0,y.jx)(t.item),r=(0,y.L5)(t.item),o=r.increment??1,n=null!=r.minimumQuantity?r.minimumQuantity:1;return(0,T.BX)(N,{$closeAnimation:t.closeAnimation,$isDark:"dark"===a,children:[(0,T.tZ)(E,{"data-test":"quick-add-minus",disabled:Boolean(t.isDisabled),onClick:()=>{t.updateQuantity(h.Tf.from(o).multiply(-1).toBaseDecimal())},$size:t.size,$isDark:"dark"===a,children:t.quantity<=n?(0,T.tZ)(C.Z,{name:"TrashCanFilled",size:"small"===t.size?16:20}):(0,T.tZ)(C.Z,{name:"MinusSmallFilled",size:"small"===t.size?16:20})}),i?(0,T.BX)(S,{$size:t.size,"data-test":"quick-add-quantity",$isDark:"dark"===a,children:[t.quantity," ",(0,y.YP)(t.item)]}):(0,T.tZ)(S,{$size:t.size,"data-test":"quick-add-quantity",$isDark:"dark"===a,children:t.quantity}),(0,T.tZ)(E,{$size:t.size,"data-test":"quick-add-plus",disabled:Boolean(t.isDisabled)||e()!==g.y.BELOW_LIMIT,onClick:()=>{t.updateQuantity(h.Tf.from(o).toBaseDecimal())},$isDark:"dark"===a,children:(0,T.tZ)(C.Z,{name:"PlusSmallFilled",size:"small"===t.size?16:20})})]})};var O=a(16797),L=a(13427);const B=t=>{let{storeUUID:e,sectionUUID:a,subsectionUUID:r,item:o,quantity:u,decimalQuantity:c,updateQuantity:l,cartItemCount:I,closeAnimation:b,closeStepper:C,isDifferentStoreFromCart:U,isPerformingCartUpdate:D,addToCart:k,increment:N,decrement:S,quickAddCount:E,updateDecimalQuantity:B,debouncedQuickAddCount:R,quickAddSource:x,isLowAvailabilityItem:_,sourceType:q,analytics:Q,searchTerm:Z,size:z}=t;const P=(0,m.k6)(),w=(0,m.UO)(),$=(0,A.TH)(),G=(0,s.I0)(),M=(0,f.Z)(),F=(0,p.ZP)(),W=(0,d.li$)($,{...(0,d.x9r)(w),sectionUuid:a,itemUuid:o.uuid||""}),V=(0,L.Z)(),H=o?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1,K=(0,i.useRef)((t=>{G((0,n.px)({storeUUID:e,item:o,quantity:t,sectionUUID:a,subsectionUUID:r})),P.push(W)})),Y=(0,i.useRef)({addToCart:k,increment:N,decrement:S,updateDecimalQuantity:B,isPerformingCartUpdate:D,debouncedQuantity:R.integer});Y.current={addToCart:k,increment:N,decrement:S,updateDecimalQuantity:B,isPerformingCartUpdate:D,debouncedQuantity:R.integer};const j=(0,g.Z)({item:o,storeUuid:e,cartQuantity:u}),X=(0,i.useCallback)(((t,e)=>{"number"==typeof t?t>e?Y.current.increment(t-e):t<e&&Y.current.decrement(e-t):Y.current.updateDecimalQuantity(t)}),[Y]),J=(0,i.useRef)({quantity:u,decimalQuantity:c,cartItemCount:I});J.current={quantity:u,decimalQuantity:c,cartItemCount:I},(0,i.useEffect)((()=>{const t=K;return()=>{V&&!b&&J.current.quantity>0&&0===J.current.cartItemCount&&0===Y.current.debouncedQuantity||J.current.quantity!==J.current.cartItemCount&&Y.current.debouncedQuantity!==J.current.quantity&&(M&&U?(Y.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:q,actionMeta:{isQuickAdd:!0,quickAddSource:x},itemPosition:H}),G((0,n.OA)())):U?U&&t.current(J.current.quantity):X(J.current.decimalQuantity,J.current.cartItemCount))}}),[X,U,M,K,G,x,V,b,q,H]),(0,i.useEffect)((()=>{if(I!==R.integer&&(!Y.current.isPerformingCartUpdate||0!==I))return 0!==I?X(R.decimal,I):void(b||(Y.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:q,actionMeta:{isQuickAdd:!0,quickAddSource:x},itemPosition:H}),G((0,n.OA)())))}),[U,I,X,o,M,b,R,G,x,q,H]);const tt=(0,y.L5)(o),et=(0,i.useCallback)((t=>{const i=h.Tf.from(t).toFloat();let n="number"==typeof t?E.integer+t:h.Tf.from(E.decimal).add(t).toBaseDecimal();if("number"!=typeof n&&tt.minPermitted&&h.Tf.from(n).isLt(tt.minPermitted)&&(n=h.Tf.from(0).toBaseDecimal()),i>0&&j({increment:i,showSnackbarWarning:!0})===g.y.ABOVE_LIMIT)return;l(o.uuid||"",n);const s=i>0?"increment":"decrement";if(F("eats:quick_add_button_tap",{quickAddOperation:{storeUuid:e,itemUuid:o.uuid||"",previousQuantity:u,updatedQuantity:u+i,operationType:s,searchTerm:Z||"",lowAvailabilityItemUuid:_&&o?.uuid||"",catalogSectionUuid:a,sectionUuid:a,subsectionUuid:r,...q?{sourceType:q}:{},...Q?.catalogSection?{catalogSectionAnalyticsData:Q.catalogSection}:{}},analyticsLabel:"analyticsLabel"in o&&o.analyticsLabel?o.analyticsLabel:void 0}),i>0&&"itemAd"in o){const t=o;F("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:O.J.CLICK,adImpressionUUID:t.itemAd?.impressionId||"",adData:t.itemAd?.adData||"",bidderUUID:e}})}("number"==typeof n?n<=0:n?.base<=0)&&C()}),[E.integer,E.decimal,tt.minPermitted,j,l,o,F,e,u,Z,_,a,r,q,Q?.catalogSection,C]);return(0,T.tZ)(v,{item:o,storeUuid:e,quantity:u,closeAnimation:b,updateQuantity:et,size:z})};var R=a(53213),x=a(10400),_=a(70247),q=a(53176),Q=a(33967),Z=a(32830),z=a(49723);var P=a(62938),w=a(11189),$=a(54669);const G=(0,o.zo)("div",(t=>{let{$theme:e,$isOpen:a}=t;return{border:a?"none":`1px solid ${e.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:e.borders.pillButtonBorderRadius}})),M=(0,o.zo)("div",(t=>{let{$theme:e,$size:a}=t;return{..."small"===a?e.typography.LabelSmall:e.typography.LabelLarge,color:e.colors.quickAddButtonColor}})),F=(0,o.w1)(D.Z,(t=>{let{$theme:e,$size:a}=t;return{height:"small"===a?"32px":"36px",minWidth:"small"===a?"32px":"36px",minHeight:0,padding:"2px 4px",background:e.colors.quickAddButtonBackground,color:e.colors.quickAddButtonColor,":hover":{background:e.colors.quickAddButtonBackgroundHover},":active":{background:e.colors.quickAddButtonBackgroundActive}}})),W=t=>{let{item:e,subsectionUUID:a,storeUUID:o,sectionUUID:g,cartItemCount:D,cartItemDecimalCount:k,syncItemQuantity:N,quickAddCount:S,disabled:E,quickAddSource:v,isInteractionEnabled:O=!0,itemAvailabilityState:W,sourceType:V,storeSlug:H="",analytics:K,onClickEvent:Y,searchTerm:j,size:X,resultIndex:J}=t;const tt=(0,s.I0)(),et=S.integer,[at,it]=(0,i.useState)(!1),rt=(0,b.T)(),[ot,nt]=r.useState(!1),st=r.useRef(null),{store:ut}=(0,l.ZP)(o,{cacheOnly:!0}),dt=(0,A.TH)(),ct=(0,A.UO)(),lt=(0,c.k)(),mt=(0,m.k6)(),pt=(0,p.ZP)(),{canEditGroupOrderCart:It}=(0,I.Z)(o),yt=(0,y.ne)(e),{itemQueue:ht}=(0,u.v)((t=>t.quickAdd)),{draftOrder:gt}=(0,_.Dz)(),ft=gt?.storeUuid,At=(0,f.Z)(),{storeSlug:Tt}=(0,d.WxO)(ct),{shouldShowBundleItemAddedFirstDialog:bt}=(0,P.Z)(),Ct=(0,L.Z)(),Ut=(0,$.Z)(),Dt=(0,d.yz4)({location:dt,args:{sectionUuid:g,subsectionUuid:a,itemUuid:e.uuid||"",storeUuid:o||"",storeSlug:H||Tt||""}}),kt=(0,i.useCallback)((()=>{it(!0),setTimeout((()=>{nt(!1),it(!1)}),200)}),[]);(0,R.Z)(st,(()=>{ot&&kt()}),!0);const Nt=(0,i.useCallback)(((t,e,a)=>{const i=e?.meta?.type||e?.meta?.body?.code;if(e&&pt("eats:store_quick_add_error",{storeUuid:o,error:e}),"DRAFT_ORDER_VALIDATION_ERROR"===i||"CREATE_DRAFT_ORDER_VALIDATION_ERROR"===i||"ORDER_ALERT_ERROR"===i)return lt(!1,e,!1,ut)}),[lt,pt,ut,o]),{increment:St,decrement:Et,updateDecimalQuantity:vt,addToCart:Ot,isDifferentStoreFromCart:Lt,serverCart:Bt}=(t=>{let{storeUuid:e,item:a,quantity:r,sectionUuid:o,subsectionUuid:u,onAddedToCart:d,decimalQuantity:c,quickAddSource:m,analytics:p,resultIndex:I,sourceType:y}=t;const{store:h}=(0,l.ZP)(e,{cacheOnly:!0}),g=(0,Q.Z)(!0),{serverCart:f}=(0,_.iQ)(),A=(0,s.I0)(),T=f.data?.groupedItems,{outOfItemAction:b}=(0,z.Z)(),C=(0,i.useMemo)((()=>(((T||[]).find((t=>t.isCurrentUser))||{}).items||[]).filter((t=>t.uuid===a.uuid))),[T,a.uuid]),U=(0,i.useMemo)((()=>(0,Z.Z)(C.map((t=>{let{quantity:e}=t;return e})))),[C]),D=a.isLegacy?a.description:a.itemDescription,k={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(a.price),title:String(a.title),uuid:a.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(a.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:o,subsectionUuid:u,itemDescription:D??"",purchaseInfo:a.purchaseInfo}},N="itemAd"in a?a.itemAd:null,{addToCart:S}=(0,q.Z)({store:h,menuItem:k,selectedCustomizations:{},quantity:r,specialInstructions:"",outOfItemAction:b,onAddedToCart:d,decimalQuantity:c,itemAd:N,analytics:{catalogSection:p?.catalogSection},resultIndex:I,sourceType:y}),E=Boolean(f?.hasLoaded&&h.hasLoaded&&f.data?.items?.length&&f?.data?.storeUuid!==h?.data?.uuid),v=(t,e)=>{e?g(e,t,{isQuickAdd:!0},y):S({isStartingNewOrder:E,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:m}}),A((0,n.OA)())},O=(0,i.useMemo)((()=>C.sort(((t,e)=>new Date(e.createdTimestamp??0)-new Date(t.createdTimestamp??0)))),[C]);return{addToCart:S,increment:t=>{const e=O[0];v(t+(e?.quantity||0),e?.shoppingCartItemUuid)},decrement:t=>{let e=t;for(let t=0;t<O.length;t++){const a=O[t];if(a){if(0===e)return;if(a.quantity>=e){v(a.quantity-e,a.shoppingCartItemUuid);break}e-=a.quantity,v(0,a.shoppingCartItemUuid)}}},updateDecimalQuantity:t=>{const e=O[0];t.base<=0?v(0,e?.shoppingCartItemUuid):v(t,e?.shoppingCartItemUuid)},cartItemMatch:C,cartItemQuantity:U,serverCart:f,isDifferentStoreFromCart:E}})({storeUuid:o,item:e,quantity:et,sectionUuid:g,subsectionUuid:a,onAddedToCart:Nt,decimalQuantity:S.decimal,quickAddSource:v,analytics:K,resultIndex:J,sourceType:V});(0,i.useEffect)((()=>{const t=h.Tf.maybeFrom(k)?.toFloat();(Ct?yt?N&&t!==et:N&&D!==et:N&&D!==et&&(!yt||k))&&tt((0,n.$R)(o,e.uuid||"",k||D))}),[e,yt,k,N,D,e.uuid,tt,et,o,Ct]);const Rt=(0,d.li$)(dt,{sectionUuid:g,subsectionUuid:a,itemUuid:e.uuid||"",storeUuid:o||"",storeSlug:H||Tt||""}),xt=(0,U.Z)(S,1e3),_t=W===x.F8?.LIKELY_UNAVAILABLE;if(!It)return null;return(0,T.tZ)(G,{onClick:t=>{if((!Ut||e.hasCustomizations)&&0===et)return;if(!O)return;if(t.preventDefault(),t.stopPropagation(),E)return;const i=(0,y.L5)(e),r=i.defaultDecimal||h.Tf.from(1).updateExponent(i.increment?.exponent||0).toBaseDecimal();return bt?mt.push((0,w.p9)(dt)):Lt&&!At?(tt((0,n.px)({storeUUID:o,item:e,quantity:r,sectionUUID:g,subsectionUUID:a})),mt.push(Rt)):ft!==o&&Boolean(ht.length)&&ht[0]!==e.uuid?mt.push(Dt):ft===o||ht.length||!Bt.isLoading||ot?(nt(!0),void(0===et&&(tt((0,n.$R)(o,e.uuid||"",r)),tt((0,n.O7)(e.uuid))))):mt.push(Dt)},ref:st,$isOpen:ot,children:ot?(0,T.tZ)(B,{storeUUID:o,sectionUUID:g,subsectionUUID:a,item:e,quantity:et,updateQuantity:(t,e)=>{tt((0,n.$R)(o,t,e))},cartItemCount:D,closeAnimation:at,closeStepper:kt,isDifferentStoreFromCart:Lt,isPerformingCartUpdate:Bt.isLoading,addToCart:Ot,increment:St,decrement:Et,quickAddCount:S,decimalQuantity:S.decimal,updateDecimalQuantity:vt,debouncedQuickAddCount:xt,quickAddSource:v,isLowAvailabilityItem:_t,sourceType:V,analytics:K,searchTerm:j,size:X}):(0,T.tZ)(F,{"data-testid":"quick-add-button",disabled:E,"aria-label":rt("quick_add"),radius:"pillButtonBorderRadius",onClick:()=>{Y&&Y()},$size:X,children:et>0?yt?(0,T.BX)(M,{$size:X,children:[et," ",(0,y.YP)(e)]}):(0,T.tZ)(M,{$size:X,children:et}):(0,T.tZ)(C.Z,{name:"PlusSmallFilled",size:"small"===X?16:20})})})},V=r.memo(W);var H=a(39463),K=a(74701);const Y=(0,o.zo)("div",(t=>{let{$theme:e,$closeAnimation:a}=t;return{cursor:"auto",display:"flex",alignItems:"center",background:e.colors.quickAddButtonBackground,border:`2px solid ${e.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:e.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...a?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),j=(0,o.zo)("div",(t=>{let{$theme:e,$size:a}=t;return{..."small"===a?e.typography.LabelSmall:e.typography.LabelLarge,width:"max-content",paddingLeft:"small"===a?"2px":"16px",paddingRight:"small"===a?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:e.colors.quickAddButtonColor}})),X=(0,o.zo)("button",(t=>{let{$theme:e,$size:a,disabled:i}=t;return{borderRadius:e.borders.pillButtonBorderRadius,color:e.colors.quickAddButtonColor,background:e.colors.quickAddButtonBackground,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===a?"34px":"36px",height:"small"===a?"34px":"36px",minHeight:""+("small"===a?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:e.colors.quickAddButtonBackgroundHover}},":active":{background:e.colors.quickAddButtonBackgroundActive},...i&&{color:e.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:e.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:e.colors.quickAddButtonBackgroundHover}},":active":{background:e.colors.quickAddButtonBackgroundActive}}}})),J=t=>{const{onQuantityUpdated:e}=t,a=t.quantity.minQuantity,r=t.quantity.step,o=t.quantity.maxQuantity,n=t.quantity.currentQuantity,s=h.Tf.from(n).toE5(),u=(0,i.useCallback)((t=>{t.stopPropagation(),t.preventDefault();const a=s.add(r).toFloat(),i=h.Tf.from(a).toBaseDecimal();e(i)}),[s,r,e]),d=(0,i.useCallback)((t=>{t.stopPropagation(),t.preventDefault();const i=s.subtract(r);if(i.isLt(a))e({base:0,exponent:0});else{const t=i.toFloat(),a=h.Tf.from(t).toBaseDecimal();e(a)}}),[s,r,a,e]);return(0,T.BX)(Y,{$closeAnimation:t.closeAnimation,children:[(0,T.tZ)(X,{"data-test":"quick-add-minus",disabled:Boolean(t.isDisabled)||s.isLt(a),onClick:d,$size:t.size,children:s.isLte(a)?(0,T.tZ)(C.Z,{name:"TrashCanFilled",size:"small"===t.size?16:20}):(0,T.tZ)(C.Z,{name:"MinusSmallFilled",size:"small"===t.size?16:20})}),(0,T.BX)(j,{$size:t.size,"data-test":"quick-add-quantity",children:[s.toFloat()," ",t.quantity.suffix??""]}),(0,T.tZ)(X,{$size:t.size,"data-test":"quick-add-plus",disabled:Boolean(t.isDisabled)||s.isGte(o),onClick:u,children:(0,T.tZ)(C.Z,{name:"PlusSmallFilled",size:"small"===t.size?16:20})})]})},tt=(0,i.memo)(J);var et=a(38777),at=a(74057),it=a(60743),rt=a(92005),ot=a(87954),nt=a(17615),st=a(24934),ut=a(85427),dt=a(55089),ct=a(50818),lt=a(97375),mt=a(92431),pt=a(87696),It=a(40964);const yt=(0,o.zo)("div",(t=>{let{$theme:e,$isOpen:a}=t;return{border:a?"none":`1px solid ${e.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:e.borders.pillButtonBorderRadius}})),ht=(0,o.zo)("div",(t=>{let{$theme:e,$size:a}=t;return{..."small"===a?e.typography.LabelSmall:e.typography.LabelLarge,color:e.colors.quickAddButtonColor}})),gt=(0,o.w1)(D.Z,(t=>{let{$theme:e,$size:a}=t;return{height:"small"===a?"32px":"36px",minWidth:"small"===a?"32px":"36px",minHeight:0,padding:"2px 4px",background:e.colors.quickAddButtonBackground,color:e.colors.quickAddButtonColor,":hover":{background:e.colors.quickAddButtonBackgroundHover},":active":{background:e.colors.quickAddButtonBackgroundActive}}}));function ft(t){let{storeId:e,isDisabled:a,size:o,storeItem:n,sectionUUID:s,subsectionUUID:u,onQuickAddClicked:c,sourceType:I,resultIndex:g,searchTerm:f,analytics:U,itemQuantityInCart:D,onProductQuantityUpdated:k}=t;const N=(0,p.ZP)(),[S,E]=(0,i.useState)(!1),v=(0,b.T)(),[L,B]=r.useState(!1),_=r.useRef(null),q=(0,A.TH)(),Q=(0,A.UO)(),{storeSlug:Z}=(0,d.WxO)(Q),P=(0,m.k6)(),w=(0,i.useCallback)((()=>{E(!0),setTimeout((()=>{B(!1),E(!1)}),200)}),[]);(0,R.Z)(_,(()=>{L&&w()}),!0);const $=n.uuid??"",G=n.purchaseInfo?.purchaseOptions?.[0],M=(0,i.useMemo)((()=>{switch(D?.type){case"WEIGHT":case"UNIT":return D;case"UNKNOWN":default:{const t="MEASUREMENT_TYPE_WEIGHT"===G?.soldByUnit?.measurementType?"WEIGHT":"UNIT",e="UNIT"===t?h.Tf.from(y.wI.minimumQuantity).toBaseDecimal():h.Tf.from(G?.quantityConstraintsV2?.minPermitted??y.wI.minimumQuantity).toBaseDecimal(),a=h.Tf.from(G?.quantityConstraintsV2?.maxPermitted??y.wI.maximumQuantity).toBaseDecimal(),i=G?.itemQuantityAbbreviation??"",r=h.Tf.from(G?.quantityConstraintsV2?.increment??y.wI.incrementQuantity).toBaseDecimal(),o=D?.totalQuantityWithCustomizations;return{type:t,suffix:i,step:r,currentQuantity:D?.currentQuantity??h.Tf.from(0).toBaseDecimal(),totalQuantityWithCustomizations:o,maxQuantity:a,minQuantity:e}}}}),[D,G]),{...F}=(0,et.W)(),{deliveryTime:W,hasActiveDraftOrderMetadata:V}=(0,at.Z)(e),{isInMulticart:H}=(0,it.Z)(),K=(0,rt.Z)(),{handledHighCapacityOrderIntent:Y}=(0,ot.Z)(),{store:j}=(0,l.ZP)(e,{cacheOnly:!0}),X=(0,i.useMemo)((()=>(0,ct.TG)(j.data||void 0)),[j.data]),J=Y?.hhcOrderSize||(0,nt.vD)(j.data?.groupOrderSizes||void 0)?.hhcOrderSize,{deliveryInstructions:dt}=(0,st.pK)(),ft=dt.data?.selectedInstruction?.interactionType||dt.data?.preferredInteractionType||ut.$$.interactionType,{outOfItemAction:At}=(0,z.Z)(),Tt=H&&!V,bt=n.hasCustomizations,Ct=(0,d.yz4)({location:q,args:{sectionUuid:s,subsectionUuid:u,itemUuid:$,storeUuid:e||"",storeSlug:j.data?.slug||Z||""}}),Ut=(0,mt.Z)(),Dt=(0,pt.PJ)(Ut),{storeCatalogSections:kt,entryPoint:Nt,originalCatalogSectionUuid:St,primaryDraftOrderUUID:Et}=(0,d.RAN)(q,["storeCatalogSections","entryPoint","originalCatalogSectionUuid","primaryDraftOrderUUID"]),vt=()=>{if(j.data?.fulfillmentIssueOptions&&At)return{type:At,itemSubstitutes:[]};if(j.data?.fulfillmentIssueOptions){const t=j.data.fulfillmentIssueOptions?.resolutionActions,e=t?.find((t=>t.isDefault));if(e&&null!==e.action)return e?.action}},Ot=(0,i.useCallback)((t=>{const a=h.Tf.from(M.currentQuantity),i=h.Tf.from(t).subtract(a).isGt(0)?"increment":"decrement",r="itemAvailabilityState"in n&&n.itemAvailabilityState===x.F8.LIKELY_UNAVAILABLE;N("eats:quick_add_button_tap",{quickAddOperation:{storeUuid:e,itemUuid:$,previousQuantity:a.toFloat(),updatedQuantity:h.Tf.from(t).toFloat(),operationType:i,searchTerm:f||"",lowAvailabilityItemUuid:r?$:"",catalogSectionUuid:s,sectionUuid:s,subsectionUuid:u,...I?{sourceType:I}:{},...U?.catalogSection?{catalogSectionAnalyticsData:U.catalogSection}:{}},analyticsLabel:"analyticsLabel"in n&&n.analyticsLabel?n.analyticsLabel:void 0}),"increment"===i&&"itemAd"in n&&N("ads:storefront_store_click",{adsAnalyticsEvent:{adEventType:O.J.CLICK,adImpressionUUID:n.itemAd?.impressionId||"",adData:n.itemAd?.adData||"",bidderUUID:e}})}),[U,N,M.currentQuantity,f,s,I,e,n,$,u]),Lt=(0,i.useCallback)((async t=>{0===t.base&&w();const e={price:Number(n.price),customizationsList:[],images:null,nutritionalInfo:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},itemDescription:n.itemDescription??""},a=kt?"l2":"l1",i="catalogItemAnalyticsData"in n&&n.catalogItemAnalyticsData?.catalogSectionItemPosition?n.catalogItemAnalyticsData?.catalogSectionItemPosition:-1,r={storeAnalytics:X,isDelegatedBooking:F.isDelegatedBooking,deliveryTime:"object"==typeof W&&"scheduled"in W?lt.s.scheduled:lt.s.asap,menuItem:e,diningMode:Dt,catalogItemLevel:a,surfaceType:I,itemPosition:i,resultIndex:g,storeAvailabilityState:j.data?.storeInfoMetadata?.storeAvailablityStatus?.state??"UNKNOWN",entryPoint:Nt,storeVerticalType:j.data?(0,It.E)(j.data):void 0,storeCatalogSectionAnalytics:U?.catalogSection,originalCatalogSectionUuid:St};Ot(t),k({newQuantity:{...M,currentQuantity:t},analyticsRelevantData:r,delegatedBooking:F,deliveryTime:W,isInMulticart:H,storeCurrencyCode:j.data?.currencyCode??"USD",selectedVoucher:K,hhcOrderSize:J,interactionType:ft,fulfillmentIssueAction:vt(),shouldUpdateDraftOrderMetadata:Tt})}),[Ot]),Bt=(0,i.useCallback)((t=>{c&&c(),t.stopPropagation(),t.preventDefault(),bt||Boolean(Et)?P.push(Ct):(B(!0),D||Lt(M.minQuantity))}),[D,Lt,M,B,P,Ct,bt,c,Et]),Rt=h.Tf.from(bt?M.totalQuantityWithCustomizations??M.currentQuantity:M.currentQuantity);return(0,T.tZ)(yt,{onClick:Bt,ref:_,$isOpen:L,children:L?(0,T.tZ)(tt,{onQuantityUpdated:Lt,size:o,quantity:M,closeAnimation:S,isDisabled:a}):(0,T.tZ)(gt,{"data-testid":"quick-add-button",disabled:a,"aria-label":v("quick_add"),radius:"pillButtonBorderRadius",$size:o,children:Rt.isGt(0)?(0,T.tZ)(ht,{$size:o,children:`${Rt.toFloat()}${M.suffix}`}):(0,T.tZ)(C.Z,{name:"PlusSmallFilled",size:"small"===o?16:20})})})}const At=r.memo(ft,((t,e)=>t.itemQuantityInCart===e.itemQuantityInCart)),Tt=t=>{const e=(0,K.j)({getCartFrom:"storeId",storeId:t.storeId}),a=r.useRef(e);a.current=e;const o=(0,u.v)((t=>{let{checkout:e}=t;return e})),n=(0,p.ZP)(),s="LOADING"!==e.status&&"MISSING"!==e.status&&"OUTDATED"!==e.status?e.rawCartData?.cartQuantities?.[t.storeItem.uuid??""]:void 0,d=(0,i.useCallback)((async e=>{let{newQuantity:i,analyticsRelevantData:r,delegatedBooking:s,deliveryTime:u,isInMulticart:d,storeCurrencyCode:c,selectedVoucher:l,hhcOrderSize:m,interactionType:p,fulfillmentIssueAction:I,shouldUpdateDraftOrderMetadata:y}=e;try{switch(a.current.status){case"MISSING":case"DELETING":await a.current.actions.editQuantityInCart({cartItem:{uuid:t.storeItem.uuid||"",shoppingCartItemUuid:(0,dt.Z)(),storeUuid:t.storeId,sectionUuid:t.sectionUUID,subsectionUuid:t.subsectionUUID,price:Number(t.storeItem.price),title:String(t.storeItem.title),quantity:h.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(t.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:I,pricedByUnit:t.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:t.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},startingQuantity:i,analyticsRelevantData:r,checkoutReducer:o,delegatedBooking:s,deliveryTime:u,hasDelegatedBookingDraftOrder:!1,isMulticart:d,selectedVoucher:l,sourceFeature:"add-to-cart",storeCurrencyCode:c,actionMeta:{isQuickAdd:!0},hhcOrderSize:m,eventSource:"quick_add",interactionType:p});break;case"CREATING":case"AVAILABLE":case"SYNCING":await a.current.actions.editQuantityInCart({item:{type:"store",storeItemId:t.storeItem.uuid??"",storeId:t.storeId,shouldUpdateDraftOrderMetadata:y,cartItem:{uuid:t.storeItem.uuid||"",shoppingCartItemUuid:(0,dt.Z)(),storeUuid:t.storeId,sectionUuid:t.sectionUUID,subsectionUuid:t.subsectionUUID,price:Number(t.storeItem.price),title:String(t.storeItem.title),quantity:h.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(t.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:I,pricedByUnit:t.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:t.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},newQuantity:i},actionMeta:{isQuickAdd:!0,quickAddSource:t.quickAddSource},analyticsRelevantData:r,eventSource:"quick_add"})}}catch(e){n("eats:store_quick_add_error",{storeUuid:t.storeId,error:e})}}),[]);return"LOADING"===e.status||"OUTDATED"===e.status?null:(0,T.tZ)(At,{...t,itemQuantityInCart:s,onProductQuantityUpdated:d})},bt=t=>{const e=(0,H.l)(),{isGroupOrder:a,isEditOrder:i}=(0,_.Dz)();return!e||a||i?(0,T.tZ)(V,{...t}):(0,T.tZ)(Tt,{storeId:t.storeUUID,size:t.size??"large",storeItem:t.item,sectionUUID:t.sectionUUID,subsectionUUID:t.subsectionUUID,onQuickAddClicked:t.onClickEvent,sourceType:t.sourceType,searchTerm:t.searchTerm,quickAddSource:t.quickAddSource,resultIndex:t.resultIndex,analytics:t.analytics})}},37566:(t,e,a)=>{"use strict";a.d(e,{$:()=>l});var i=a(36151),r=a(70247),o=a(53176),n=a(64388),s=a(33967),u=a(32830),d=a(6703),c=a(58984);const l=t=>{let{storeUuid:e,item:a,quantity:l,sectionUuid:m,subsectionUuid:p,onAddedToCart:I,decimalQuantity:y,quickAddSource:h}=t;const g=(0,c.I0)(),{store:f}=(0,n.ZP)(e),A=(0,s.Z)(!0),{serverCart:T}=(0,r.iQ)(),b=T.data?.groupedItems,C=(0,i.useMemo)((()=>(((b||[]).find((t=>t.isCurrentUser))||{}).items||[]).filter((t=>t.uuid===a.uuid))),[b,a.uuid]),U=(0,i.useMemo)((()=>(0,u.Z)(C.map((t=>{let{quantity:e}=t;return e})))),[C]),D=(0,i.useMemo)((()=>C.sort(((t,e)=>new Date(e.createdTimestamp??0)-new Date(t.createdTimestamp??0)))),[C]),k=a.isLegacy?a.description:a.itemDescription,N={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(a.price),title:String(a.title),uuid:a.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(a.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:m,subsectionUuid:p,itemDescription:k??"",purchaseInfo:a.purchaseInfo}},S="itemAd"in a?a.itemAd:null,{addToCart:E}=(0,o.Z)({store:f,menuItem:N,selectedCustomizations:{},quantity:l,specialInstructions:"",onAddedToCart:I,decimalQuantity:y,itemAd:S}),v=Boolean(T.hasLoaded&&f.hasLoaded&&T?.data?.items?.length&&T?.data?.storeUuid!==f?.data?.uuid),O=(0,i.useCallback)(((t,e)=>{const a=(t,e)=>{e?A(e,t,{isQuickAdd:!0}):E({isStartingNewOrder:v,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:h}})};if("number"==typeof t){if(t>U){a(t,D[0]?.shoppingCartItemUuid)}else if(t<U){let e=U-t;for(const t of D){if(t.quantity>=e){a(t.quantity-e,t.shoppingCartItemUuid);break}a(0,t.shoppingCartItemUuid),e-=t.quantity}}}else{const e=D[0];t.base<=0?a(0,e?.shoppingCartItemUuid):a(t,e?.shoppingCartItemUuid)}g((0,d.OA)())}),[E,U,g,v,h,D,A]);return{addToCart:E,onUpdateQuantity:O,isNewSingleCart:v,cartItemMatch:C,cartItemQuantity:U,serverCart:T}}},78979:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var i=a(60849),r=a(41063);function o(){return(0,i.ip)({...r.v.store_quick_add,defaultValue:!0})}},32762:(t,e,a)=>{"use strict";a.d(e,{Z:()=>u});var i=a(60849),r=a(41063),o=a(99990),n=a(54669),s=a(34626);const u=()=>{const t=(0,i.ip)({...r.v.store_ofd_redesign,defaultValue:!1}),e=(0,i.ip)({...r.v.store_ofd_redesign_phase_2,defaultValue:!1}),a=(0,i.ip)({...r.v.store_ofd_redesign_phase_3,defaultValue:!1}),u=(0,i.ip)({...r.v.store_rating_redesign,defaultValue:!1}),d=(0,i.ip)({...r.v.store_ofd_redesign_search_results,defaultValue:!1}),{isGrStore:c,store:l}=(0,o.QT)(),{user:m}=(0,s.Z)(),p=m.data?.isLoggedIn,I=(0,n.Z)(),y=Boolean(!c&&e&&!I&&!p),h=Boolean(!c&&a&&!p),g=Boolean(!c&&a&&p),f=y||h,A=y||h||g,T=A,b=A,C=y||h,U=y||h,D=u&&A,k=y||h,N=g,S=Boolean(l?.data)&&d&&(y||h||g),E=y||h||g,v=g,O=y||h||g,L=g,B=g,R=!c&&"NEW_VERTICALS"===l?.data?.headerBrandingInfo?.headerType&&T,x=Boolean((l?.data?.featuredReviews?.length||0)>=2&&l?.data?.rating);return{isStoreOfdRedesignXpEnabled:t,isStoreOfdRedesignPhase2XpEnabled:e,isStoreOfdRedesignPhase3XpEnabled:a,isStoreRatingRedesignEnabled:u,isStoreOfdRedesignSearchResultsEnabled:d,desktopFeatures:{hasStickyHorizontalMenuNav:k,hasStickyVerticalMenuNav:N,hasStoreInfoSection:f,hasNewHeader:T,hasNewPageWrapper:A,hasDisclaimerAtBottom:b,hasNewBreadcrumbs:C,hasNewFaqSection:U,hasNewReviewsLayout:D,hasNewInStoreSearch:S,overwriteHorizontalGridColumns:E,moveTopExploreMoreStoresToCatalog:v,horizontalGridColumns:y||h?5:4,hasNewLoader:O,isLegacyHeaderWithBrandingInfo:R,storeInfoConfig:{infoCardOrientation:x?"portrait":"landscape",showBrandingInfoAndControls:Boolean(!x&&I&&!R),showDescription:Boolean(l?.data?.seoMeta?.content&&!l?.data?.optoutRestaurantExperiments?.optoutMenuExperiments?.optoutAllExperiments),showReviews:x},hasDeliveryRowControls:L,hasStoreBannersInCatalogColumn:B}}}},13427:(t,e,a)=>{"use strict";a.d(e,{Z:()=>o});var i=a(60849),r=a(41063);const o=()=>(0,i.ip)({...r.v.store_quick_add_enhancement,defaultValue:!1})},68093:(t,e,a)=>{"use strict";a.d(e,{Z:()=>r});var i=a(36151);function r(t,e){const[a,r]=(0,i.useState)(t);return(0,i.useEffect)((()=>{const a=setTimeout((()=>{r(t)}),e);return()=>{clearTimeout(a)}}),[e,t]),a}},45631:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});const i=function(t,e){const a=null==t?0:t.length;if(!a||e<1)return[];let i=0,r=0;const o=new Array(Math.ceil(a/e));for(;i<a;)o[r++]=t.slice(i,i+=e);return o}},47091:(t,e,a)=>{"use strict";a.d(e,{k:()=>i});const i="@media all and (-ms-high-contrast: none), (-ms-high-contrast: active)"}}]);