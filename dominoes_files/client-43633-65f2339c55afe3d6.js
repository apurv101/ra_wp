(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[43633],{67284:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var o=r(79406),i=r(59624),n=r(69890),l=r(33990);function a(e){const{children:t,...r}=e;return(0,l.tZ)(i.Z,{...r,children:e=>(0,l.tZ)(n.Z,{...e,children:t})})}a.defaultProps={accessibilityType:o.SI.menu,ignoreBoundary:!1,overrides:{},onMouseEnterDelay:200,onMouseLeaveDelay:200,placement:o.r4.auto,showArrow:!1,triggerType:o.gu.click,dismissOnClickOutside:!0,dismissOnEsc:!0,stateReducer:(e,t)=>t,popoverMargin:o.AF};const s=a},38379:(e,t,r)=>{"use strict";r.d(t,{y:()=>u});var o=r(91931),i=r(52298),n=r(22787),l=r(39010),a=r(89400),s=r(33990);const d=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingXSmall,color:t.colors.contentPrimary}})),c=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}}));function u(e){let{bottomSheet:t}=e;return(0,s.BX)(s.HY,{children:[t.title?(0,s.tZ)(d,{children:t.title.text}):null,t.body?(0,s.BX)(c,{children:[(0,s.tZ)(i.ZP,{$height:16}),(0,s.tZ)(a.Z,{badge:t.body})]}):null,(0,s.tZ)(l.U,{paragraphs:t.paragraphs}),t.secondaryButtonText&&t.url?(0,s.BX)(s.HY,{children:[(0,s.tZ)(i.ZP,{$height:24}),(0,s.tZ)(n.Z,{$as:"a",href:t.url,target:"_blank",children:t.secondaryButtonText})]}):null]})}},45474:(e,t,r)=>{"use strict";r.d(t,{BY:()=>d,ZP:()=>h,b:()=>u,xE:()=>p});var o=r(36151),i=r(67284),n=r(91931),l=r(32562),a=r(94579),s=r(33990);const d=330,c=(0,n.zo)("div",{position:"relative",display:"flex"}),u=(0,n.zo)("div",(e=>{let{$isVisible:t,$theme:r,$color:o="backgroundPrimary",$border:i="borderSecondary"}=e;return{position:"absolute",border:`1px solid ${r.colors[i]}`,zIndex:a.I_.foreground,top:"100%",left:`calc(50% - ${d/2}px)`,backgroundColor:r.colors[o],padding:"16px",width:`${d}px`,boxSizing:"border-box",boxShadow:"0px 0px 25px rgba(0, 0, 0, 0.1)",transition:"all 150ms 50ms",backfaceVisibility:"hidden",marginTop:"24px",...t?{clip:"auto",overflow:"visible",opacity:1}:{clip:"rect(0 0 0 0)",overflow:"hidden",opacity:0}}}));function h(e){const t=o.useRef(null),r=(0,l.Z)(t);return(0,s.tZ)(c,{role:"tooltip",id:e.id,ref:t,children:e.children({isHovering:r})})}const p=e=>{let{id:t,content:r,children:o,$color:n="backgroundPrimary",$border:l="borderSecondary"}=e;return(0,s.tZ)(i.Z,{id:t,content:r,accessibilityType:"tooltip",triggerType:"hover",placement:"bottom",overrides:{Body:{style:e=>{let{$theme:t}=e;return{width:`${d}px`,margin:t.sizing.scale300,border:`1px solid ${t.colors[l]}`,boxSizing:"border-box",boxShadow:"0px 0px 25px rgba(0, 0, 0, 0.1)"}}},Inner:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors[n],padding:t.sizing.scale600}}}},children:o})}},13041:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});const o=Object.freeze({UNKNOWN:"UNKNOWN",BLACK:"BLACK",BLUE:"BLUE",BROWN:"BROWN",GREEN:"GREEN",ORANGE:"ORANGE",PURPLE:"PURPLE",RED:"RED",YELLOW:"YELLOW",GRAY:"GRAY",MAGENTA:"MAGENTA",TEAL:"TEAL",LIME:"LIME"}),i=Object.freeze({UNKNOWN:"UNKNOWN",SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",X_SMALL:"X_SMALL"}),n=Object.freeze({UNKNOWN:"UNKNOWN",INACTIVE:"INACTIVE",ACTIVE:"ACTIVE",DISABLED:"DISABLED"});Object.freeze({UNKNOWN:"UNKNOWN",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY"});var l=r(91931),a=r(8639),s=r(60227),d=r(33990);const c=(e,t)=>{switch(e){case i.X_SMALL:return{...t.typography.LabelXSmall,borderRadius:t.borders.radius200,padding:`${t.sizing.scale0} ${t.sizing.scale100}`};case i.SMALL:return{...t.typography.LabelSmall,borderRadius:t.borders.tagBorderRadius,padding:`${t.sizing.scale100} ${t.sizing.scale300}`};case i.MEDIUM:return{...t.typography.LabelMedium,borderRadius:"32px",padding:`${t.sizing.scale100} ${t.sizing.scale500}`};case i.LARGE:return{...t.typography.LabelLarge,borderRadius:"32px",padding:`${t.sizing.scale100} ${t.sizing.scale600}`};default:return{}}},u=(0,l.zo)("div",(e=>{let{$definedStyle:t,$size:r,$theme:i,__baseIdlEscapeHatchTagUsageMode:n,$overrideStyles:l}=e;return{...((e,t,r)=>e===o.UNKNOWN?{}:"selection"===r?{backgroundColor:t.colors[`${e?.toLowerCase()}50`],color:t.colors[`${e?.toLowerCase()}700`],border:`1px solid ${t.colors[`${e?.toLowerCase()}100`]}`}:{backgroundColor:t.colors[`${e?.toLowerCase()}50`],color:t.colors[`${e?.toLowerCase()}700`]})(t,i,n),...c(r,i),display:"flex",alignItems:"center",gap:i.sizing.scale100,width:"fit-content",maxWidth:"100%",boxSizing:"border-box",...l}})),h=(0,l.zo)("div",(e=>{let{$customStyle:t,$size:r,$state:o,$theme:i,$overrideStyles:l}=e;return{...((e,t,r)=>{switch(t){case n.ACTIVE:{const t=(0,a.Lq)(e?.activeBackgroundColor),o=e?.activeContentColor,i=(0,a.Lq)("textColor"===o?.type?o.textColor:null),n=(0,a.Lq)(e?.activeBorderColor);return{...t&&{backgroundColor:r.colors[t]},...i&&{color:r.colors[i]},...n&&{border:`1px solid ${r.colors[n]}`}}}case n.INACTIVE:{const t=(0,a.Lq)(e?.inactiveBackgroundColor),o=e?.inactiveContentColor,i=(0,a.Lq)("textColor"===o?.type?o.textColor:null),n=(0,a.Lq)(e?.inactiveBorderColor);return{...t&&{backgroundColor:r.colors[t]},...i&&{color:r.colors[i]},...n&&{border:`1px solid ${r.colors[n]}`}}}case n.DISABLED:{const t=(0,a.Lq)(e?.disabledBackgroundColor),o=e?.disabledContentColor,i=(0,a.Lq)("textColor"===o?.type?o.textColor:null),n=(0,a.Lq)(e?.disabledBorderColor);return{...t&&{backgroundColor:r.colors[t]},...i&&{color:r.colors[i]},...n&&{border:`1px solid ${r.colors[n]}`}}}default:return{}}})(t,o,i),...c(r,i),display:"flex",alignItems:"center",gap:i.sizing.scale100,width:"fit-content",maxWidth:"100%",boxSizing:"border-box",...l}})),p=(0,l.zo)("div",(()=>({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}))),b=e=>{let{tag:t,baseIdlEscapeHatchTagUsageMode:r="display",overrideStyles:o}=e;const{style:i,size:n,text:l,state:a,leadingIcon:c,trailingIcon:b}=t||{},y=c?(0,s.i7)(c):null,g=b?(0,s.i7)(b):null;if(!i||!n||!l)return null;switch(i.type){case"definedStyle":return(0,d.BX)(u,{$definedStyle:i.definedStyle,$size:n,__baseIdlEscapeHatchTagUsageMode:r,$overrideStyles:o,children:[y?(0,d.tZ)(y.icon,{...y.options}):null,(0,d.tZ)(p,{children:l}),g?(0,d.tZ)(g.icon,{...g.options}):null]});case"customStyle":return(0,d.BX)(h,{$customStyle:i.customStyle,$size:n,$state:a,$overrideStyles:o,children:[y?(0,d.tZ)(y.icon,{...y.options}):null,(0,d.tZ)(p,{children:l}),g?(0,d.tZ)(g.icon,{...g.options}):null]});default:return null}}},95768:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var o=r(43193),i=r(36151),n=r(88885),l=r(91931),a=r(33497),s=r(57444),d=r(57597),c=r(66958),u=r(87444),h=r(53213),p=r(7254),b=r(79517),y=r(72179),g=r(78422),m=r(32857),$=r(33535),C=r(33990);const L=e=>`${e}px`,f=36,S=L(f),Z=(e,t)=>!e||!t||t<f?f:t+8,x=(e,t)=>-(60-Z(e,t)/2),v=(0,l.zo)("div",(e=>{let{$theme:t,disabled:r,$isSecondary:o,$isClosed:i,$hasQuantity:n,$quantityWidth:l}=e;return{position:"relative",width:L(i?Z(n,l):120),height:L(36),transition:"width 100ms linear",borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",background:t.colors.buttonPrimaryFill,color:t.colors.buttonPrimaryText,cursor:"auto",...o&&{background:t.colors.buttonSecondaryFill,color:t.colors.buttonSecondaryText},...r&&{...(0,s.Z)(t)}}})),z=(0,l.zo)("div",(e=>{let{$isClosed:t,$hasQuantity:r,$quantityWidth:o}=e;return{position:"absolute",right:r&&t?L(x(r,o)):0,transition:"right 100ms linear",width:L(120),display:"flex",justifyContent:"space-between",alignItems:"center"}})),E=(0,l.zo)("button",(e=>{let{$theme:t,$isSecondary:r,$isClosed:o,$hasQuantity:i,$quantityWidth:n}=e;return{...(0,a.Z)({$theme:t,radius:"pillButtonBorderRadius"}),width:S,minWidth:S,height:S,minHeight:S,padding:0,display:"flex",justifyContent:"center",alignItems:"center",background:"transparent","@media (hover: hover)":{":hover":{background:r?t.colors.buttonSecondaryHover:t.colors.contentTertiary}},":active":{background:r?t.colors.buttonSecondaryHover:t.colors.contentTertiary},":disabled":{color:t.colors.contentStateDisabled,fill:t.colors.disabled,background:"transparent"},...o&&{width:L(Z(i,n)),minWidth:L(Z(i,n)),height:L(f),minHeight:L(f),margin:0,...Boolean(n)&&{padding:"0 4px"}}}})),k=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",left:"50%",transform:"translateX(-50%)",...t.typography.LabelLarge,display:"flex",justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",textAlign:"center"}})),B=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textWrap:"nowrap"}})),N=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",minWidth:L(88),backgroundColor:t.colors.backgroundSecondary,borderRadius:t.sizing.scale700}})),I=e=>(0,C.tZ)(m.Z,{kind:"secondary",size:"compact",shape:"circle",onClick:e.onClick,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundSecondary,":hover":{backgroundColor:t.colors.backgroundSecondary}}}}},...e,children:e.children}),A=e=>{const t=(0,n.T)();return(0,C.tZ)(I,{disabled:e.isDisabled||e.getQuantityLimit()!==d.y.BELOW_LIMIT,onClick:e.onPlus,"aria-label":t("shared.increment"),children:(0,C.tZ)(g.Z,{name:"PlusSmallFilled",size:20})})},w=e=>{let{type:t="primary",isClosable:r=!1,isDisabled:l=!1,item:a,storeUuid:s,quantity:m,updateQuantity:L,isRemovable:f=!0,overrideQuantityConstraints:S,overridingMeasurementType:Z,analyticsLabel:x}=e;const{isCartDrafting:w}=(0,y.Z)(),R=b.Tf.from(m),T=(0,d.Z)({item:a,storeUuid:s,cartQuantity:R.toInt()}),M=(0,n.T)(),W="secondary"===t,O="primary"===t,P=(0,u.Z)("price_items_by_weight")&&(0,c.jx)(a,Z),U=(0,c.L5)(a,S),D=P&&U.minimumQuantity||1,q=b.Tf.from(m).lte(D),_=(0,$.ZP)(),X=o.useRef(!1),F=(0,i.useMemo)((()=>P?`${R.toFloat()} ${(0,c.YP)(a)||""}`:R.toFloat()),[R,P,a]);(0,i.useEffect)((()=>{X.current&&_("eats:item_quantity_update",{quantity:R.toFloat(),analyticsLabel:x}),X.current=!1}),[x,R,_]);const[G,Q]=(0,i.useState)(!1),Y=r&&!G,H=(0,i.useCallback)((()=>{L(p.TX.decrement),X.current=!0,r&&q&&Q(!1)}),[r,q,L]),K=(0,i.useCallback)((()=>{r&&Q(!0)}),[r]),j=(0,i.useCallback)((()=>{L(p.TX.increment),X.current=!0}),[L]),[V,J]=(0,i.useState)(0),ee=(0,i.useRef)(null);(0,i.useEffect)((()=>{F&&ee.current?.clientWidth&&J(ee.current.clientWidth)}),[F]);const te=(0,i.useRef)(null);(0,h.Z)(te,(()=>{Q(!1)}),r&&G);const re=l||(f?R.isLt(D):R.isLte(D));return w&&O&&!m?(0,C.tZ)(A,{isDisabled:l,getQuantityLimit:T,onPlus:j}):w&&W||w&&O&&Boolean(m)?(0,C.BX)(N,{children:[(0,C.tZ)(I,{disabled:l,onClick:H,"aria-label":M("shared.decrement"),"data-test":"item-stepper-dec",children:R.isGt(D)||!f?(0,C.tZ)(g.Z,{name:"MinusSmallFilled",size:20}):q?(0,C.tZ)(g.Z,{name:"TrashCanOutlined",size:16}):null}),(0,C.tZ)(B,{ref:ee,children:F}),(0,C.tZ)(A,{isDisabled:l,getQuantityLimit:T,onPlus:j})]}):(0,C.tZ)(v,{ref:te,disabled:l,$isSecondary:W,$isClosed:Y,$hasQuantity:Boolean(m),$quantityWidth:V,"data-test":"item-stepper",children:(0,C.BX)(z,{$isClosed:Y,$hasQuantity:Boolean(m),$quantityWidth:V,children:[(0,C.tZ)(E,{disabled:re,$isSecondary:W,$isClosed:Y,onClick:H,"aria-label":M("shared.decrement"),"data-test":"item-stepper-dec",children:R.isGt(D)||!f?(0,C.tZ)(g.Z,{name:"MinusSmallFilled",size:20}):q?(0,C.tZ)(g.Z,{name:"TrashCanFilled",size:16}):null}),(0,C.tZ)(E,{disabled:l||T()!==d.y.BELOW_LIMIT,$isSelected:!0,$isSecondary:W,$isClosed:Y,onClick:j,"aria-label":M("shared.increment"),"data-test":"item-stepper-inc",children:(0,C.tZ)(g.Z,{name:"PlusSmallFilled",size:20})}),(0,C.tZ)(k,{"data-test":"item-stepper-quantity",children:Y&&m?(0,C.tZ)(E,{disabled:l,$isSecondary:W,$isClosed:Y,$hasQuantity:Boolean(m),$quantityWidth:V,onClick:K,children:(0,C.tZ)("div",{ref:ee,children:F})}):(0,C.tZ)("div",{ref:ee,children:F})})]})})},R=o.memo(w)},19702:(e,t,r)=>{e.exports=r.p+"beb05a8bec7f3b14.png"}}]);