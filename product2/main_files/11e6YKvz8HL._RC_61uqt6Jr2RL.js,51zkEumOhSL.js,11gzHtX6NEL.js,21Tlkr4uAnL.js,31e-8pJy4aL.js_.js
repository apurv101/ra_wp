(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(M){var t=window.AmazonUIPageJS||window.P,aa=t._namespace||t.attributeErrors,V=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):t;V.guardFatal?V.guardFatal(M)(V,window):V.execute(function(){M(V,window)})})(function(M,t,aa){M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,a,f,P,m,N,I){function K(d,b,q,h,p){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var E=
G.getCurrentItem();if(!h||"chromeless-video"!==E.type||!g.autoplayVideo){h=0;"image"===E.type&&(h=Math.max(f.getIndexForVariant(E.color,E.variant,g),0));var e=0;f.isDefined(g.heroImage[E.color])&&(e=g.heroImage[E.color].length);p=h-(b>=g.maxAlts?g.maxAlts-p-e:0);b=0<=p?b+p:h+e;b>=q&&(h=0,b=e);q=f.getImageHash(E.color,h,g);-1!==q&&(O.dispatch("updateModel",{data:{index:h,thumbnailIndex:b,variant:q.variant,type:"image",shoppableScene:q.shoppableScene}}),q=d.find(".item").get(b),f.selectGivenThumbnail(a(q),
d))}}}function J(a){if(!g.useChildVideos)return f.lazyLoadingRequired(G.getCurrentItem(),G,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var b=g.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(d.success=function(b){videosOnTwisterRefresh(b)},P.load(VIDEO_AJAX_ENDPOINT,d));return g.colorToVideo&&g.colorToVideo[a]}}function v(h,
b,q){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&q)return h;var p=J(b),e=f.isDefined(p)&&0<p.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];p=h;var E=0;f.isDefined(b)&&(a.each(b,function(b,k){if(E>=g.maxAlts-e&&h<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var u=a(".thumbItemUnrolled");u[h]?u[h].querySelector("img").src=k.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(h+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(h+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(h+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:b,thumbnailIndex:h,variant:k.variant,shoppableScene:k.shoppableScene},k.thumb,d,"imageThumbnail");h++}E++}),N.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(a,N,G),K(d,p,h,q,e));return h}function F(a,b){g.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function D(d,b){if("image"===d.type){var h=a("#image-canvas-caption #canvasCaption"),p=g.staticStrings,e=g.colorImages,z=d.color,l=d.index;if(f.isShoppableScenesEnabled()&&d.shoppableScene)var k=p.clickSceneTagsToShopProducts;else b&&
g.useIV?k=p.clickToExpand:e[z]&&e[z][l].hiRes&&g.useHoverZoom?(k=g.useHoverZoomIpad?p.touchToZoom:g.useClickZoom?p.clickToZoom:p.rollOverToZoom,g.hoverZoomIndicator&&(k="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+k)):g.useIV&&(k=p.clickToExpand);h.html(k)}}function H(d,b){var h="a-dynamic-image";if(!g.acEnabled){var p;a.each(d.main,function(b,u){f.isDefined(p)||(p=parseFloat(u[1]/u[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=p}var e=f.getMaxDimensionsOfMainImage(d.main,
B,g),z=e[0],l=e[1];e=a("\x3cdiv\x3e\x3c/div\x3e");z={"max-height":z,"max-width":l};e.addClass(h).css(z).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return e}function r(a,b,f){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});f.attr("data-a-image-name","shoppable-scene:"+a);f=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
f.addClass("celwidget").attr("cel_widget_id",d);f.children("span").css("display","inline-block");O.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:f.find(".mirai-scene-tag-placeholder"),$viewProductsButton:f.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(f,d){f.forEach(function(f){"childList"===f.type&&f.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===f.addedNodes.length&&"IMG"===f.addedNodes[0].tagName&&""!==f.addedNodes[0].src&&(f=f.addedNodes[0],"function"!==typeof f.onload&&(f.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(f.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return f}function x(a,b,d){d=H(a,d);a=f.isShoppableScenesEnabled()&&a.shoppableScene?r(b,a,d):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);p.find(".list").append(a);n.loadImageManually(d);return a}function L(f){var b=B.css("height");null!==b&&f.find(".imgTagWrapper").css("height",b);f.addClass("selected");g.imgTagWrapperClasses&&f.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function S(d,
b,h,e){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||e||"unavailable"===d.type){if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){h=f.getImageHash(d.color,d.index,g);if(-1===h)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(d,G,g)||(O.dispatch("updateModel",b),f.showUnavailable(d.color)),-1;e=p.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(e)||(e=x(h,d.thumbnailIndex,b));L(e);O.dispatch("loadMagnifier");
D(d);F(e,h);n.trigger("dp:image-block:update",h)}}else{d=g.colorImages&&g.colorImages[h];b=a(".unrolledImg");h=J(h);var z=f.isDefined(h)&&0<h.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(b){b>=g.maxAlts&&a(this).remove()});f.isDefined(d)&&a.each(d,function(b,d){b<g.maxAlts-z+g.additionalNumberOfImageAlts&&b>=g.maxAlts-z&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+z+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(b+z)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+z)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}}function l(d){var b=G.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=d);d={type:"updatedData",data:G.getCurrentItem()};O.dispatch("updateView",d);(b=g.colorToAsin[b])&&b.asin&&M.register(f.rankedImagesReadyEvent(b.asin))}function e(){var d=p.find(".item .imgTagWrapper"),b=f.getContainerHeight(B,g.holderRatio,g.holderMaxHeight);
0<b&&(B.height(b),d.height(b));p.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var d=b.data("a-dynamic-image");d=f.getMaxDimensionsOfMainImage(d,B,g);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function h(d){D(G.getCurrentItem(),"mouseenter"===d.type)}var z,g,G,O,d,p,B,U;return function(m,b,q,r){z=this;g=m;G=b;O=r;n.on("triggerImageAjax",l);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];z.render=function(b,
h,e,k,u,c,y){p=e;d=k;B=u;U=v(h,b,c);c||(h=G.getCurrentItem(),f.lazyLoadingRequired(h,G,g)&&O.dispatch("updateModel",{data:{type:"lazy-loaded"}}));h=G.getCurrentItem();e=!c;f.lazyLoadingRequired(h,G,g)||(a("#imageBlock").css("opacity","1"),p.css("opacity","1"),f.spinner(p,!1),p.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&p.find(".list .item").remove());S(G.getCurrentItem(),y,b,c);return U};z.update=function(b){};g.overrideAltImageClickAction&&
f.addTag("clickEnabledOnAltImages");O.register("imageHover",h);O.register("resize",e)}});"use strict";M.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,a,f){var t,m,N,I;return function(a,P,v,F){t=this;m=a;N=F;t.render=function(a,v,r,x,F,S,l){I=x;t=this;r=m.maxAlts;x=v;F=m.colorImages[a]?m.colorImages[a].length:0;F+=f.getVideosCount(a,m);a=m.heroImage[a];S=0;a&&(S=a.length);a=F+S;a>r&&(r=a-r,a=I.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
r+="+",x={type:"ingress",index:0,thumbnailIndex:v,variant:""},a.find("#altIngressText").append(r),n.declarative.create(a,"thumb-action",x),I.append(a),x=v++);return x};t.update=function(a){"ingress"===a.data.type&&"click"===a.type&&N.dispatch("imageClick",a)}}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,a,f,t){function m(h,e,g,l){if(!f.isjQueryObjDefined(h.find(".a-button-selected"))){var z=x.getCurrentItem();if(!l||"chromeless-video"!==
z.type||!r.autoplayVideo){l=0;if("hero-image"===z.type){l=I(z.color,z.variant);if(-1===l)return;l=-1!==l?l:0}var d=e+l;d>=g&&(l=0,d=e);e=t.getHeroImageHash(r,z.color,l);-1!==e&&(L.dispatch("updateModel",{data:{index:l,thumbnailIndex:d,variant:e.variant,type:"hero-image"}}),e=h.find(".item").get(d),f.selectGivenThumbnail(a(e),h))}}}function P(h,e,g){if("hero-video"===x.getCurrentItem().type)return h;e=r.heroImage&&r.heroImage[e];var l=h;f.isDefined(e)&&(a.each(e,function(a,d){h<r.maxAlts&&(f.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:h,variant:d.variant},d.thumb,S,"imageThumbnail"),h++)}),m(S,l,h,g));return h}function I(h,e){var g=r.heroImage;if(1>g.length||!f.isDefined(g[h])||!f.isDefined(e))return-1;var l=-1;a.each(g[h],function(a,d){d.variant===e&&(l=a)});return l}function K(){if(l.length&&r.repositionHeroImage){var a=t.getHeroDimParams(r,x.getCurrentItem());if(f.isDefined(a)){var e=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ";l.css({"background-position":e,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""})}}}function J(a,e,g,m){if(l.length&&a&&e){if("function"===typeof g||m){var h=new Image;h.onload=m?function(){l.css("background-image",'url("'+a+'")')}:g;h.src=a}g=e[1];h=e[0];m||l.css({"background-image":'url("'+a+'")'});if(r.repositionHeroImage&&(e=t.getHeroDimParams(r,x.getCurrentItem(),e),f.isDefined(e))){g=e.width;h=e.height;var d=f.isDefined(e.xPos)?e.xPos+"px "+e.yPos+"px ":"center "+e.yPos+
"px "}l.css({"background-position":d,"background-size":g+"px "+h+"px ","max-width":g+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function v(f,e,g,l){f=t.getHeroImageHash(r,f,e);if(-1===f)return-1;e=a.map(f.main,function(a,d){return d})[0];J(e,f.main[e],g,l)}function F(a,f,e){if("hero-image"!==a.type)return-1;var g=I(a.color,x.getCurrentItem().variant);g=-1!==g?g:0;if(-1===t.getHeroImageHash(r,a.color,g))return-1;var h=x.getCurrentItem();a.thumbnailIndex=h.thumbnailIndex;a.type=h.type;
a.variant=h.variant;a.index=g;D(a,f,e)}function D(a,f,g){var h=t.getHeroImageHash(r,a.color,a.index);var m=a&&e&&n.equals(a,e)?!0:!1;e||(e=a);if(!m&&a||f)v(a.color,a.index,f,g),e=a;l.removeClass("hide-background");n.trigger("dp:image-block:update",h)}var H,r,x,L,S,l,e={};return function(e,m,g,n){H=this;r=e;x=m;L=n;r.heroImage[r.landingAsinColor]=r.heroImage[r.defaultColor];H.render=function(f,d,e,g,h,m,b){S=g;l=a("#heroImage");f=P(d,f,m);F(x.getCurrentItem(),b,m);return f};H.update=function(a){var d=
a.data;"ingress"!==d.type&&l.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=x.getCurrentItem().type,-1!==F(d)&&(a.captured=!0)):"hero-image"===d.type&&(D(d),"click"!==a.type&&r.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,S))};L.register("resize",K)}});"use strict";M.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,a,f,P,m,N){function I(a){S?a.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function K(a){var e=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(e)){e=e[1].split("_");for(var h=0;h<e.length;h++){var l=e[h].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(l)&&(a[l[1]]=parseInt(l[2],10))}}return a}function J(l,e){function h(){if(e.useClickZoom){var a=e.offsetInClickZoom;a=[Math.min(1,Math.max(0,C[0]-(A[0]+a))/(A[2]-2*a)),Math.min(1,Math.max(0,C[1]-(A[1]+a))/
(A[3]-2*a))]}else a=q&&q.updatePosition();if(a&&b&&b.detailSize){var c=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];n.capabilities.rtl?b.detailImage.get(0).style.right=-(a[0]*c[0])+"px":b.detailImage.get(0).style.left=-(a[0]*c[0])+"px";b.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function r(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(b){var c=y?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:"";C=y?[c.pageX,c.pageY]:[b.pageX,b.pageY];
if(n.capabilities.rtl){var k=a(t).width();C=y?[k-c.pageX,c.pageY]:[k-b.pageX,b.pageY]}}function v(a){y&&a.preventDefault();g(a);e.useClickZoom?a=[A[0],A[1],A[0]+A[2],A[1]+A[3]]:(a=q?q.offset:l.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,F.width()+a.left,F.height()+a.top]:[w[0]+a.left,w[1]+a.top,w[0]+w[2]+a.left,w[1]+w[3]+a.top]);C[0]<a[0]||C[1]<a[1]||C[0]>=a[2]||C[1]>=a[3]||D.acEnabled&&!r(l)?(e.fadeMagnifier?Z||(Z=!0,ba=setTimeout(function(){x(!0)},500)):e.useClickZoom||x(),J&&(J=!1,clearTimeout(L))):
(J||(J=!0,L=setTimeout(function(){P.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&N.logHoverZoomRequestServed(m)},1E3)),e.fadeMagnifier&&Z&&(Z=!1,clearTimeout(ba)),h())}function x(c){c&&B.suppressMagnifier(!0);if(k&&(b&&b.hide(),q&&(q.destroy(),q=null),k=!1,y?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),p(),c))l.one("click.magnifier touchstart.magnifier",
function(a){d(a,!0)})}function d(d,f){f&&B.suppressMagnifier(!1);if(!k&&!u&&(0===T&&(P.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),T=1),ea[c]||(P.postCountMetric("dppc_hoverMain"),ea[c]=1),w=[l.position().left,l.position().top,l.width(),l.height()],c&&(g(d),b?b.refit().show():b=new W,e.useClickZoom||(q=q||new R),A=b.getWindowSize(),h()),k=!0,y?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",v).bind("touchend.magnifier",x),a(document).trigger("engaged.magnifier")):
(D.acEnabled?F.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",v)),f&&(d=a("#zoomWindow"),0<d.length)))d.one("click.magnifier touchend.magnifier",function(a){x(!0)})}function p(){e.useHoverZoom&&(y?l.bind("touchstart.magnifier touchmove.magnifier",d):D.acEnabled?r(l)&&F.bind("mousemove.magnifier",d):l.bind("mousemove.magnifier",d))}var B=this,F=l.offsetParent(),E={detailImageUrl:l.attr("data-old-hires"),location:"over",
locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};e=a.extend(E,e);e.adjustment=[10,0,-10,0];var b=null,q=null,C=null,w=null,A=null,H={"null":1,"":1,undefined:1},k=!1,u=!1,c=e.detailImageUrl,y=e.useHoverZoomIpad||0,T=0,ea={},R=function(){function c(a){var c=Math.round(Math.min(l.width(),b.rect.width/a));a=Math.round(Math.min(l.height(),b.rect.height/a));y.css({width:c,height:a});d=[c,a]}var k=this,d=[0,0],f=(b.detailSize&&b.detailSize[0]||5E8)/w[2],u=(b.detailSize&&b.detailSize[1]||
5E8)/w[3];f=u>f?u:f;a("#magnifierLens").remove();var y=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});e.generalImageUrls.zoomLensBackground&&y.css({backgroundImage:"url("+e.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?I(y):y.css("cursor","pointer");k.updatePosition=function(){var a=[w[2]-d[0],w[3]-d[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(C[0]-d[0]/2-w[0]-k.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(C[1]-d[1]/2-w[1]-k.offset.top)/a[1])),f=w[0]+
Math.round(c*a[0]);a=w[1]+Math.round(b*a[1]);y.get(0).style.left=f+"px";y.get(0).style.top=a+"px";return[c,b]};k.destroy=function(){y.remove()};k.offset=l.offsetParent().offset();c(f);k.updatePosition();y.appendTo(l.parent());b.detailImage[0].complete||b.detailImage.load(function(){var a=b.detailImage.width()/w[2];c(a);k.updatePosition()})};R.preload=function(){B.preload(e.generalImageUrls.lensBackgroundUrl)};var W=function(){function b(){var c={};if("over"===e.location){c=e.useClickZoom;var b={},
k=a("#leftCol"),y=a("#centerCol"),p=a("#rightCol"),h=a("#hover-zoom-end"),T=a("#actionPanelContainer"),R=f.isjQueryObjDefined(k)?k.outerHeight():y.outerHeight();b.top=f.isjQueryObjDefined(k)?k.offset().top:y.offset().top;b.bottom=R+b.top;b.right=f.isjQueryObjDefined(p)?p.offset().left:T.offset().left;b.left=c?0:k.offset().left+k.outerWidth();f.isjQueryObjDefined(h)&&h.offset().top>b.bottom&&(b.bottom=h.offset().top);c=b}else"right"===e.location&&(c=l.offset(),c={left:c.left+l.outerWidth(),top:c.top,
right:c.left+l.outerWidth()+400,bottom:c.top+400});e.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+a(e.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,a(t).scrollTop()+a(t).height());c.left+=u[0];c.top+=u[1];c.right+=u[2];c.bottom+=u[3];c.width=c.right-c.left;c.height=c.bottom-c.top;e.enhancedHoverOverlay&&f.isDefined(t.pageXOffset)&&(b=a(t).width(),c.width=b-c.left+t.pageXOffset-18,c.height-=14);g.css({left:c.left,top:c.top,width:c.width,height:c.height});d.rect=c;return d}function k(c){var a=
new Image;d.detailSize=[0,0];a.onload=function(){d.detailSize=[a.width,a.height];h()};a.src=c.attr("src");if(0<a.width&&0<a.height)d.detailSize=[a.width,a.height];else if(e.detailImageSize)d.detailSize=e.detailImageSize;else{c=K(a.src);var b=w[2]/w[3];c.SS||c.AA?(c=c.SS||c.AA,d.detailSize=[c,c]):c.SX?d.detailSize=[c.SX,Math.round(c.SX/b)]:c.SY?d.detailSize=[Math.round(c.SY*b),c.SY]:c.SL&&(d.detailSize=1<=b?[c.SL,Math.round(c.SL/b)]:[Math.round(c.SL*b),c.SL])}}var d=this,u=e.adjustment;a("#zoomWindow").remove();
var y={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:e.zIndex};e.enhancedHoverOverlay&&(y.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",y.border="1px solid #949494",y.borderColor="rgb(148,148,148)");var g=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(y);e.fadeMagnifier&&g.fadeIn(200);e.useClickZoom&&(S?g.css("cursor",'url("'+e.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));d.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+
c+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();g.append(c);a(document).trigger("updated.magnifier");d.detailImage=c;k(d.detailImage)};d.refit=function(){b();k(d.detailImage);return d};e.fadeMagnifier?(d.show=function(){g.fadeIn(200);return d},d.hide=function(){g.fadeOut(200);return d}):(d.show=function(){g.show();return d},d.hide=function(){g.hide();return d});d.destroy=function(){g.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,
d.rect.height]};d.updateImage(c);b();g.appendTo(document.body)},Z=!1,ba,J=!1,L;B.preload=function(c){c=a.makeArray(c);for(var b=c.length,d=0;d<b;d++)c[d]instanceof Array?B.preload(c[d]):"string"===typeof c[d]&&c[d]&&!H[c[d]]&&(H[c[d]]=new Image,H[c[d]].src=c[d])};B.changeImage=function(d,f){k&&x();c=f;l.attr("src",d);B.preload(d);w=[l.position().left,l.position().top,l.width(),l.height()];f&&("immediately"===e.preload?B.preload(f,!0):a(t).ready(function(){B.preload(f)}),b?b.updateImage(f):l.attr("data-old-hires",
f))};B.destroy=function(){D.acEnabled?F.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");q&&q.destroy();q=null;b&&b.destroy();b=null};B.detailImage=function(){return b.detailImage};B.suppressMagnifier=function(c){u=c};B.isEngaged=function(){return k};B.engageMagnifier=d;B.disengageMagnifier=x;l[0].complete?p():l.one("load",p);B.preload(l.attr("src"));
t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(e.preload){var M=e.detailImageUrl;E=function(){B.preload(M,!0);e.useClickZoom||R.preload()};var X=e.preload;X.constructor!==Array&&(X=[X]);for(var ca=0;ca<X.length;ca++)if("immediately"===X[ca])E();else if(a(t)[X[ca]])a(t)[X[ca]](E);else a(t).bind(X[ca],E)}return B}function v(){if(D.useHoverZoom){var l={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};x&&(x.destroy(),x=aa);var e=L.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(e)?D.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){x=
new J(e,l);x.engageMagnifier(a,!0)}),S?e.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):x=new J(e,l):m.isEnabled&&N.logHoverZoomApplicability(a,m)}}var F,D,H,r,x,L,S=navigator.userAgent.match(/msie|trident/i);return function(a,f,h,n){F=this;D=a;H=f;m.refToModel=H;r=n;F.render=function(a,f,e,d,p,h){L=e;x&&(x.destroy(),x=aa)};F.update=function(a){};r.register("loadMagnifier",v);r.register("resize",
v)}});"use strict";M.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,a,f,P){function m(a,m,n){a=(a=n?n:f.getColorFromState(m.getState().hovered_variations,K))&&""!==a?a:K.defaultColor;v.dispatch("updateView",{type:"swatchHover",data:{color:a}});P.postCountMetric("swatchHover")}function N(a,m,n,r){a=(a=r?r:f.getColorFromState(m.getState().selected_variations,K))&&""!==a?a:K.defaultColor;a===J.getCurrentItem().color?"function"===typeof n&&n():(v.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);n()}}),P.postCountMetric("swatchClick"))}var I,K,J,v;return function(a,f,t,r){I=this;K=a;J=f;v=r;n.on("image-block-twister-swatch-hover",m);n.on("image-block-twister-swatch-click",N);I.render=function(a,f,m,l,e){};I.update=function(a){}}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,a,f,P,m,N,I){function K(c,b,k,u){if(!f.isjQueryObjDefined(c.find(".a-button-selected"))){var e=p.getCurrentItem();if(!u||"chromeless-video"!==e.type||!d.autoplayVideo)if(u=0,"image"===e.type&&(u=Math.max(D(e.color,e.variant),0)),!(e.thumbnailIndex>=d.maxAlts&&0!=u)){var g=b+u;g>=k&&(u=0,g=b);b=f.getImageHash(e.color,u,d);-1!==b&&(B.dispatch("updateModel",{data:{index:u,thumbnailIndex:g,variant:b.variant,type:"image",
shoppableScene:b.shoppableScene}}),b=c.find(".item").get(g),f.selectGivenThumbnail(a(b),c))}}}function J(c,k,u){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&u)return c;var e=d.colorImages&&d.colorImages[k];k=c;2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(c){(!a(this)[0].classList.contains("thumbTypeimage")||c>=e.length||c>=d.maxAlts)&&a(this).remove()});f.isDefined(e)&&(a.each(e,function(k,u){if(c<d.maxAlts)if(2===
d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){c++;var g=a(".thumbItemUnrolled");g[k]?g[k].querySelector("img").src=u.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+k+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+u.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else k={type:"image",index:k,thumbnailIndex:c,variant:u.variant,shoppableScene:u.shoppableScene},u=f.createThumbnail(k,u.thumb,b,"imageThumbnail"),d.collapsibleThumbnails&&f.updateImageThumbnailOverlay(u,k,e),c++}),N.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(a,N,p),K(b,k,c,u));return c}function v(c,a){d.useIV&&f.isDefined(a.hiRes)&&
c.css("cursor","pointer")}function F(c,b){if("image"===c.type){var k=a("#image-canvas-caption #canvasCaption"),u=d.staticStrings,e=d.colorImages,g=c.color,y=c.index;if(f.isShoppableScenesEnabled()&&c.shoppableScene)var p=u.clickSceneTagsToShopProducts;else b&&d.useIV?p=u.clickToExpand:e[g]&&e[g][y].hiRes&&d.useHoverZoom?(p=d.useHoverZoomIpad?u.touchToZoom:d.useClickZoom?u.clickToZoom:u.rollOverToZoom,d.hoverZoomIndicator&&(p="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+p)):d.useIV&&
(p=u.clickToExpand);k.html(p)}}function D(c,a){return f.getIndexForVariant(c,a,d)}function H(c,a,b){var f=a.thumbnailIndex,e=d.colorToAsin[a.color]&&d.colorToAsin[a.color].asin;a="altImageHover"===b&&w&&w.altImageIdx===f&&w.asin===e&&"swatchClick"===w.event?!0:"swatchHover"===b?w&&w.asin===e&&w.event===b:w&&w.altImageIdx===f&&w.asin===e&&w.event===b;if(!a){var g="#",y=c.find(".imgTagWrapper img").get(0);y&&(g=y.src);c=new Image;c.onload=function(){if(y){y.src=g;var c=y.width,a=y.height,d=y.naturalWidth,
p=y.naturalHeight;try{var h=(Math.abs(c/d*p-a)/a).toFixed(2);.01<h&&(t.ue&&((("landing"!==b||k||u)&&"swatchClick"!==b||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===b||"swatchClick"===b)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==b||u?"altImageHover"!==b||k||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),k=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),u=!0)),t.ueLogError&&(c={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
t.ueLogError("swatchHover"===b?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+b+" Diff:"+h.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+f+" Event:"+b+" Diff:"+h.toString()+"]"},c)))}catch(ca){t.ueLogError&&(c={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(ca,c))}}};"#"!==g&&(c.src=g);w.altImageIdx=f;w.asin=e;w.event=b}}function r(c,b){var k="a-dynamic-image";if(!d.acEnabled){var u;
a.each(c.main,function(c,a){f.isDefined(u)||(u=parseFloat(a[1]/a[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});k+=u}var e=f.getMaxDimensionsOfMainImage(c.main,C,d),g=e[0],y=e[1];e=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":y};e.addClass(k).css(g).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return e}function x(c,a,b){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+c;"function"==typeof uet&&
uet("bb",d,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+c);b=q.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");b.addClass("celwidget").attr("cel_widget_id",d);b.children("span").css("display","inline-block");B.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});
"MutationObserver"in t&&(new MutationObserver(function(b,d){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:a.shoppableScene})}),d.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return b}function L(a,b,d){d=r(a,d);a=f.isShoppableScenesEnabled()&&a.shoppableScene?x(b,a,d):q.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);q.find(".list").append(a);
n.loadImageManually(d);n.trigger("dp:image-block:imageBlockImageLoad",b);return a}function S(a){var c=C.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");d.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}function l(a){if(a.isUserGenerated){var c=p.getPreviousItem(),b=a.variant;f.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(N.isEnabled&&I.logAltImgRequestServed(N),m.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===
b.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+b),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function e(b,e,g,h){if(2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||h||"unavailable"===b.type){if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(c=f.isDefined(e))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");g=f.getImageHash(b.color,b.index,d);if(-1===g)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
f.lazyLoadingRequired(b,p,d)||(B.dispatch("updateModel",e),f.showUnavailable(b.color)),-1;h=q.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(h)||(h=L(g,b.thumbnailIndex,e),c?(u=k=!1,H(h,b,"swatchClick")):H(h,b,"altImageHover"));S(h);B.dispatch("loadMagnifier");F(b);v(h,g);l(b);n.trigger("dp:image-block:update",g)}}else if(b=d.colorImages&&d.colorImages[g],a(".unrolledImg").each(function(b){a(this).remove()}),f.isDefined(b)){a.each(b,function(b,c){if(b<d.maxAlts){var k=a(".unrolledImg");
k[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=k.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}});n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var c=f.isDefined(e);c&&(m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
e())}}function h(a){var b=Math.max(D(a.color,p.getCurrentItem().variant),0);b=f.getImageHash(a.color,b,d);if(-1===b)return f.lazyLoadingRequired(a,p,d)||f.showUnavailable(a.color),-1;var c=q.find(".swatchHoverExp"),k=r(b);c.find(".imgTagWrapper").html(k);n.loadImageManually(k);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");S(c);H(c,a,"swatchHover");n.trigger("dp:image-block:update",b)}function z(b,k){f.lazyLoadingRequired(b,p,d)||(a("#imageBlock").css("opacity","1"),q.css("opacity","1"),
f.spinner(q,!1),q.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),k&&q.find(".list .item").remove())}function g(){var b=q.find(".item .imgTagWrapper"),k=f.getContainerHeight(C,d.holderRatio,d.holderMaxHeight);0<k&&(C.height(k),b.height(k));q.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&n.loadDynamicImage(this);var c=b.data("a-dynamic-image");c=f.getMaxDimensionsOfMainImage(c,C,d);b.css({"max-height":c[0]+
"px","max-width":c[1]+"px"})})}function G(b){F(p.getCurrentItem(),"mouseenter"===b.type)}var O,d,p,B,U,E,b,q,C,w={},A,Q=null,k=!1,u=!1;n.on("triggerImageAjax",function(b){var a=p.getCurrentItem().color;d.colorImages[a]||(d.colorImages[a]=b);b={type:"updatedData",data:p.getCurrentItem()};B.dispatch("updateView",b);(a=d.colorToAsin[a])&&a.asin&&M.register(f.rankedImagesReadyEvent(a.asin))});return function(c,k,u,l){O=this;d=c;p=k;B=l;d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];O.render=
function(c,k,u,g,h,l,y,m){q=2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?u:a(".unrolledScrollBox");b=g;C=h;A=J(k,c,l);l?0===k&&H(q.find(".item.itemNo0"),p.getCurrentItem(),"landing"):(k=p.getCurrentItem(),f.lazyLoadingRequired(k,p,d)&&B.dispatch("updateModel",{data:{type:"lazy-loaded"}}));z(p.getCurrentItem(),!l);2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?"swatchClick"===m&&d&&d.colorImages?(Q=d.colorImages[c],e(p.getCurrentItem(),y,c,l)):"updatedData"===
m&&d&&d.colorImages&&d.colorImages[c]!==Q&&(Q=d.colorImages[c],e(p.getCurrentItem(),y,c,l)):e(p.getCurrentItem(),y,c,l);return A};f.isImageBlockGridViewHoverDelayEnabled()?O.update=function(a){var c=a.data;p.setCurrentEvent(a);"ingress"!==c.type&&"swatchHover"!==a.type&&(p.setToPreviousItem(),"mouseenter"===a.type?(E&&clearTimeout(E),E=setTimeout(function(){p.setToCurrentItem(c);z(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?E&&clearTimeout(E):"click"===a.type&&(p.setToCurrentItem(c),
z(a.data,!1)));"swatchHover"===a.type?("ingress"!==c.type&&z(a.data,!1),c.color===p.getCurrentItem().color?e(p.getCurrentItem(),null,c.color,!0):a.captured||-1===h(c)||(a.captured=!0)):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+A),U&&clearTimeout(U),U=setTimeout(function(){e(c,null,c.color,!0);d.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,b)},f.getHoveringDelayTimer())):"mouseleave"===
a.type?U&&clearTimeout(U):"click"===a.type&&(e(c,null,c.color,!0),f.selectGivenThumbnail(a.$declarativeParent,b),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+A)))}:O.update=function(a){var c=a.data;p.setCurrentEvent(a);"ingress"!==c.type&&z(a.data,!1);"swatchHover"===a.type?c.color===p.getCurrentItem().color?e(p.getCurrentItem(),null,c.color,!0):a.captured||-1===h(c)||(a.captured=!0):"image"===c.type&&(c.interaction=a.type,
c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+A),e(c,null,c.color,!0),d.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+A))))};d.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");B.register("imageHover",G);B.register("resize",g)}});"use strict";M.when("A",
"jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,a,f,t){function m(f,l){f=a("\x3cimg src\x3d'"+(l?r.staticImages.shoppableSceneDotHighlighted:r.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:l?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(l?"active-tag":"inactive-tag");return f}function P(f){var l=a("\x3cspan\x3e");n.each(f.tags,function(f){var e=a("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+
"%",height:"auto",width:"auto"});e.append(m(f,!1));e.append(m(f,!0));e.bind("mouseenter",function(){I(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});n.declarative.create(e,"scenes-show-details-tags-ib",{tagId:f.link});l.append(e)});return l.children()}function I(a){a.addClass("mirai-scene-dot-pulsate");n.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function K(a,f){a.css({display:"none"});f.css({display:"inline-block"})}function J(a,f,e){a.eq(e).css({display:"inline-block"});
f.eq(e).css({display:"none"})}function v(a){M.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",{physicalId:a})})}function F(){var f=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),l=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",r.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(r.staticStrings.shoppableSceneViewProductsButton);
return f.append(l).append(e)[0].outerHTML}function D(a){function f(){a.$tagPlaceholder.replaceWith(h);var d=h.find(".mirai-scene-tag.active-tag"),f=h.find(".mirai-scene-tag.inactive-tag");J(d,f,0);I(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));L=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});x=!0;t.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var e=a.$viewProductsButton.find(".a-button-text");
if(0===e.children().length){e.append(F());n.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var h=P(a.shoppableScene),m=h.find(".mirai-scene-tag.active-tag"),g=h.find(".mirai-scene-tag.inactive-tag"),v=a.shoppableScene.physicalId,x=!1;n.on("mirai:index:change",function(a){a.scenePhysicalId===v&&(a=a.selectedIndices[0],K(m,g),J(m,g,a),I(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),L=!0)});n.on("mirai:scene-details-change",
function(a){a.physicalId!==v||L||(K(m,g),J(m,g,0),I(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),L=!0)});n.on("mirai:no-products-active",function(a){a.scenePhysicalId===v&&K(m,g)});n.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===v&&(K(m,g),J(m,g,0))});n.on("a:image:load:shoppable-scene:"+a.index,function(){x||(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",function(d){d.index!=a.index||x||
(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});M.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){n.trigger("mirai:scene-side-sheet-init",{icons:r.staticImages,strings:r.staticStrings});n.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var H,r,x,L=!1;return function(a,l,e,h){H=this;r=a;x=h;f.isShoppableScenesEnabled()?(x.register("initialize-shoppable-scene",D),H.render=
function(a,f,e,h,d,p,l){},H.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?v(a.data.shoppableScene.physicalId):L=!1)}):(a=function(){},H.render=a,H.update=a)}});M.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var V="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"===typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};M.when("A","jQuery",
"Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,a,f,P,m,N,I,K,J){function v(a){return null!==a&&"undefined"!==typeof a}function F(b){var k=0;a.each(b,function(a,b){a=parseInt(b[1],10);a>k&&(k=a)});return k}function D(b){var k=0;a.each(b,function(a,b){a=parseInt(b[0],10);a>k&&(k=a)});return k}function H(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=F(a);0<a&&(b=Math.min(b,
a));return b}function r(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function x(b){var k;a.each(b,function(a,b){v(k)||(k=b[1]/b[0])});return k||1}function L(b,d,c,e,g,h,m,n,q,r,t,w,v,x,C){var k=a.extend({},c.foresterMetadataParams);null!==e&&(k.method+="."+e);var u=[];d.disabledViewIds&&(u=d.disabledViewIds);C=C&&C.videoBackgroundChromefulMainView?C.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===x&&(C="transparent");return f.embed({parentElement:b[0],
streamingUrls:d.url,contentId:d.mediaObjectId,contentMinAge:Number(d.minimumAge||"")||0,contentTitle:d.title,swfUrl:c.swfUrl,foresterMetadataParams:k,backgroundColor:C,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:d.slateUrl,postMediaSlate:d.slateUrl},videoAds:c.videoAds,bindings:{play:function(){if("ImmersiveView"===e)p||(p=!0,P.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(B||(B=!0,P.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var a=P.buildNexusMetric("ib.thumbnailClick",
q,d.mediaObjectId,d.groupType,t,w,v);P.emitNexusMetric(a)}}},cuePoints:[{values:d.durationSeconds-1,type:"position",callback:function(a,b,c){g&&(M(0,h,n),l(m))}}],disabledViewIds:u})}function M(a,b,c){b.fadeTo(500,0,function(){e(a,c);b.fadeTo(500,1)})}function l(a){a&&a.toggle()}function e(b,d){d=d.find("img");v(d[b])&&a(d[b]).click()}function h(a,d){b[a]=d?d:b[a];return b[a]}function z(b,d,c){c=c||E;c=c.colorImages;if(1>c.length||!v(c[b])||!v(d))return-1;var k=-1;a.each(c[b],function(a,b){b.variant===
d&&(k=a)});return k}function g(b,d,c){c=c||E;c=c.colorImages;return!(v(c)&&v(c[b])&&v(c[b][d])&&v(c[b][d].main))||1>a.map(c[b][d].main,function(a,b){return b}).length?-1:c[b][d]}function G(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function O(b,d){var c;if(c=b.useIV)c=b.colorImages&&b.colorImages[d]&&0<b.colorImages[d].length?!0:!1;b=c;I.isEnabled&&(I.IVApplicaple=b,K.logImmersiveViewApplicability(a,I));return b}function d(){return 0<
a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var p,B,U,E=a.extend(!0,{},m,N),b={},q=0,C=0,w=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,A={},Q={};return{isDefined:v,isDefinedAndEmpty:function(a){return v(a)&&"object"===("undefined"===typeof a?"undefined":V(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return v(a)?"object"===("undefined"===typeof a?"undefined":V(a))&&0===Object.keys(a).length:!0},
isDefinedAndNotEmpty:function(a){return v(a)?"object"===("undefined"===typeof a?"undefined":V(a))&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:x,getMaxHeightOfMainImage:r,getMaxWidthOfMainImage:H,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=r(a,b,c);b=H(a,b,c);a=x(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(v(d)){a=Math.min(d.offsetWidth/
b,c);var f;b=E.mainImageHeightPartitions;c=E.mainImageMaxSizes;if(v(c)&&v(b)){var k=0,e=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;for(d=0;d<b.length;d++)e>b[d]&&(k=d+1);c.length>=k&&(f=c[k])}v(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(b,d){if(b){d=d||E;var c="";a.each(d.visualDimensions,function(a,d){b[d]&&(c+=" "+b[d])});return c&&c.substring(1)}},createThumbnail:function(a,b,c,f){var e=c.find(".template").clone().removeClass("template").addClass("item"),
k=document.createElement("img");k.src=b;e.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&e.addClass("heroImageThumbnail");v(f)&&e.addClass(f);d()&&e&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",k.parentNode.insertBefore(f,k));n.declarative.create(e,"thumb-action",a);e.attr&&(e.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),
e.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(e.attr("data-csa-c-type","uxElement"),e.attr("data-csa-c-element-type","navigational"),e.attr("data-csa-c-action","image-block-alt-image-hover")),e.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(e);return e},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
a.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,f,e,g,h){L(a,b,c,d,f,e,g,h,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:L,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(U={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(U)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):
a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},
fadeToThumbnail:M,toggleVideoCaption:l,selectThumbnail:e,spinner:function(b,d){var c=a("#imageBlock .a-spinner").parent();0===c.length&&(c=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(c),c.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px",
"-moz-border-radius":"20px","border-radius":"100%"}));d?c.show():c.hide();return c},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:h,getIndexForVariant:z,getImageHash:g,lazyLoadingRequired:function(a,b,c){b=Math.max(z(a.color,b.getCurrentItem().variant,c),0);b=-1!==g(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==h(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},
updateAspectRatio:G,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();G(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!v(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return v(a)&&v(a[b])&&v(a[b].url)?a[b]:-1},isImmersiveViewEnabled:O,playVideoInImmersiveView:function(a,b){return O(a,b)&&a.useTabbedImmersiveView},
useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return v(U)?U.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return J.isEnabled&&
0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:d,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return q},updateThumbnailHoverDelay:function(a){if(v(a)){q=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c=C;a=a.closest("ul").attr("class");a===aa?c=!1:(a=
w.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(q=100);C=b}}},setDimensionIngressData:function(a,b,c){A[a]=b;Q[a]=c},isDimensionIngressEnabled:function(a){return!!A[a]},getDimensionVariantList:function(a){return Q[a]},logError:function(a,b,c,d){t.ueLogError&&t.ueLogError(d,{logLevel:a,attribution:b,message:c})}}});"use strict";M.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,
a,f,P,m,N){function I(c,d,e,g){!b.autoplayVideo||ka||b.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&(e=q.getCurrentItem(),!g||b.prioritizeVideos||"chromeless-video"===e.type&&b.autoplayVideo)&&(g=f.getVideoHash(e.color,0,b),-1===g||e.thumbnailIndex>=b.maxAlts-1||(d+=0,C.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:g.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),f.selectGivenThumbnail(a(d),
c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,k,c))}function K(a){var c=q.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:q.getCurrentItem()};C.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?d():M.when(f.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function J(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:q.getCurrentItem()},
C.dispatch("updateView",a))}function v(a){if(!b.useChildVideos)return f.lazyLoadingRequired(q.getCurrentItem(),q,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(a){K(a)},P.load("/gp/product/features/apparel-main-image/videos.html",d));return b.colorToVideo&&
b.colorToVideo[a]}}function F(a){c&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(c.hide(),A.parent().css("z-index",-1),Q.hide())}function D(a,d,e){d=k.width()/k.height();var g=parseInt(a.videoWidth,10),h=parseInt(a.videoHeight,10);f.updateAspectRatio(d,g,h,A);if(c&&"unrolled-video-add"!==e)c.show(),f.loadMediaIntoAiry(c,a,y,b.tabletWeb);else if(b.tabletWeb)c=R;else{if("unrolled-video-add"===e){c=R;return}if(null===R||R===aa)Y=setInterval(function(){c=R;c!==aa&&
null!==c&&(c.show(),f.loadMediaIntoAiry(c,a,y,b.tabletWeb),H(),l(c),clearInterval(Y),Y=null)},500);else if(c=R,c!==aa&&null!==c){c.show();f.loadMediaIntoAiry(c,a,y,b.tabletWeb);H();l(c);return}}H();l(c)}function H(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(b)){if(1<f.getVideosCount(q.getCurrentItem().color,b)){if(f.isDefined(u)){Q.show();return}u=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);
Q.find("#videoCaption").append(u);n.declarative.create(u,"videoIngressClick",T)}f.playVideoInImmersiveView(b,q.getCurrentItem().color)&&(n.declarative.create(A,"videoIngressClick",T),A.attr&&A.attr("data-ux-click",""),A.children().css("z-index","-1"),A.css("display","inline-block"))}else Q.find("#videoCaption").text(b.staticStrings.playVideo),Q.show()}function r(a,c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=f.getVideoHash(a.color,a.index,b);if(-1===
d)return-1;"chromeful-video"===a.type&&D(d,a.thumbnailIndex+1,c)}}function x(c,d,e){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&e)return c;var g=v(d);d=c;var h=a(".unrolledImg"),k=f.isDefined(g)&&0<g.length&&b.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&m.postCountMetric("IBVideoDrop");h.length>b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});k&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?
(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):w.find(".item:last").remove(),c--);f.isDefined(g)&&(a.each(g,function(d,e){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||L(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:h,index:d,thumbnailIndex:c,variant:e.variant};T={type:"video-ingress",index:d,thumbnailIndex:c,variant:e.variant};f.useTabbedImmersiveView(b)&&("chromeful-video"===h&&(ia+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ia+=
" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ia+=" videoImageBlockGridView");f.createThumbnail(k,e.thumb,w,ia);2===b.dp60VideoPosition&&L(w,b.dp60VideoPosition);f.useTabbedImmersiveView(b)&&(S(w.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL),d=1<g.length?"multiple-videos":"one-video",(k=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:1<g.length?g.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo)&&w.find(".videoBlockIngress").append(w.find("#videoCount_template").clone().text(k).attr("id",
"videoCount")).addClass(d));e=m.buildNexusMetric("ib.thumbnailRender",c+1,e.mediaObjectId,e.groupType,Z,W,ba,da);m.emitNexusMetric(e);ca||(ca=!0,m.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(b))return!1}),I(w,d,c,e),O(p),b.imageBlockRenderingStartTime&&m.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-b.imageBlockRenderingStartTime));return c}function L(c,d){if(0!==d)if(2===b.unrolledImageBlockTreatment||
3===b.unrolledImageBlockTreatment){var f=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage");c=c.children(".thumbType"+f);e&&c&&e[d-1]&&a(e[d-1]).before(c[0]);c=a(".unrolledScrollBox .list-unrolled");e=c.children(".unrolledImg.imgMedia");c=c.children(".unrolledImg.videoMedia");e&&c&&e[d-1]&&a(e[d-1]).before(c[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&
(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else e=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),e&&c&&e[d-1]&&a(e[d-1]).before(c[0])}function S(a,b){var c=a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function l(a){b.autoplayVideo&&a&&!ka&&(f.toggleVideoCaption(Q),a.setVolume(0),a.show(),a.play(),ka=!0)}function e(d){c&&c.pause();d.data=T;d.clickTimeStamp=
d.$event.timeStamp;var e="a"===d.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";C.dispatch("imageClick",d);m.postTimeMetric("dpcc_vse_videoingressclick",d.$event.timeStamp);d=m.buildNexusMetric("ib.thumbnailClick",d.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,Z,W,ba,da);m.emitNexusMetric(d);m.postCountMetric(e);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function h(b){null!==
c&&c!==aa&&(c.frame&&c.frame.remove(),c=null,R.frame&&R.frame.remove(),R=null);R=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");R.hide=function(){R.pause();n.$("#main-video-container").find(".vse-player-container").hide()};R.show=function(){n.$("#main-video-container").find(".vse-player-container").show()};R.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function z(c,d,g,h,p,l){F(l);A=null!==l?a("#unrolledImgNo"+l.thumbnailIndex):
h.find("#main-video-container");Q=null!==l?"":A.parent().find("#video-canvas-caption");k=null!==l?a(".unrolledScrollBox"):a("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(A.addClass("videoCenter"),h.find("#video-outer-container").addClass("videoWrapperCenter"));Z=t.location.href;c=q.getCurrentItem().color;!0===p?W=b.mediaAsin:(W=b.colorToAsin[c]&&b.colorToAsin[c].asin,W=f.isDefined(W)?W:b.mediaAsin);b.useChromelessVideoPlayer||A.addClass("chromeful-container");null!==
l?r(l,"unrolled-video-add"):r(q.getCurrentItem(),"");f.useTabbedImmersiveView(b)&&n.declarative("videoIngressClick",["click"],e);if(-1!==m&&null!==l){c=q.getCurrentItem().color;var m=f.getVideoHash(c,l.index,b);N.get(n,"#unrolledImgNo"+l.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:m.marketPlaceID,clientPrefix:"mbSoftlines"+l.thumbnailIndex,locale:m.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:m.url,
imageURL:m.slateUrl}},function(){n.$("#unrolledImgNo"+l.thumbnailIndex).find(".vse-player-container").show()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,b){function c(a){a=Math.floor((w.width()-1)/g);a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}var d=0!=w.find(".item.videoThumbnail").length,e=b.eq(0).width(),f=b.eq(1).position().left-b.eq(0).position().left-
e,g=e+f;c();a.register("resize",c)}function G(a){var b=w.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){g(a,b)})}}function O(a){try{if(!a)return!1;la=a;fa=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ja&&ja.disconnect();0<fa.length&&(ja=new IntersectionObserver(d,a));fa.forEach(function(a){ja.observe(a)})}catch(pa){m.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function d(a){la(a,ma,oa,fa,na)}function p(b,c,d,e,f){try{a.each(b,function(b,f){var g=a(e).index(f.target);f.isIntersecting?(c=c.slice(),c.push(g)):c=c.filter(function(a){return a!==g});d=c.sort(function(a,b){return a-b})});var g=B(d,f);if(0!==g.length&&0!==d.length){var h=q.getCurrentItem().color,k=v(h);U(k,g)}}catch(ra){m.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}function B(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function U(b,c){try{if(!b||!c||0===
b.length||0===c.length)return!1;a.each(c,function(a,c){if(c=1===fa.length?b[0]:b[c])a=m.buildNexusMetric("ib.thumbnailImpression",a+1,c.mediaObjectId,c.groupType,t.location.href,W,ba,da),m.emitNexusMetric(a)})}catch(qa){m.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var E,b,q,C,w,A,Q,k,u,c,y,T,ea,R,W,Z,ba,da,V,ha,X,ca=!1,ka=!1,ia="videoThumbnail",Y=null,ja=null,oa,na=[],fa,ma=[],la=null;return function(c,d,e,g){E=this;b=c;q=d;C=g;y=b.airyConfig;ba=b.contentWeblab&&b.contentWeblab+":"+
b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(V="tablet",da="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(V="tablet",n.capabilities.isAmazonApp&&(da="applicationType.ImageBlock.vse_ib_tablet_app")):(V="desktop",da="desktop_web.ImageBlock.vse_ib_iv");E.render=function(c,d,e,g,h,k){null!==Y&&(clearInterval(Y),Y=null,A&&A.parent&&A.parent().css("z-index",-1),Q&&Q.hide&&Q.hide());var p=[];if(2===
b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){w=a("ul.regularAltImageViewLayout");ea=x(d,c,k);p=[];d=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var l=0;l<d.length;l++){var m=d[l].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",r=Number(d[l].classList[2].slice(10)),u=a(".thumbItemUnrolled").index(d[l]);p.push({color:c,thumbnailIndex:u,
type:m,varient:"MAIN",index:r})}for(l=0;l<p.length;l++)z(c,e,g,h,k,p[l])}else w=g,ea=x(d,c,k),z(c,e,g,h,k,null),c=q.getCurrentItem().color,e=f.getVideoHash(c,0,b),-1!==e&&(c=b.tabletWeb?f.getNilgiriServiceAjaxRequest(b,c,e):{requester:"MediaBlockSoftlines",marketplaceID:e.marketPlaceID,clientPrefix:"mbSoftlines",locale:e.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:e.url,imageURL:e.slateUrl}},N.get(n,"#main-video-container",
c,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&G(C);return ea};E.setupIntersectionObserverToWatchVideoThumbnail=O;E.emitMultipleImpressionMetric=U;f.isImageBlockGridViewHoverDelayEnabled()?E.update=function(a){null!==Y&&(clearInterval(Y),Y=null,A&&A.parent&&A.parent().css("z-index",-1),Q&&Q.hide&&Q.hide());var c=a.data;"ingress"===c.type||"swatchHover"===a.type||
f.lazyLoadingRequired(c,q,b)||(q.setToPreviousItem(),"mouseenter"===a.type?(X&&clearTimeout(X),X=setTimeout(function(){q.setToCurrentItem(c);F(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?X&&clearTimeout(X):"click"===a.type&&(q.setToCurrentItem(c),F(null)));if("swatchHover"===a.type)"ingress"===c.type||f.lazyLoadingRequired(c,q,b)||F(null),c.color===q.getCurrentItem().color?r(q.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,q,b)&&!f.lazyLoadOnHoverEnabled(b)&&r(q.getCurrentItem(),
"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(m.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ea),"chromeless-video"===c.type&&(d=m.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Z,W,ba,da),m.emitNexusMetric(d)),ha&&clearTimeout(ha),ha=setTimeout(function(){r(c,"");!b.usePeekHover&&n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(a.$declarativeParent,
w)},f.getHoveringDelayTimer())):"mouseleave"===a.type?ha&&clearTimeout(ha):"click"===a.type&&(r(c,""),n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,w),d=m.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Z,W,ba,da),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==V)&&m.emitNexusMetric(d),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(d),m.postCountMetric("dpcc_videoThumbClicked_"+
(c.thumbnailIndex+1)+"_"+ea),T.action="videoIngressClick",T.clickTimeStamp=a.$event.timeStamp,T.$event=a.$event,T.$currentTarget=a.$currentTarget,C.dispatch("videoIngressClick",T),m.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:E.update=function(a){null!==Y&&(clearInterval(Y),Y=null,A&&A.parent&&A.parent().css("z-index",-1),Q&&Q.hide&&Q.hide());var c=a.data;"ingress"===c.type||f.lazyLoadingRequired(c,q,b)||F(null);if("swatchHover"===a.type)c.color===q.getCurrentItem().color?
r(q.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,q,b)&&!f.lazyLoadOnHoverEnabled(b)&&r(q.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,b);if("mouseenter"===a.type&&(m.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ea),"chromeless-video"===c.type)){var e=m.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Z,W,ba,da);m.emitNexusMetric(e)}r(c,"");b.usePeekHover&&
"click"!==a.type||!n.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,w),"click"===a.type&&(d=m.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Z,W,ba,da),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==V)&&m.emitNexusMetric(d),f.useTabbedImmersiveView(b)&&(m.emitNexusMetric(d),m.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ea),T.action="videoIngressClick",T.clickTimeStamp=
a.$event.timeStamp,T.$event=a.$event,T.$currentTarget=a.$currentTarget,C.dispatch("videoIngressClick",T),m.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",K),n.on("notShowVideoCountAjax",J));n.on("vsePlayer-imageblock_tablet",h);n.on("vsePlayer-mbsoftlines",h)}});"use strict";M.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,a){function f(a,f,N,I,K){function m(a){"click"===a.type&&I.postCountMetric("thumbClick");
"click"===a.type&&g.overrideAltImageClickAction?G.dispatch("thumbActionClick",a):G.dispatch("updateSelection",a)}function v(a){g.useClickZoom||G.dispatch("imageClick",a)}function F(a){g.useClickZoom||G.dispatch("imageHover",a)}function D(a){G.dispatch("button360Click",a)}function H(d){!N.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(z.update(d),"swatchHover"!==d.type&&O.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&I.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",
d.data)):(z.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",d))}function r(a){G.dispatch("resize",a)}function x(a){N.selectThumbnail(a,d)}function L(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function P(){g.interactiveCallJSPEnabled||
("function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===n.useIV?M.when("a-modal").execute(function(){L()}):L());g.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],m);a.declarative("thumb-action",["click"],m);a.declarative("main-image-click",["click"],v);a.declarative("main-image-click",
["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],D);a.on("resize",r)}function l(a){var d=a.data,e;d&&"ingress"!==d.type&&"click"===a.type&&(e=a);return e}function e(a){var d=O.getCurrentItem(),e={type:"click"};e.$declarativeParent=a;e.data=d;return e}function h(a){N.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&N.updateThumbnailHoverDelay(a.$target)}var z,g,G,O,d;return function(a,m,n){z=this;g=a;G=m;O=n;d=f("#imageBlock #altImages ul");var p=f("#imageBlock .canvas"),
b=f("#main-image-container"),q;z.subViews=[];for(m=0;m<K.length;m++)z.subViews.push(new K[m](a,n,z,G));z.render=function(a,h,l,m){var k=0;d.find(".item").remove();a=a||O.getCurrentItem().color;f.each(z.subViews,function(c,e){k=(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment?e.render(a,k,p,d,b,h,l,m):e.render(a,k,p,d,b,h,l))||k});var n=d.find(".a-button-selected").closest(".a-declarative");q=e(n)};z.init=function(){d=f("#imageBlock #altImages ul");var a=d.find(".a-button-selected").closest(".a-declarative"),
b=a.data("action");a=a.data(b)||{};a.color=g.landingAsinColor||g.defaultColor;G.dispatch("updateModel",{data:a});z.render(a.color,!0);g.isDebug&&t.console&&console.log(g);G.register("updateView",H);G.register("selectThumbnail",x);P()};z.update=function(a){h(a);f.each(z.subViews,function(b,d){d.update(a)});g.usePeekHover&&("mouseleave"===a.type?G.dispatch("updateSelection",q):"click"===a.type&&(q=l(a)||q))}}}a=["A","jQuery","imageBlockUtils","postMetric"].concat(n.views);M.when.apply(M,a).register("ImageBlockView",
function(){for(var a=arguments[0],m=arguments[1],n=arguments[2],t=arguments[3],K=[],J=4,v=arguments.length;J<v;J++)K.push(arguments[J]);return f(a,m,n,t,K)})})});
/* ******** */
(function(E){var K=window.AmazonUIPageJS||window.P,la=K._namespace||K.attributeErrors,h=la?la("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):K;h.guardFatal?h.guardFatal(E)(h,window):h.execute(function(){E(h,window)})})(function(E,K,la){E.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(h,a,d,m,k){function G(b,c){var l=a(b+" image").attr("data");a(b+" image")[0].setAttribute("href",
l);b=new Image;b.src=l;b.onload=function(){c(this.width/this.height)}}function u(b){null!==a(b.euclidSvg)&&(new Promise(function(c,a){G(b.euclidSvg,c)})).then(function(c){if(null===a(b.featureDiv)||0===a(b.featureDiv).length||0>=c)var l=null;else{var d=a(b.featureDiv).width(),r=a(b.featureDiv).height(),e=2*(16+y(b.euclidHeightText,b.numberSpace)+10),v=d-e,g=a(b.euclidHeightLine).data("euclid-height-startx");0>g?e+=v*Math.abs(g)*2:1<g&&(e+=v*(g-1)*2);v=d-e;0>v&&(e=152);var p=a(b.euclidWidthLine).data("euclid-width-starty"),
h=1<p?r*(p-1)+50:50,f=r-h;if(v/f>c)var q=f*c,ka=f,ha=f*c+e,aa=r;else q=v,ka=v/c,ha=d,aa=v/c+h;l={imageWidth:q,imageHeight:ka,svgWidth:ha,svgHeight:aa}}if("undefined"===typeof l||null===l||10>=l.imageWidth||10>=l.imageHeight||10>=l.svgWidth||10>=l.svgHeight)k.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var t=l,m=b.euclidSvg;a(m+" image").attr("width",t.imageWidth);a(m+" image").attr("height",t.imageHeight);a(m).attr("width",t.svgWidth);a(m).attr("height",t.svgHeight);var C=(t.svgWidth-
t.imageWidth)/2;a(m+" image")[0].setAttribute("x",C);a(m+" image")[0].setAttribute("y",10);var u=t.imageWidth,R=t.imageHeight,A=(t.svgWidth-t.imageWidth)/2,D=a(b.euclidLengthLine).data("euclid-length-startx")*u,ba=a(b.euclidLengthLine).data("euclid-length-starty")*R,z=a(b.euclidLengthLine).data("euclid-length-endx")*u,S=a(b.euclidLengthLine).data("euclid-length-endy")*R,F=a(b.euclidWidthLine).data("euclid-width-startx")*u,I=a(b.euclidWidthLine).data("euclid-width-starty")*R,w=a(b.euclidWidthLine).data("euclid-width-endx")*
u,Q=a(b.euclidWidthLine).data("euclid-width-endy")*R,G=a(b.euclidHeightLine).data("euclid-height-startx")*u,H=a(b.euclidHeightLine).data("euclid-height-starty")*R,N=a(b.euclidHeightLine).data("euclid-height-endx")*u,L=a(b.euclidHeightLine).data("euclid-height-endy")*R,E=(Q-I)/(w-F),U=0>=E?"leftInclined":"rightInclined",ua=1/E,pa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ua,2)))),sa=0===pa?16:Math.abs(ua*pa),ta=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ua,2)))),wa=0===ta?3:Math.abs(ua*ta),kb=
(S-ba)/(z-D),Wa=1/kb,qa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Wa,2)))),B=0===qa?16:Math.abs(Wa*qa),M=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Wa,2)))),P=0===M?3:Math.abs(Wa*M),na=0>=kb?"leftInclined":"rightInclined";if(.5<a(b.euclidHeightLine).data("euclid-height-startx")){var V=G+A+16,W=H+10,X=N+A+16,Y=L+10,da=G+A+16-3,ra=H+10,fa=G+A+16+3,ja=H+10,oa=N+A+16-3,la=L+10,lb=N+A+16+3,mb=L+10,nb=(V+X)/2+5,ob=(W+Y)/2+8,Ea=w+A+pa,Fa=Q+sa+10,Ga=F+A+pa,Ha=I+sa+10,pb=w+A+pa-ta,qb=Q+sa-wa+10,rb=w+
A+pa+ta,sb=Q+sa+wa+10,tb=F+A+pa-ta,ub=I+sa-wa+10,vb=F+A+pa+ta,wb=I+sa+wa+10;if("leftInclined"===U){var Xa=(Ea+Ga)/2;var Ya=(Fa+Ha)/2+15}else Xa=(Ea+Ga)/2+5,Ya=(Fa+Ha)/2;var Ia=D+A-qa,Ja=ba+B+10,Ka=z+A-qa,La=S+B+10,xb=D+A-qa-M,yb=ba+B+P+10,zb=D+A-qa+M,Ab=ba+B-P+10,Bb=z+A-qa-M,Cb=S+B+P+10,Db=z+A-qa+M,Eb=S+B-P+10,Hb=y(b.euclidLengthText,b.numberSpace);if("leftInclined"===na)var Za=(Ia+Ka)/2,$a=(Ja+La)/2+15;else Za=(Ia+Ka)/2-Hb,$a=(Ja+La)/2+15}else{V=G+A-16;W=H+10;X=N+A-16;Y=L+10;da=G+A-16-3;ra=H+10;
fa=G+A-16+3;ja=H+10;oa=N+A-16-3;la=L+10;lb=N+A-16+3;mb=L+10;var Ib=y(b.euclidHeightText,b.numberSpace);nb=(V+X)/2-Ib-3;ob=(W+Y)/2+8;Ea=w+A-pa;Fa=Q+sa+10;Ga=F+A-pa;Ha=I+sa+10;pb=w+A-pa-ta;qb=Q+sa+wa+10;rb=w+A-pa+ta;sb=Q+sa-wa+10;tb=F+A-pa-ta;ub=I+sa+wa+10;vb=F+A-pa+ta;wb=I+sa-wa+10;var Fb=y(b.euclidWidthText,b.numberSpace);"leftInclined"===U?(Xa=(Ea+Ga)/2-Fb,Ya=(Fa+Ha)/2):(Xa=(Ea+Ga)/2-Fb,Ya=(Fa+Ha)/2+15);Ia=D+A+qa;Ja=ba+B+10;Ka=z+A+qa;La=S+B+10;xb=D+A+qa+M;yb=ba+B+P+10;zb=D+A+qa-M;Ab=ba+B-P+10;Bb=
z+A+qa+M;Cb=S+B+P+10;Db=z+A+qa-M;Eb=S+B-P+10;"leftInclined"===na?(Za=(Ia+Ka)/2,$a=(Ja+La)/2+15):(Za=(Ia+Ka)/2+15,$a=(Ja+La)/2)}var Jb=Ia;var Kb=Ja;var Lb=Ka;var Mb=La;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Eb;var Vb=Za;var Wb=$a;var Xb=Ea;var Yb=Fa;var Zb=Ga;var $b=Ha;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=wb;var ic=Xa;var jc=Ya;var kc=V;var lc=W;var mc=X;var nc=Y;var oc=da;var pc=ra;var qc=fa;var rc=ja;var sc=oa;var tc=la;
var uc=lb;var vc=mb;var wc=nb;var xc=ob;ca(m+" .hit-pd-euclid-height-line",kc,lc,mc,nc);ca(m+" .hit-pd-euclid-height-start",oc,pc,qc,rc);ca(m+" .hit-pd-euclid-height-end",sc,tc,uc,vc);K(m+" .hit-pd-euclid-height-text",wc,xc);ca(m+" .hit-pd-euclid-width-line",Xb,Yb,Zb,$b);ca(m+" .hit-pd-euclid-width-start",ac,bc,cc,dc);ca(m+" .hit-pd-euclid-width-end",ec,fc,gc,hc);K(m+" .hit-pd-euclid-width-text",ic,jc);ca(m+" .hit-pd-euclid-length-line",Jb,Kb,Lb,Mb);ca(m+" .hit-pd-euclid-length-start",Nb,Ob,Pb,Qb);
ca(m+" .hit-pd-euclid-length-end",Rb,Sb,Tb,Ub);K(m+" .hit-pd-euclid-length-text",Vb,Wb);T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(b===ea&&"dimension-ingress-image"===J.getCurrentItem().type?(O(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),k.postTimeMetric("dppc_loadDimensionHeroTime",
Date.now()-xa)):b===ma&&(a("ivDimensionTab").css("display","block"),n(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),k.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ia)))}});T("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&U(b===ea,J.getCurrentItem(),null)}function y(b,c){return a(b).text().replace(/[^0-9]/g,"").length*c+5}function ca(b,c,l,d,r){b=a(b)[0];b!==la&&null!==b&&(b.setAttribute("x1",c),
b.setAttribute("y1",l),b.setAttribute("x2",d),b.setAttribute("y2",r))}function K(b,c,l){var d=a(b)[0];d!==la&&null!==d&&(d.setAttribute("x",c),d.setAttribute("y",l),b=a(b+" tspan"),b!==la&&null!==b&&2===b.length&&(b[0].setAttribute("x",c),b[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),b[1].setAttribute("x",c),b[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function P(b){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(b=
g(b.color),b in F)T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&F[b].clone().appendTo(a("#imageBlock #main-image-container"));else{var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&c.clone().appendTo(a("#imageBlock #main-image-container")),F[b]=c):na(b)}u(ea)}}function na(b){try{setTimeout(function(){ja++;
var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(b in F||(F[b]=c),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&c.clone().appendTo(a("#imageBlock #main-image-container")),u(ea)):100>ja&&na(b)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+
c)}}function T(b){return"true"===a(b).attr("data-should-use-in-hero")}function U(b,c,d){var l=f.colorImages[c.color],r=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");r&&0<r.length?(l=W(l),X(l,b,c,d)):V(l,b,c,d)}function V(b,c,d,x){try{setTimeout(function(){e++;var l=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");l&&0<l.length?(l=W(b),X(l,c,d,x)):100>
e?V(b,c,d,x):(k.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),l=b[0],X(l,c,d,x))},100)}catch(r){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+r)}}function W(b){for(var c=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),d=b[0],e=0;e<b.length;e++){var r=b[e];r.variant===c&&(d=r)}d===b[0]&&k.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return d}function X(b,c,l,e){c?((c=R.find(".item.dimensionItemNo"+l.thumbnailIndex))&&c.remove(),c=l.thumbnailIndex,e=H(b,e),l=R.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),l.addClass("image item dimensionItemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1}),l.find(".placeHolder").replaceWith(e),l.find(".a-declarative").attr("data-action",
"dimension-hero-click"),R.find(".list").append(l),h.loadImageManually(e),e=c=l,l=aa.css("height"),null!==l&&e.find(".imgTagWrapper").css("height",l),e.addClass("selected"),f.imgTagWrapperClasses&&e.find(".imgTagWrapper").addClass(f.imgTagWrapperClasses),v.dispatch("loadMagnifier"),e=c,f.useIV&&d.isDefined(b.hiRes)&&e.css("cursor","pointer"),h.trigger("dp:image-block:update",b)):(Y(b),n(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function Y(b){var c=a("#ivDimensionTab #ivLargeDimensions");
if(0<c.find(".imgTagWrapper").length){var d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return E(c,d)}d=a("\x3cdiv\x3e\x3c/div\x3e");d.addClass("imgTagWrapper");var e=a("\x3cimg\x3e");d.html(e);c.append(d);d=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");d.attr("src",b.hiRes);return E(c,d)}function E(b,c){b=b.closest("#ivStageDimensions");var a=b.width();b={height:"auto","max-height":b.height(),"max-width":a,"text-align":"center"};c.css(b);c=c.closest(".imgTagWrapper");
c.css(b);return c}function H(b,c){var e="a-dynamic-image";if(!f.acEnabled){var v;a.each(b.main,function(c,b){d.isDefined(v)||(v=parseFloat(b[1]/b[0])<=parseFloat(f.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});e+=v}var r=d.getMaxDimensionsOfMainImage(b.main,aa,f),g=r[0],p=r[1];r=a("\x3cdiv\x3e\x3c/div\x3e");g={"max-height":g,"max-width":p};r.addClass(e).css(g).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:c}).data("a-dynamic-image",b.main);return r}function q(){a("#image-canvas-caption #canvasCaption").html(f.dimensionIngressAtfData.initial.heroImageCaption)}
function g(b){b=f.colorToAsin[b].asin;b||(b=f.mediaAsin);return b}function D(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function O(){null!==a(ea.euclidSvg)&&0!==a(ea.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):U(ea,J.getCurrentItem(),null)}function C(b,c){f.usePeekHover&&"click"!==c.type||d.selectGivenThumbnail(c.$declarativeParent,b)}function I(b){b.action="dimensionIngressClick";b.data=ba;v.dispatch("dimensionIngressClick",b)}function z(){ia=Date.now();if(S&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var b=g(J.getCurrentItem().color);a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var c=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",c);b in F?F[b].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c.length?(c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),F[b]=c):L(b));m.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,f);m.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));N();S=!1;b=a("#iv-tab-view-container").find("#ivThumbsDimensions");
b.find(".ivRow").not(".placeholder").remove();c=b.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(b);var d=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,e=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var r=
f.colorImages[J.getCurrentItem().color];r=W(r);Y(r);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}M(b,c,r.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}e&&(r=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),M(b,c,r,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}w()}function w(){ka=a("#ivDimensionTab").height();if(0!==
ka){m.detachImmersiveViewResizeHandler(z);var b=a("#ivDimensionTab #ivMainDimensions"),c=a("#ivDimensionTab").height(),d=a("#ivDimensionTab").width();b.css("height",c);b.css("width",d);d=b.find("#ivTitleDimensions").outerHeight(!0);var e=b.find("#ivVariationSelectionDimensions").outerHeight(!0),r=b.find("#ivThumbsDimensions"),v=m.getDimension(r,"margin-top")+m.getDimension(r,"margin-bottom");r.css("height",c-d-e-v);d=b.find("#ivStageDimensions");b=(b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||
b.width())-m.getDimension(b,"padding-left")-m.getDimension(b,"padding-right")-b.find("#ivThumbColumnDimensions").width()-m.getDimension(d,"margin-left")-m.getDimension(d,"margin-right");d.css("width",b);d.css("height",c);u(ma)}}function M(b,c,a,d,e){b=b.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:e}).appendTo(c);b.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(a)+'") center no-repeat');d.hasClass("aok-hidden")||b.addClass("selected");B(b,d)}function B(b,
c){b.click(function(){n(b,c)})}function n(b,c){b.parent().find(".ivThumb").removeClass("selected");b.addClass("selected");c.hasClass("imgTagWrapper")&&E(c,c.find("img"));c.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");c.parent().find(".imgTagWrapper").addClass("aok-hidden");c.removeClass("aok-hidden")}function L(b){try{setTimeout(function(){da++;var c=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(b in F||(F[b]=c),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),w()):100>da&&L(b)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+c)}}function fa(b,c){Q&&clearTimeout(Q);"mouseenter"===c.type&&(Q=setTimeout(function(){P(b);a("#image-canvas-caption #canvasCaption").empty();q();C(ha,c)},d.getHoveringDelayTimer()));"mouseleave"===c.type&&q()}var t,f,J,v,ha,R,aa,ba,S=!0,xa,ia,Q,p,
F={},ja=0,da=0,e=0,ka,ea={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},ma={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},N=h.once(function(){m.attachImmersiveViewResizeHandler(z)});h.on.resize(function(){T("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&u(ea)});return function(b,c,e,n){t=this;f=b;J=c;v=n;b=f.mediaAsin;c=[];f&&f.dimensionIngressAtfData&&f.dimensionIngressAtfData.initial&&(c=f.dimensionIngressAtfData.initial.dimensionVariantList);d.setDimensionIngressData(b,f.dimensionIngressEnabled,
c);t.render=function(c,b,e,l,v,p){ha=l;R=2!==f.unrolledImageBlockTreatment&&3!==f.unrolledImageBlockTreatment?e:a(".unrolledScrollBox");aa=v;S=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();da=ja=0;e=g(J.getCurrentItem().color);if(d.isDimensionIngressEnabled(e)&&f.dimensionIngressThumbURL&&f.dimensionIngressThumbURL.initial&&f.dimensionIngressThumbURL.initial.length){e=
d.getDimensionVariantList(e);if(e.includes("DIMN")||e.includes("DCMN"))Array.isArray(e)||(e=JSON.parse(e.replace(/(\w+)/g,'"$1"'))),e.push("DIMN"),e.push("DCMN");if(e&&0<e.length){v=f.colorImages[c];p=l.find(".item.imageThumbnail");for(var r=0;r<p.length&&r<f.maxAlts-1;r++){var h=v[r].variant;"MAIN"!=h&&e.includes(h)&&(h=p.eq(r))&&(h.remove(),b--)}}b===f.maxAlts&&(l.find(".item.imageThumbnail").last().remove(),b--);ba={type:"dimension-ingress-image",index:0,thumbnailIndex:b,variant:"Main"};d.createThumbnail(ba,
f.dimensionIngressThumbURL.initial,l,"dimension-ingress-imageblock-thumbnail");l=f.dimensionIngressAtfData.initial.thumbnailCaption;l=a("\x3cspan /\x3e").html(l);l.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");l.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(l);b++;a("#ivDimensionTabHeading").removeClass("aok-hidden");g(c)!==f.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&
a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return b}a("#ivDimensionTabHeading").addClass("aok-hidden")};t.update=function(c){var b=c.data;J.setCurrentEvent(c);"dimension-ingress-image"===b.type?(b.interaction=c.type,b.isUserGenerated=!0,"mouseenter"===c.type&&(xa=Date.now(),k.postCountMetric("dpcc_dimensionIngressHovered")),d.isImageBlockGridViewHoverDelayEnabled()?fa(b,c):(P(b),a("#image-canvas-caption #canvasCaption").empty(),q(),C(ha,c)),"click"===c.type&&d.useTabbedImmersiveView(f)&&
(I(c),k.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===c.type?b.color===J.getCurrentItem().color&&"dimension-ingress-image"===J.getCurrentItem().type?O():D():d.isImageBlockGridViewHoverDelayEnabled()?(J.setToPreviousItem(),"mouseenter"===c.type&&(p&&clearTimeout(p),p=setTimeout(function(){J.setToCurrentItem(b);D()},d.getHoveringDelayTimer())),"mouseleave"===c.type&&p&&clearTimeout(p),"click"===c.type&&(J.setToCurrentItem(b),D())):D()};m.attachTabSelectHandler("ivDimensionTab",z);
h.declarative("dimension-hero-click",["click"],I)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,d,m,k){function G(){k.populateTitle(g.find("#ivTitle"),160,H)}function u(){var a=q.getCurrentItem().color;O=H.colorImages[a];D=H.heroImage[a];C=I=0;d.isDefined(D)&&(C=D.length);d.isDefined(O)&&(I=O.length)}function y(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ca(){var a=g.find("#ivStage").find("#ivLargeImage"),
d=a.width(),h=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var k=f.width(),q=f.height();0<f.length&&(f[0].naturalWidth&&(k=f[0].naturalWidth),f[0].naturalHeight&&(q=f[0].naturalHeight));a.css("cursor","auto");k=0===k?1:k;q=0===q?1:q;var m=Math.min(d/k,h/q),t=q*m,u=k*m;1>m?(w?a.css("cursor","url('"+H.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),n=!0):n=!1;k=Math.min(u,k);q=Math.min(t-20,q);f.css({"margin-top":(h-
q)/2,"margin-left":(d-k)/2,height:q,width:k});a.css("visibility","visible");B=!1}function K(a){var d=g.find("#ivLargeImage");d.css("visibility","hidden");d.empty();k.animateStageIn(d);d.append(a);ca()}function P(f){g.find("#ivLargeImage").css("display","none");g.find("#ivLargeImage").css("display","block");var v;"hero-image"===f?d.isDefined(D)&&(v=y(D[z.index])):d.isDefined(O)&&(v=y(O[z.index]));if(d.isDefined(v)){g.find(".fullscreen").remove();var q=a("\x3cimg\x3e").attr("src",v).addClass("fullscreen"),
n=g.find("#ivLargeImage");k.animateStageOut(n,function(){q.load(function(){K(q);h.trigger("dp:image-block:imageBlockImmersiveImageLoad",z.index)});if(q[0].complete)K(q),h.trigger("dp:image-block:imageBlockImmersiveImageLoad",z.index);else{n.empty();var d=(n.height()-104)/2,g=(n.width()-80)/2;a("\x3cimg\x3e").attr("src",H.staticImages.spinner).css({position:"relative",top:d+"px",left:g+"px"}).appendTo(n)}})}}function E(a){g.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?
z.type="hero-image":z.type="image";z.index=a.attr("id").split("_")[1];P(z.type);m.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(z.index,10)+1)+"_"+(C+I))}function T(){g.delegate(".ivThumb","click",function(){var d=a(this);E(d)})}function U(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function V(a){var d=fa.top-(a.pageY-f[1])*t;a=U(fa.left-(a.pageX-f[0])*t,L.left);d=U(d,L.top);g.find(".fullscreen").css({left:a,top:d})}function W(){g.delegate("#ivLargeImage","click",function(a){if(B)ca();else if(n){g.find(".fullscreen").removeAttr("style");
if(n){var d=g.find("#ivLargeImage"),q=d.find(".fullscreen");w?d.css("cursor","url('"+H.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));B=!0;var k=g.find("#ivLargeImage");L.left=k.width()-q.width();L.top=k.height()-q.height();k=d.height()/2;var h=d.width()/2;f=[d.offset().left+h,d.offset().top+k];fa.top=k-q.height()/2;fa.left=h-q.width()/2;q.css({position:"relative",left:fa.left,top:fa.top});t=Math.max(q.height()/d.height(),
q.width()/d.width())}V(a);m.postCountMetric("dpcc_iv_largeImageCLick")}});g.delegate("#ivLargeImage","mousemove",function(a){B&&V(a)})}function X(){g.find("#ivLargeImage").empty()}function Y(f){if(M){g=a("#ivMain");u();z=q.getCurrentItem();G();k.populateVariationSelection(g.find("#ivVariationSelection"));f=g.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();var h=C+I,n=!1;H&&H.dimensionIngressAtfData&&H.dimensionIngressAtfData.initial&&(n=H.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);
for(var m=0,t=0;m<h;)for(var v=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),y=0;4>y&&m<h;y++,m++,t++)if(t<C){var w=D[m].thumb,B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+m,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":m+1}).appendTo(v);B.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(w)+
'") center no-repeat')}else if(t>=C&&t<I+C){w=H.colorToAsin[q.getCurrentItem().color].asin;w||(w=H.mediaAsin);if((B=d.isDimensionIngressEnabled(w))&&n){if((w=d.getDimensionVariantList(w))&&w.includes(O[m-C].variant)){y--;continue}}else if(B&&"DIMN"===O[m-C].variant){y--;continue}w=O[m-C].thumb;B=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(m-C),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image",
"data-csa-c-posy":m-C+1}).appendTo(v);B.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(w)+'") center no-repeat')}J();M=!1}else G();f=a("#ivImagesTab").height();g.css("height",f);h=g.find("#ivTitle").outerHeight(!0);n=g.find("#ivVariationSelection").outerHeight(!0);m=g.find("#ivThumbs");t=k.getDimension(m,"margin-top")+k.getDimension(m,"margin-bottom");m.css("height",f-h-n-t);g.find("#ivLargeImage").css("height",f);f=g.find("#ivStage");h=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||
g.width();f.css("width",h-k.getDimension(g,"padding-left")-k.getDimension(g,"padding-right")-g.find("#ivThumbColumn").width()-k.getDimension(f,"margin-left")-k.getDimension(f,"margin-right"));z=q.getCurrentItem();f="hero-image"===z.type?g.find("#ivHeroImage_"+z.index):"image"===z.type?g.find("#ivImage_"+z.index):d.isDefined(D)?g.find("#ivHeroImage_"+z.index):g.find("#ivImage_"+z.index);d.isjQueryObjDefined(f)||(f=g.find("#ivImage_0"));E(f)}var oa,H,q,g,D,O,C,I,z,w=navigator.userAgent.match(/msie|trident/i),
M=!0,B=!1,n=!1,L={},fa={},t,f;M=!0;var J=h.once(function(){T();W();k.attachImmersiveViewResizeHandler(Y);k.attachTabDeselectHandler("ivImagesTab",X)});return function(d,f,g,h){oa=this;H=d;q=f;oa.render=function(d,f,g,q,h,m){M=!0;u();0===C+I?k.hideTabHeading("ivImagesTabHeading"):k.unhideTabHeading("ivImagesTabHeading");1===C+I?a("#ivThumbs").hide():a("#ivThumbs").show()};oa.update=function(a){};k.attachTabSelectHandler("ivImagesTab",Y)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric",
"logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,d,m,k,G,u){function y(){var d=T.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),g=d.find(".a-popover-inner");d=d.height()-u.getDimension(g,"padding-top")-u.getDimension(g,"padding-bottom");a("#iv-tab-view-container").css("height",d);W=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;
1<W?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),g=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=g):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);h.trigger("dp:image-block:immersive-view:resize")}function ca(){h.trigger("dp:image-block:immersive-view:reset")}function ra(q){if(d.isImmersiveViewEnabled(na,T.getCurrentItem().color))if(Y){var g=q.$event.originalEvent;g.acknowledge&&g.acknowledge(q.$currentTarget[0]);
k.isEnabled&&G.logImmersiveViewRequestServed(k);m.postCountMetric("dppc_immersiveViewOpened");d.isDefined(q)&&("button-360-click"===q.action?a("#iv360TabHeading").click():"videoIngressClick"===q.action?(X=q.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===q.action?(X=q.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===q.action?(X=q.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());g=T.getImmersiveViewModalInstance();
if(d.isDefined(g))g.show();else{q=a("#auiImmersiveViewDiv");g=Math.min(Math.max(a(K).height()-150,540),1080);var u=Math.min(Math.max(a(K).width()-75,990),1980);g=Y.create(q,{name:"immersiveView",activate:"onclick",width:u,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});T.setImmersiveViewModalInstance(g);q.click()}V&&(V=!1,oa(),h.trigger("dp:image-block:immersive-view:init"))}else K.performance&&performance.now&&K.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}var P,na,T,U,V=!0,W=0,X,Y;E.when("a-modal").execute(function(a){Y=a});var oa=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",y);h.on("a:popover:afterShow:immersiveView",y);h.on("a:popover:afterHide:immersiveView",ca)}),H=h.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",function(g){var k=d.filter(".iv-active");k.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+k.find("a").attr("data-iv-tab-view")+
":deselect",g);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();k=a(this).find("a").attr("data-iv-tab-view");a("#"+k).show();"ivVideosTab"===k&&(g.clickTimeStamp=X||g.timeStamp);h.trigger("dp:ivTabs:"+k+":select",g);m.postCountMetric("dppc_"+k);return!1})});return function(a,g,u,y){P=this;na=a;T=g;k.refToModel=T;U=y;P.render=function(a,d,k,g,h,q){m.postCountMetric("dpcc_altThumbs_"+d);V=!0};P.update=function(a){};P.getTitle=function(){};P.getVariationSelectionInfo=
function(){};H();d.isImmersiveViewEnabled(na,T.getCurrentItem().color)||d.addTag("immersiveViewNotAvailable");U.register("imageClick",ra);U.register("button360Click",ra);na.collapsibleThumbnails&&h.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&ra(a)});d.useTabbedImmersiveView(na)&&(U.register("videoIngressClick",ra),U.register("showroomIngressClick",ra),U.register("dimensionIngressClick",ra))}});"use strict";E.when("A","jQuery","imageBlockUtils",
"ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,d,m,k,G,u,y){function ca(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ra(){e.find("#ivTitle").click(function(){da.hide()})}function P(){x=ib?{type:"360-spin"}:F.getCurrentItem()}function na(){var a=e.find("#ivStage"),c=da.$container.find(".a-popover-wrapper"),b=c.find(".a-popover-inner");c=c.height()-y.getDimension(b,"padding-top")-
y.getDimension(b,"padding-bottom");e.css("height",c);b=e.find("#ivTitle").outerHeight(!0);var d=e.find("#ivVariationSelection").outerHeight(!0),l=e.find("#ivMediaSelection").outerHeight(!0),f=e.find("#ivThumbs"),k=y.getDimension(f,"margin-top")+y.getDimension(f,"margin-bottom");f.css("height",c-b-d-l-k);e.find("#ivLargeImage").css("height",c);a.css("width",e.width()-y.getDimension(e,"padding-left")-y.getDimension(e,"padding-right")-e.find("#ivThumbColumn").width()-y.getDimension(a,"margin-left")-
y.getDimension(a,"margin-right"))}function T(){e.find("#ivMediaSelect").change(function(){var c=a(this).val();"all"===c?(e.find("#ivVideoList").hide(),e.find("#ivThumbs").show(),e.find(".ivThumbVideo").show(),"chromeful-video"===x.type&&e.find("#ivVideo_"+x.index).click()):"images"===c?(e.find("#ivVideoList").hide(),e.find("#ivThumbs").show(),e.find(".ivThumbVideo").hide(),"chromeful-video"===x.type&&(0===b&&0===N?e.find("#iv360").click():0===b?e.find("#ivHeroImage_0").click():e.find("#ivImage_0").click())):
"videos"===c&&(e.find("#ivVideoList").show(),e.find("#ivThumbs").hide(),"chromeful-video"!==x.type?e.find("#ivVideoList_0").click():e.find("#ivVideoList_"+x.index).click())})}function U(){var a=e.find("#ivStage").find("#ivLargeImage"),c=a.width(),b=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var l=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(l=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");l=0===l?1:l;f=0===f?1:f;var k=Math.min(c/l,b/
f),g=f*k,h=l*k;1>k?(jb?a.css("cursor","url('"+p.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),Sa=!0):Sa=!1;l=Math.min(h,l);f=Math.min(g-20,f);d.css({"margin-top":(b-f)/2,"margin-left":(c-l)/2,height:f,width:l});a.css("visibility","visible");Ra=!1}function V(a){var c=e.find("#ivLargeImage");c.css("visibility","hidden");c.empty();y.animateStageIn(c);c.append(a);U()}function W(){r&&r.pause();e.find("#ivLarge360").css("display",
"none");e.find("#ivLargeVideo").css("display","none");e.find("#ivLargeImage").css("display","none");D()}function X(c){W();e.find("#ivLargeImage").css("display","block");var b;"hero-image"===c?d.isDefined(ka)&&(b=ca(ka[x.index])):d.isDefined(ea)&&(b=ca(ea[x.index]));if(d.isDefined(b)){e.find(".fullscreen").remove();var ua=a("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),l=e.find("#ivLargeImage");y.animateStageOut(l,function(){ua.load(function(){V(ua)});if(ua[0].complete)V(ua);else{l.empty();var c=
(l.height()-104)/2,b=(l.width()-80)/2;a("\x3cimg\x3e").attr("src",p.staticImages.spinner).css({position:"relative",top:c+"px",left:b+"px"}).appendTo(l)}})}}function Y(){var a=parseInt(x.index,10)+1;a>=ma.length||e.find("#ivVideo_"+a).click()}function oa(){var a;d.isDefined(ma)&&(a=ma[x.index]);if(d.isDefined(a)){W();var c=e.find("#ivLargeVideo").css("display","block");r?(r.isDetached()&&r.attach(c[0]),d.loadMediaIntoAiry(r,a,Ma,p.tabletWeb),r.show()):(r=d.createAiryInstanceForChromeful(c,a,Ma,"ImmersiveView"),
Ma.enableContinuousPlay&&r.bind("ended",Y));r.play({isAsync:!0})}}function H(){P();var a="hero-image"===x.type?e.find("#ivHeroImage_"+x.index):"image"===x.type?e.find("#ivImage_"+x.index):"chromeful-video"===x.type||"chromeless-video"===x.type?e.find("#ivVideo_"+x.index):"360-spin"===x.type?e.find("#iv360"):d.isDefined(ka)?e.find("#ivHeroImage_"+x.index):e.find("#ivImage_"+x.index);d.isjQueryObjDefined(a)||(a=e.find("#ivImage_0"));q(a)}function q(a){e.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")?(x.type="chromeful-video",x.index=a.attr("id").split("_")[1],oa()):a.hasClass("ivHeroImage")?(x.type="hero-image",x.index=a.attr("id").split("_")[1],X(x.type)):a.hasClass("iv360Image")?(x.type="360-spin",x.index=0,g()):(x.type="image",x.index=a.attr("id").split("_")[1],X(x.type))}function g(){W();e.find("#ivLarge360").css("display","block");w();var a=e.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});y.animateStageIn(a)},200);C();k.postCountMetric("dppc_click360");
Da=Date.now()}function D(){0<Da&&(O("dppc_duration360",Date.now()-Da),Da=0)}function O(a,c){K.ue&&K.ue.count(a,c)}function C(){if(0<ya){var a=e.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function I(c,b){if(ya<c.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*va+"px",height:Aa+"px"});d.hide();b.append(d);d.get(0).onload=function(){b.closest(document.documentElement).length&&(ya++,1===ya&&(C(),0<Da&&O("dppc_loadTime360",Date.now()-Da)),0<A&&O("dppc_perSpriteloadTime360",
Date.now()-A),e.find("#iv360Spinner").hide(),d.show(),Oa=5*Z.imageLocations[Math.floor(Na/Z.imageLocations[0].length)][Na%Z.imageLocations[0].length],I(c,b))};d.attr("src",c[ya].replace(/(\._SP)\d+(,)\d+/,"$1"+Ca+"$2"+Ba));A=Date.now()}}function z(a){if(d.isDefined(Z.spriteWidthSizes)&&0<Z.spriteWidthSizes.length){var c=Z.spriteWidthSizes,b=c.length,e=c[0],l=c[b-1];if(a<=e)return e;if(a>l)return l;for(e=0;e<b;e++)if(a>c[e]&&a<=c[e+1])return c[e+1]}else return a}function w(){var c=e.find("#ivLarge360");
c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",p.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),
cb=!0,M())}function M(){if(d.isDefined(Z.spriteURLs)&&d.isDefined(e)&&cb&&!db){var c=e.find("#ivLarge360"),b=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(Z.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Z.staticImages.hint360).appendTo(b);a("\x3cdiv\x3e").css({"text-align":"center"}).text(p.staticStrings.dragToSpin).appendTo(b);b.appendTo(c);b=Z.imageWidth;
var l=Z.imageHeight,k=c.parent().width(),g=c.parent().height(),h=0,r=0;b/l>k/g?(Ca=z(k),Ba=Math.round(l/b*Ca),va=Math.ceil(k),Aa=Math.ceil(Ba/Ca*k),r=(g-Aa)/2):(Ba=z(g),Ca=Math.round(b/l*Ba),Aa=Math.ceil(g),va=Math.ceil(Ca/Ba*g),h=(k-va)/2);c.css({"margin-left":h,"margin-top":r,width:va+"px",height:Aa+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*va+"px");I(Z.spriteURLs,e.find("#image-360-sprites"),0);b=e.find("#ivLarge360");b.bind("mousedown",fa);b.bind("touchstart",
B);b.bind("touchmove",n);b.bind("touchend",L);a(document).bind("mousemove",t);a(document).bind("mouseup",f);d.isDefined(p.staticImages.grab)&&c.css("cursor","url('"+p.staticImages.grab+"'), auto");db=!0}}function B(a){Qa=!0;bb=a.originalEvent.targetTouches[0].clientX}function n(a){Qa&&(J(a.originalEvent.targetTouches[0].clientX-bb),bb=a.originalEvent.targetTouches[0].clientX)}function L(a){Qa&&(Qa=!1)}function fa(a){Pa=!0;ab=a.originalEvent.clientX;d.isDefined(p.staticImages.grabbing)&&(a=e.find("#ivLarge360"),
a.css("cursor","url('"+p.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+p.staticImages.grabbing+"'), auto"));return!1}function t(a){Pa&&(J(a.originalEvent.clientX-ab),ab=a.originalEvent.clientX)}function f(a){Pa&&(Pa=!1,d.isDefined(p.staticImages.grab)&&(a=e.find("#ivLarge360"),a.css("cursor","url('"+p.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function J(a){for(a=Oa-=a/va*180;0>a;)a+=360;for(;360<a;)a-=360;Oa=
a;a=360;for(var c=0;c<ya;c++)for(var b=0;b<Z.imageLocations[c].length;b++){var l=Math.abs(Oa-5*Z.imageLocations[c][b]);if(l<a){a=l;var f=c*Z.imageLocations[0].length+b}}f!==Na&&(a=Math.floor(f/Z.imageLocations[0].length),a!==Math.floor(Na/Z.imageLocations[0].length)&&(d.isDefined(eb)||(eb=document.createElement("canvas").getContext("2d")),c=e.find("#image-360-sprites").children(),eb.drawImage(c[a],0,0)),a=e.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));Na=f;a=f%Z.imageLocations[0].length*-1*va;f=-1*Math.floor(f/Z.imageLocations[0].length)*Aa;c=e.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+f+"px, 0)");c.css("transform","translate3d("+a+"px, "+f+"px, 0)")}function v(){e.delegate(".ivThumb","click",function(){var c=a(this);q(c)});e.delegate(".ivThumbVideoListOuter","click",function(){e.find(".ivThumbVideoListOuter").removeClass("selected");var c=a(this);c.addClass("selected");x.type="chromeful-video";
x.index=c.attr("id").split("_")[1];oa()})}function ha(){r&&!r.isDetached()&&(Ma.volume=r.getVolume(),r.detach(),!document.all||K.atob||document.addEventListener||(r=null));e.find("#ivLargeImage").empty();D()}function R(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function aa(c){var b=za.left-(c.pageX-Va[0])*Ua;h.capabilities.rtl&&(b=za.left-(a(K).width()-c.pageX-Va[0])*Ua);c=za.top-(c.pageY-Va[1])*Ua;b=R(b,Ta.left);c=R(c,Ta.top);e.find(".fullscreen").css({left:b,top:c})}function ba(){e.delegate("#ivLargeImage",
"click",function(a){if(Ra)U();else if(Sa){e.find(".fullscreen").removeAttr("style");if(Sa){var c=e.find("#ivLargeImage"),b=c.find(".fullscreen");jb?c.css("cursor","url('"+p.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));Ra=!0;var d=e.find("#ivLargeImage");Ta.left=d.width()-b.width();Ta.top=d.height()-b.height();d=c.height()/2;var l=c.width()/2;Va=[c.offset().left+l,c.offset().top+d];za.top=d-b.height()/2;za.left=l-b.width()/
2;b.css({position:"relative",left:za.left,top:za.top});Ua=Math.max(b.height()/c.height(),b.width()/c.width())}aa(a)}});e.delegate("#ivLargeImage","mousemove",function(a){Ra&&aa(a)})}function S(f){if(d.isImmersiveViewEnabled(p,F.getCurrentItem().color))if(gb){var g=f.$event.originalEvent;g.acknowledge&&g.acknowledge(f.$currentTarget[0]);ib=d.isDefined(f)&&"button-360-click"===f.action;G.isEnabled&&u.logImmersiveViewRequestServed(G);k.postCountMetric("dppc_immersiveViewOpened");if(d.isDefined(da))da.show();
else{f=a("#auiImmersiveViewDiv");g=a(K).height()-150;var r=a(K).width()-75;da=gb.create(f,{name:"immersiveView",activate:"onclick",width:r,height:g,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(fb){e=a("#ivMain");f=F.getCurrentItem().color;ea=p.colorImages[f];ka=p.heroImage[f];ma=p.useChildVideos?p.colorToVideo[f]:p.videos;hb=ia()&&p.spin360ColorEnabled[f];Z=ia()?p.spin360ColorData[f]:la;P();l=N=c=b=0;d.isDefined(ka)&&(N=ka.length);d.isDefined(ea)&&(b=ea.length);d.isDefined(ma)&&(c=ma.length);
hb&&(l=1);y.populateTitle(e.find("#ivTitle"),45,p);y.populateVariationSelection(e.find("#ivVariationSelection"));f=e.find("#ivMediaSelect");0===b+l||0===c?(f.parent().hide(),e.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(p.staticStrings.allMedia+" ("+(N+b+l+c)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(p.staticStrings.images+" ("+(N+b+l)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(p.staticStrings.videos+
" ("+c+")").appendTo(f),f.parent().show(),f.val("all"));f=e.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();g=N+b+c+l;for(var m=r=0;r<g;)for(var n=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),q=0;3>q&&r<g;q++,r++,m++)if(m<N){var t=ka[r].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+r).appendTo(n);x.find(".ivThumbImage").css("background",'url("'+y.getResizedThumbnailURL(t)+'") center no-repeat')}else if(m>=
N&&m<b+N)t=ea[r-N].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(r-N)).appendTo(n),x.find(".ivThumbImage").css("background",'url("'+y.getResizedThumbnailURL(t)+'") center no-repeat');else if(m>=N+b&&m<b+N+l)x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(n),x.find(".ivThumbImage").css("background",'url("'+(d.isDefined(p.staticImages.icon360)?y.getResizedThumbnailURL(p.staticImages.icon360,
!0):"")+'") center no-repeat');else if(t=ma[r-b-N-l],x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(r-b-N-l)).appendTo(n),x.find(".ivThumbImage").css("background",'url("'+t.thumbUrl+'") center no-repeat'),d.isDefined(t)){var v={position:"triggerTop"},w=e.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");w.find(".ivVideoPopoverTitle").text(t.title);w.find(".ivVideoPopoverDuration").text(t.durationTimestamp);
v.inlineContent=w[0];h.declarative.create(x,"a-tooltip",v)}f=e.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();g=f.find(".placeholder");for(r=0;r<c;r++)m=ma[r],n=g.clone().removeClass("placeholder").appendTo(f),n.attr("id","ivVideoList_"+r),n.find(".ivThumbImage").css("background",'url("'+m.thumbUrl+'") center no-repeat'),n.find(".ivThumbTitle").text(m.title),n.find(".ivThumbDuration").text(m.durationTimestamp);e.find("#ivLarge360").empty();ya=0;db=cb=!1;Ma=p.airyConfig;
fb=!1;Gb()}}else K.performance&&performance.now&&K.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}function xa(a){var c=p.colorToAsin[a],b={},f=500;if(c&&c.asin){b.params={asin:c.asin};var e="360"+c.asin,l=Date.now();b.success=function(c){O("dppc_asyncRequestTime360",Date.now()-l);c&&d.isDefined(c.spin360.spin360Model)?(d.ajaxState(e,"success"),p.spin360ColorData[a]=c.spin360.spin360Model,
a===F.getCurrentItem().color&&(Z=p.spin360ColorData[a],M())):b.error()};b.error=function(){k.postCountMetric("dppc_asyncFailed360");O("dppc_asyncRequestTime360",Date.now()-l);f*=2;16E3>=f?setTimeout(function(){l=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",b)},f):d.ajaxState(e,"fail")};d.ajaxState(e)&&"fail"!==d.ajaxState(e)||(m.load("/gp/product/features/apparel-main-image/360.html",b),d.ajaxState(e,"sent"))}}function ia(){return d.isDefined(p.spin360ConfigEnabled)&&p.spin360ConfigEnabled}
var Q,p,F,ja,da,e,ka,ea,ma,N,b,c,l,x,r,Ma,Z,hb,va,Aa,Ba,Ca,ab,bb,ib=!1,cb=!1,db=!1,Oa=0,Na=0,Da=0,A=0,Pa=!1,Qa=!1,ya=0,eb,jb=navigator.userAgent.match(/msie|trident/i),fb=!0,Ra=!1,Sa=!1,Ta={},za={},Ua,Va,gb;E.when("a-modal").execute(function(a){gb=a});var Gb=h.once(function(){T();v();ba();h.on("a:popover:afterUpdatePosition:immersiveView",na);h.on("a:popover:afterShow:immersiveView",H);h.on("a:popover:afterHide:immersiveView",ha);ra()});return function(c,b,f,e){Q=this;p=c;F=b;G.refToModel=F;ja=e;
ia()&&(p.spin360ColorData[p.landingAsinColor]=p.spin360ColorData[p.defaultColor],p.spin360ColorEnabled[p.landingAsinColor]=p.spin360ColorEnabled[p.defaultColor]);d.isDefined(p.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",y.addStyleCodeToURL(p.staticImages.icon360,"_FMpng_RI_"));Q.render=function(a,c,b,f,e,l){fb=!0;ia()&&p.spin360ColorEnabled[a]&&!d.isDefined(p.spin360ColorData[a])&&(p.spin360ColorData[a]={},xa(a));d.isImmersiveViewEnabled(p,
F.getCurrentItem().color)&&ia()&&p.spin360ColorEnabled[a]&&(c===p.maxAlts&&(a=f.find(".item.imageThumbnail"),b=f.find(".item.videoThumbnail"),d.isDefined(b)&&1<b.length?b.last().remove():a.last().remove(),c--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(a,"button-360-click"),f.append(a),c++,k.postCountMetric("dppc_display360"));return c};Q.update=function(a){};d.isImmersiveViewEnabled(p,F.getCurrentItem().color)||
d.addTag("immersiveViewNotAvailable");ja.register("imageClick",S);ja.register("button360Click",S)}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(h,a,d,m,k,G,u,y,K){function E(){var c=a("#iv360Tab").height();t.css("height",c);var b=t.find("#ivTitle360").outerHeight(!0),d=t.find("#ivVariationSelection360").outerHeight(!0),
f=t.find("#ivThumbs360"),e=u.getDimension(f,"margin-top")+u.getDimension(f,"margin-bottom");f.css("height",c-b-d-e);c=t.find("#ivStage360");b=t[0]&&t[0].getBoundingClientRect&&Math.floor(t[0].getBoundingClientRect().width)||t.width();c.css("width",b-u.getDimension(t,"padding-left")-u.getDimension(t,"padding-right")-t.find("#ivThumbColumn360").width()-u.getDimension(c,"margin-left")-u.getDimension(c,"margin-right"))}function P(){V();var a=t.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});
u.animateStageIn(a)},200);ca()}function ca(){if(0<e){var a=t.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function T(c,b){if(e<c.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*J+"px",height:v+"px"});d.hide();b.append(d);d.get(0).onload=function(){b.closest(document.documentElement).length&&(e++,1===e&&(ca(),0<p&&(k.time("dppc_loadTime360",Date.now()-p,n.mediaAsin),G.postTimeMetric("dppc_loadTime360",Date.now()-p))),0<F&&(k.time("dppc_perSpriteloadTime360",
Date.now()-F,n.mediaAsin),G.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-F)),t.find("#iv360Spinner").hide(),d.show(),ia=5*f.imageLocations[Math.floor(Q/f.imageLocations[0].length)][Q%f.imageLocations[0].length],T(c,b))};d.attr("src",c[e].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+ha));F=Date.now()}}function U(a){if(d.isDefined(f.spriteWidthSizes)&&0<f.spriteWidthSizes.length){var c=f.spriteWidthSizes,b=c.length,e=c[0],g=c[b-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<b;e++)if(a>c[e]&&a<=c[e+
1])return c[e+1]}else return a}function V(){var c=t.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",n.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",
left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),S=!0,W())}function W(){if(d.isDefined(f.spriteURLs)&&d.isDefined(t)&&S&&!xa){var c=t.find("#ivLarge360"),b=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});d.isDefined(f.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",f.staticImages.hint360).appendTo(b);a("\x3cdiv\x3e").css({"text-align":"center"}).text(n.staticStrings.dragToSpin).appendTo(b);
b.appendTo(c);b=f.imageWidth;var e=f.imageHeight,k=c.parent().width(),h=c.parent().height(),m=0,p=0;b/e>k/h?(R=U(k),ha=Math.round(e/b*R),J=Math.ceil(k),v=Math.ceil(ha/R*k),p=(h-v)/2):(ha=U(h),R=Math.round(b/e*ha),v=Math.ceil(h),J=Math.ceil(R/ha*h),m=(k-J)/2);c.css({"margin-left":m,"margin-top":p,width:J+"px",height:v+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*J+"px");T(f.spriteURLs,t.find("#image-360-sprites"),0);b=t.find("#ivLarge360");b.bind("mousedown",
H);b.bind("touchstart",X);b.bind("touchmove",Y);b.bind("touchend",oa);a(document).bind("mousemove",q);a(document).bind("mouseup",g);d.isDefined(n.staticImages.grab)&&c.css("cursor","url('"+n.staticImages.grab+"'), auto");xa=!0}}function X(a){da=!0;ba=a.originalEvent.targetTouches[0].clientX}function Y(a){da&&(D(a.originalEvent.targetTouches[0].clientX-ba),ba=a.originalEvent.targetTouches[0].clientX)}function oa(a){da&&(da=!1)}function H(a){ja=!0;aa=a.originalEvent.clientX;d.isDefined(n.staticImages.grabbing)&&
(a=t.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+n.staticImages.grabbing+"'), auto"));return!1}function q(a){ja&&(D(a.originalEvent.clientX-aa),aa=a.originalEvent.clientX)}function g(a){ja&&(ja=!1,d.isDefined(n.staticImages.grab)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+n.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function D(a){ia-=a/J*180;ea&&(k.count("dppc_360dragToSpin",
n.mediaAsin),G.postCountMetric("dppc_360dragToSpin"));ea=!1;for(a=ia;0>a;)a+=360;for(;360<a;)a-=360;ia=a;a=360;for(var b=0;b<e;b++)for(var c=0;c<f.imageLocations[b].length;c++){var g=Math.abs(ia-5*f.imageLocations[b][c]);if(g<a){a=g;var h=b*f.imageLocations[0].length+c}}h!==Q&&(a=Math.floor(h/f.imageLocations[0].length),a!==Math.floor(Q/f.imageLocations[0].length)&&(d.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),b=t.find("#image-360-sprites").children(),ka.drawImage(b[a],
0,0)),a=t.find(".iv360Hint").not(".iv360HintFaded"),d.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));Q=h;a=h%f.imageLocations[0].length*-1*J;h=-1*Math.floor(h/f.imageLocations[0].length)*v;b=t.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+h+"px, 0)");b.css("transform","translate3d("+a+"px, "+h+"px, 0)")}function O(){if(N){t=a("#ivMain360");var c=L.getCurrentItem().color;I()&&z(c);f=I()?n.spin360ColorData[c]:la;u.populateTitle(t.find("#ivTitle360"),
160,n);u.populateVariationSelection(t.find("#ivVariationSelection360"));t.find("#ivLarge360").empty();e=0;xa=S=!1;Q=ia=0;b();N=!1}0!==a("#iv360Tab").height()&&(u.detachImmersiveViewResizeHandler(O),E(),P(),p=Date.now(),ma=ea=!0,k.count("dppc_click360",n.mediaAsin),G.postCountMetric("dppc_click360"))}function C(a,b,e){a=n.colorToAsin[e];var c={},f=500;if(!a||!a.asin)if(e===n.defaultColor)a={asin:n.winningAsin};else return;c.params={asin:a.asin};var g="360"+a.asin,h=Date.now();c.success=function(a){k.time("dppc_asyncRequestTime360",
Date.now()-h,n.mediaAsin);G.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);a&&d.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&y.setData(a),d.ajaxState(g,"success")):c.error()};c.error=function(){k.count("dppc_asyncFailedTransient360",n.mediaAsin);G.postCountMetric("dppc_asyncFailedTransient360");k.time("dppc_asyncRequestTime360",Date.now()-h,n.mediaAsin);G.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",
c)},f):(k.count("dppc_asyncFailed360",n.mediaAsin),G.postCountMetric("dppc_asyncFailed360"),d.ajaxState(g,"fail"))};d.ajaxState(g)&&"fail"!==d.ajaxState(g)||(m.load("/gp/product/features/apparel-main-image/360.html",c),d.ajaxState(g,"sent"))}function I(){return n&&d.isDefined(n.spin360ConfigEnabled)&&n.spin360ConfigEnabled}function z(a){return d.isDefinedAndNotEmpty(n.spin360ColorData[a])?!0:d.isDefined(n.spin360LazyLoadEnabled)&&n.spin360LazyLoadEnabled}function w(){ma&&(k.time("dppc_duration360",
Date.now()-p,n.mediaAsin),G.postTimeMetric("dppc_duration360",Date.now()-p),ma=!1)}function M(a){a=n.colorToAsin[a.color]&&n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var B,n,L,fa,t,f,J,v,ha,R,aa,ba,S=!1,xa=!1,ia=0,Q=0,p=0,F=0,ja=!1,da=!1,e=0,ka,ea=!0,ma=!1,N=!0,b=h.once(function(){u.attachImmersiveViewResizeHandler(O);u.attachImmersiveViewResizeHandler(E);u.attachImmersiveViewResetHandler(w);u.attachTabDeselectHandler("iv360Tab",w)});return function(b,e,g,m){B=this;n=b;L=e;fa=m;b=n.landingAsinColor;
e=n.defaultColor;d.isDefined(n.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",u.addStyleCodeToURL(n.staticImages.icon360,"_FMpng_RI_"));I()&&(n.spin360ColorData||(n.spin360ColorData={}),b===e&&d.isDefinedAndEmpty(n.spin360ColorData[e])&&delete n.spin360ColorData[e]);h.on(K.TWISTER_DATA_EVENT,function(a){M(L.getCurrentItem())===a&&(f=y.getData(a),W(),a={type:"updatedData",data:L.getCurrentItem()},fa.dispatch("updateView",a))});B.render=function(b,
c,e,f,g,l){N=!0;!I()||d.isDefinedAndEmpty(n.spin360ColorData[b])&&!y.getData(M(L.getCurrentItem()))?u.hideTabHeading("iv360TabHeading"):(n.spin360ColorData[b]=y.getData(M(L.getCurrentItem())),d.isDefinedAndNotEmpty(n.spin360ColorData[b])?(a("#ivThumbs360").hide(),u.unhideTabHeading("iv360TabHeading"),d.isImmersiveViewEnabled(n,L.getCurrentItem().color)&&I()&&z(b)&&(c===n.maxAlts&&(b=f.find(".item.imageThumbnail"),e=f.find(".item.videoThumbnail"),d.isDefined(e)&&1<e.length?e.last().remove():b.last().remove(),
c--),b=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),h.declarative.create(b,"button-360-click"),f.append(b),k.count("dppc_display360",n.mediaAsin),G.postCountMetric("dppc_display360"))):d.isDefined(n.spin360LazyLoadEnabled)&&n.spin360LazyLoadEnabled?(n.spin360ColorData[b]={},u.hideTabHeading("iv360TabHeading"),C(f,c,b)):u.hideTabHeading("iv360TabHeading"))};B.update=function(a){};u.attachTabSelectHandler("iv360Tab",O)}});E.register("nexusLogger360",
function(){return{count:function(h,a){K.ue&&K.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(h,a,d){K.ue&&K.ue.event({asin:d,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});E.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});E.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(h,a){var d={};return{setData:function(m){var k=m.asin;d[k]||(d[k]=m,h.trigger(a.TWISTER_DATA_EVENT,
k))},getData:function(a){return d[a]}}});"use strict";E.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(h){function a(){this.render=function(){};this.update=function(){}}return function(d,m,k,G){var u=!1,y=new a;E.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==la&&(u=!0,y=new a(d,m,k,G))});d&&!0===d.showroomEnabled&&!1===u&&h.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return y}});"use strict";E.when("A",
"jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(h,a,d,m,k,G,u){function y(){C.delegate(".ivThumb","click",function(){var d=a(this);C.find(".ivThumb").removeClass("selected");d.addClass("selected");d.hasClass("ivThumbVideo")&&(I.type="chromeful-video",I.index=d.attr("id").split("_")[1])})}function E(){if(S){var d=a("#ivVideosTab").height();C.css("height",d);var e=C.find(".vse-lb-container");
z=d-k.getDimension(e,"padding-top")-k.getDimension(e,"padding-bottom");e.css({"max-height":d,overflow:"hidden"});if(ha){C.css({"max-width":Math.floor(1.77*z)});return}d=C.find(".vse-player-container");e=C.find(".vse-video-action-strip");var f=C.find(".vse-lb-video-metadata"),g=Math.floor(z-k.getDimension(f,"height")-k.getDimension(e,"height")),b=Math.floor(1.77*g);d.css({"max-height":g,"max-width":b,marginLeft:"auto",marginRight:"auto"});f.css({"max-width":b,marginLeft:"auto",marginRight:"auto"});
e.css({"max-width":b,marginLeft:"auto",marginRight:"auto"})}R&&(d=C.find(".vse-vertical-scroll"),e=k.getDimension(d,"margin-top")+k.getDimension(d,"margin-bottom"),d.css("max-height",z-e))}function ra(){P();w&&w.pause();aa=!1;J=!0;L=null;ba=!0;S=!1}function P(){aa=!1;w&&w.pause()}function na(f){L=f.clickTimeStamp?f.clickTimeStamp:h.now();d.isDefined(O)&&(O.eventTimestamp=L);aa=!0;v&&(u.get(h,"#ivVideoBlock",D,da,e),C=a("#ivVideoBlock"),g.getCurrentItem(),I=g.getCurrentItem(),p(),Y());E();v=!1;V()}
function T(d){v&&(C=a("#ivVideoBlock"),g.getCurrentItem(),I=g.getCurrentItem(),p());aa&&V();E()}function U(a){w=a.player;m.postTimeMetric("vse_ib_desktop_player_initialisation_duration",h.now()-Q);q.imageBlockRenderingStartTime&&m.postTimeMetric("vse_ib_desktop_time_to_player_interactive",h.now()-q.imageBlockRenderingStartTime);S&&(Y(),V())}function V(){if(w&&aa&&(C.find(".vse-lb-container").animate({opacity:1},200),w.play(O),m.postCountMetric("dpcc_vse_videoBlock_video_played"),J)){var a=K.ue;a&&
(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,m.postTimeMetric("dpcc_vse_vitff",a),J=!1)}}function W(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function X(a){M=a.popover.$popover;S=!0;Y()}function Y(){if(S&&ba&&aa&&w){M.addClass(h.$(M).find(".vse-lb-container").data("cssClass"));var a=O;la&&(a=ia,la=!1);h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});E();ba=!1}}function oa(a){document.getElementsByClassName("videoBlockIngress")[0].click();
ia=a;la=!0}var H,q,g,D,O,C,I,z,w,M,B,n,L,fa,t,f,J=!0,v=!0,ha=!1,R=!1,aa=!1,ba=!0,S=!1,la=!1,ia,Q=0,p=h.once(function(){y();k.attachImmersiveViewResizeHandler(T);k.attachTabDeselectHandler("ivVideosTab",P);k.attachImmersiveViewResetHandler(ra)}),F=function(e,f,h){a("#ivVideoBlockSpinner").addClass("aok-hidden");m.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);e=g.getCurrentItem().color;e=d.getVideoHash(e,0,q);w||(w=d.createAiryInstanceForChromeful(a("#ivVideoBlock"),e,q.airyConfig,
"ImmersiveView"));ha=!0;a("#ivVideoBlock").css({"max-width":1.77*z,margin:"0 auto"});aa&&ha&&w.play({isAsync:!0})},ja=function(d,f,g){v||u.get(d,"#ivVideoBlock",D,da,e);a("#ivVideoBlockSpinner").addClass("aok-hidden")},da=function(a,d,e){R=!0;E()},e=function(a,d,e){m.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+d.pageContext.placement+"_"+d.configuration.type)};return function(a,e,m,p){H=this;q=a;g=e;H.render=function(a,c,e,m,p,u){a=g.getCurrentItem().color;c=d.getVideoHash(a,0,q);!0===
u?B=q.mediaAsin:(B=q.colorToAsin[a]&&q.colorToAsin[a].asin,B=d.isDefined(B)?B:q.mediaAsin);n=null!==q.vseVideoDataSourceTreatment&&"T1"===q.vseVideoDataSourceTreatment?"ASIN":"physicalID";fa=q.contentWeblab;t=q.contentWeblabTreatment;f=q.parentAsin||"";v=!0;-1===c?k.hideTabHeading("ivVideosTabHeading"):(k.unhideTabHeading("ivVideosTabHeading"),D={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:c.marketPlaceID,locale:c.languageCode,product:{contentID:B,contentIDType:"ASIN",
parentContentID:f,parentContentIDType:"ASIN"},video:{contentID:c.mediaObjectId,contentIDType:n,videoURL:c.url,imageURL:c.slateUrl},requestId:q.dpRequestId,weblabContext:[{name:fa,assignment:t,ignoreForG2S2Key:!0}],metadata:{ProductTitle:q.title}},O={videoUrl:D.video.videoURL,contentId:D.video.contentID,duration:0,vendorCode:"",eventTimestamp:d.isDefined(L)?L:h.now(),imageUrl:D.video.imageURL,productAsin:D.product.contentID,index:0},d.isDefinedAndNotEmpty(w)&&(w.destroy(),w=null),Q=h.now(),G.get(h,
"#ivVideoBlock",D,ja,F))};H.update=function(a){};k.attachTabSelectHandler("ivVideosTab",na);h.on("vsePlayer-detailpage-imageblock",U);h.on("a:popover:afterShow:immersiveView",X);h.on("a:popover:beforeHide:immersiveView",W);h.on("detailpage-imageblock-leave-pip",oa)}})});
/* ******** */
(function(b){var e=window.AmazonUIPageJS||window.P,h=e._namespace||e.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):e;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,e,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,g=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=d("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,e.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;g.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=e.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,b){if("undefined"!==typeof a&&"undefined"!==typeof b){var c=e.ue;c&&c.count(a,b)}},emitNexusMetric:function(a){e.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.4",{ssd:!1})},buildNexusMetric:function(a,b,d,g,k,f,e,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:g,pageUrl:k,pageAsin:f,weblabIds:e}}}});"use strict";b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var c=a.state("desktop-landing-image-data");c&&(c=a.values(c),b=b.getResourceTimeByName("img",c),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",e.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",
e.parseInt(a.transferSize)),d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,r=g._namespace||g.attributeErrors,e=r?r("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,r){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(d){d&&(l.load.js(d),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(d){d&&l.load.css(d)}
var d=e.airyConfig;d===r?l.when("ImageBlockBTF").execute(function(e){d=e.airyConfig;f(d.jsUrl);k(d.cssUrl)}):(f(d.jsUrl),k(d.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,c){if(c.repositionHeroImage){c=
a[1];a=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function d(a,c,b){if(b.repositionHeroImage){var d=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var k=Math.max((d-
a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-k+(d-420-23)/2-a/c[1]*b}}return e}function h(a,c,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[c])&&f.isDefined(a[c][b])&&f.isDefined(a[c][b].main))||1>e.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,c.color,c.index);if(-1===b)return;c=e.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=d(c[0],b,a);return{height:c[1],
width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function d(a,c){var b=e.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var d=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)d=h;if(h===c-4){b=a.substring(0,-1===d?h:d);break}}}catch(m){b=a.substring(0,c-3)}b+="..."}return b}function h(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+
c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){e.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){e.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&k.isDefined(g.DetailPage.StateController)){a.empty();
var c=g.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],h=c.selected_variations[e];e=c.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(d(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},100,c)},logError:function(a,c,b,d){g.ueLogError&&
g.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(d,h){try{var a=d.A,c=d.block,b=d.request,g=d.handleFailure,l=d.handleSuccess,p=a.$;h--;var m=3-h-1,n=a.now();a.ajax("/vap/ew/componentbuilder",
{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(d){var h=a.now()-n;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);p(c).html(d);l(a,b,d)},error:function(c){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<h?k(d,h):(e.postCountMetric("vse_preLoaderHook:error:",
1),g(a,b,c))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(d,h,a){try{var c=d.A,b=d.context,g=d.handleFailure,l=d.handleSuccess;h.attr("data-configuration");var p=atob(h.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},q=c.now();a--;var t=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,
paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",d);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+t);h.html(a);l(c,n,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+t);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?k(d,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",
1),g(c,n,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(d,e,a,c,b){var f=d.$;f(e+" div[data-configuration]").each(function(){k({A:d,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(d,h,a){try{var c=d.A,b=d.block,g=d.request,l=d.handleFailure,p=d.handleSuccess,m=c.$;a--;var n=3-a-1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var d=c.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+n);m(b).html(a);p(c,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+n);(0===b.http.status||500<=b.http.status&&599>=b.http.status)&&0<a?k(d,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",
1),l(c,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(d,e,a,c,b){k({A:d,block:e,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cbutton class\x3d"a-button" style\x3d"border-width: 0"\x3e\n                        \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image" alt\x3d"'+h+'"/\x3e                    \x3c/button\x3e\n                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cbutton class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png" alt\x3d""/\x3e'+h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/button\x3e                \x3c/div\x3e").trim()).appendTo(a))},
hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,
a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
