(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[74245,21144,40858,17914],{__fusion__1095:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var r=i(36151),o=i(33990);const n=r.forwardRef((function(e,t){let{title:i="Delivery bag move",titleId:r,size:n="1em",...a}=e;return(0,o.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...a,children:[void 0===i?(0,o.tZ)("title",{id:r,children:"Delivery bag move"}):i?(0,o.tZ)("title",{id:r,children:i}):null,(0,o.BX)("g",{fill:"currentColor",children:[(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 3v5h2v8.75A4.25 4.25 0 0 1 18.75 21h-6.5A4.25 4.25 0 0 1 8 16.75V8h2V3h11Zm-3 3h-5v2h5V6Z"}),(0,o.tZ)("path",{d:"M6 8H0v3h6V8ZM6 13H1v3h5v-3Z"})]})]})}))},__fusion__817:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var r=i(36151),o=i(33990);const n=r.forwardRef((function(e,t){let{title:i="List",titleId:r,size:n="1em",...a}=e;return(0,o.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...a,children:[void 0===i?(0,o.tZ)("title",{id:r,children:"List"}):i?(0,o.tZ)("title",{id:r,children:i}):null,(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 3h3v3H1V3Zm6 0h16v3H7V3Zm0 7h16v3H7v-3Zm16 7H7v3h16v-3ZM4 10H1v3h3v-3Zm-3 7h3v3H1v-3Z",fill:"currentColor"})]})}))},__fusion__946:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>n});var r=i(36151),o=i(33990);const n=r.forwardRef((function(e,t){let{title:i="Storefront",titleId:r,size:n="1em",...a}=e;return(0,o.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...a,children:[void 0===i?(0,o.tZ)("title",{id:r,children:"Storefront"}):i?(0,o.tZ)("title",{id:r,children:i}):null,(0,o.BX)("g",{fill:"currentColor",children:[(0,o.tZ)("path",{d:"M5.5 0h13L23 6v2l-1 1H2L1 8V6l4.5-6Z"}),(0,o.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 22H2V11h20v11h-3v-8h-4v8Zm-3-8H5v4h7v-4Z"})]})]})}))},16809:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(92300),o=i(64635),n=i(7386),a=i(33990);const s=e=>{let{children:t,...i}=e;const r=["","h1","h2","h3","h4","h5","h6"];return(0,a.tZ)(o.jC.Consumer,{children:e=>(0,a.tZ)(n.Dx,{$as:r[e],...i,children:t})})};function l(e){const{action:t,children:i,hasThumbnail:o,headerImage:l,thumbnail:d,title:c,overrides:u,...h}=e,{Action:g,Body:p,Contents:m,HeaderImage:f,Root:Z,Thumbnail:y,Title:S}=u,v=(0,r.XG)(g)||n.aU,b=(0,r.XG)(p)||n.uT,x=(0,r.XG)(m)||n.AU,_=(0,r.XG)(f)||n.sQ,U=(0,r.XG)(Z)||n.fC,z=(0,r.XG)(y)||n.pl,w=(0,r.XG)(S)||s,$="string"==typeof l?{src:l}:l,I=o(e);return(0,a.BX)(U,{"data-baseweb":"card",...h,...(0,r.ch)(Z),children:[l&&(0,a.tZ)(_,{...$,...(0,r.ch)(f)}),(0,a.BX)(x,{...(0,r.ch)(m),children:[d&&(0,a.tZ)(z,{src:d,...(0,r.ch)(y)}),c&&(0,a.tZ)(w,{$hasThumbnail:I,...(0,r.ch)(S),children:c}),(0,a.tZ)(b,{...(0,r.ch)(p),children:i}),t&&(0,a.tZ)(v,{...(0,r.ch)(g),children:t})]})]})}l.defaultProps={action:null,children:null,hasThumbnail:function(e){return!!e.thumbnail},overrides:{}};const d=l},7386:(e,t,i)=>{"use strict";i.d(t,{AU:()=>s,Dx:()=>u,aU:()=>n,fC:()=>d,pl:()=>c,sQ:()=>l,uT:()=>a});var r=i(79810),o=i(85964);const n=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}}));n.displayName="Action";const a=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale600,color:t.colors.contentPrimary,...t.typography.ParagraphMedium}}));a.displayName="Body";const s=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale600,marginTop:t.sizing.scale600,marginRight:t.sizing.scale600,marginBottom:t.sizing.scale600}}));s.displayName="Contents";const l=(0,r.zo)("img",(e=>{let{$theme:t}=e;return{borderTopLeftRadius:t.borders.surfaceBorderRadius,borderTopRightRadius:t.borders.surfaceBorderRadius,objectFit:"contain",maxWidth:"100%"}}));l.displayName="HeaderImage";const d=(0,r.zo)("section",(e=>{let{$theme:t}=e;return{borderLeftWidth:"2px",borderTopWidth:"2px",borderRightWidth:"2px",borderBottomWidth:"2px",borderLeftStyle:"solid",borderTopStyle:"solid",borderRightStyle:"solid",borderBottomStyle:"solid",borderLeftColor:t.colors.borderOpaque,borderRightColor:t.colors.borderOpaque,borderTopColor:t.colors.borderOpaque,borderBottomColor:t.colors.borderOpaque,borderTopLeftRadius:t.borders.radius400,borderTopRightRadius:t.borders.radius400,borderBottomLeftRadius:t.borders.radius400,borderBottomRightRadius:t.borders.radius400,backgroundColor:t.colors.backgroundPrimary,overflow:"hidden"}}));d.displayName="Root";const c=(0,r.zo)("img",(e=>{let{$theme:t}=e;return{float:"right",height:t.sizing.scale2400,width:t.sizing.scale2400,objectFit:"cover",borderTopLeftRadius:t.borders.surfaceBorderRadius,borderTopRightRadius:t.borders.surfaceBorderRadius,borderBottomLeftRadius:t.borders.surfaceBorderRadius,borderBottomRightRadius:t.borders.surfaceBorderRadius,...(0,o.Qj)(t.borders.border200),margin:`0 0 ${t.sizing.scale500} ${t.sizing.scale500}`}}));c.displayName="Thumbnail";const u=(0,r.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,color:t.colors.contentPrimary,marginLeft:0,marginTop:0,marginRight:0,marginBottom:t.sizing.scale500,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0}}));u.displayName="Title"},7903:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(93046),o=i(92300),n=i(89407),a=i(2763),s=i(33990);function l(e){const{overrides:t={},removeValue:i,...r}=e,[l,d]=(0,o.jb)(t.Tag||t.MultiValue,n.Z);return(0,s.tZ)(l,{hierarchy:a.T5.primary,overrides:{Root:{style:e=>{let{$theme:{sizing:t}}=e;return{marginRight:t.scale0,marginBottom:t.scale0,marginLeft:t.scale0,marginTop:t.scale0}}}},onActionClick:i,...r,...d,children:e.children})}var d=i(14355);const c=function(e){return(0,s.tZ)(r.Z,{...e,valueComponent:e.multi?l:d.Z})}},72739:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(43193),o=i(40836),n=i(52298),a=i(91931),s=i(6917),l=i(33990);const d=(0,a.zo)("h2",(e=>{let{$theme:t}=e;return t.typography.DisplayBoldXSmall})),c=e=>{let{qa:t,metaJson:i}=e;return t.length?(0,l.BX)(l.HY,{children:[(0,l.tZ)(d,{children:(0,l.tZ)(o.v,{id:"shared.faq"})}),(0,l.tZ)(n.ZP,{$height:24}),t.map((e=>{let{questionFormat:t,answerFormat:i}=e;return(0,l.BX)(r.Fragment,{children:[(0,l.tZ)(s.Z,{baseFont:"LabelMedium",format:t,styleMode:"desktop"}),(0,l.tZ)(s.Z,{format:i,styleMode:"desktop"}),(0,l.tZ)(n.ZP,{$height:24})]},t)})),(0,l.tZ)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:i}})]}):null}},10980:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var r=i(52246),o=i(88885),n=i(79908),a=i(91931),s=i(8639),l=i(94579),d=i(62091),c=i(36278),u=i(33990);const h=(0,a.zo)("div",{position:"fixed",bottom:0,left:0,right:0,height:`${l.Sx}px`,display:"flex",alignItems:"center",animationDuration:"500ms",animationDelay:"1500ms",animationFillMode:"forwards",transform:"translate3d(0, 200%, 0)",animationName:{from:{transform:"translate3d(0, 200%, 0)"},to:{transform:"translate3d(0, 0, 0)"}},zIndex:l.I_.cover}),g=(0,a.zo)("div",{display:"flex",width:"240px",maxHeight:"100%",alignSelf:"flex-end",justifyContent:"start",position:"absolute",left:"24px",top:"-12px"}),p=(0,a.zo)("div",(e=>{let{$theme:t,$bgColor:i}=e;return{height:"100%",display:"flex",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:i||t.colors.warning,paddingLeft:"24px",paddingRight:"24px",":hover":{backgroundColor:(0,s.dK)(i||t.colors.warning,.1)}}})),m=(0,a.zo)("span",(e=>{let{$theme:t,$textColor:i,$isUberOne:r}=e;return{...r?t.typography.LabelLarge:t.typography.ParagraphMedium,color:i||t.colors.onWarning,display:"flex",height:"100%",alignItems:"center",justifyContent:"center"}})),f=(0,a.zo)("div",(e=>{let{$theme:t,$bgColor:i}=e;return{color:t.colors.onWarning,position:"absolute",right:"24px",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderRadius:t.borders.radiusFull,":hover":{backgroundColor:(0,s.dK)(i||t.colors.warning,.1)},":active":{backgroundColor:(0,s.dK)(i||t.colors.warning,.2)}}})),Z=(0,a.zo)(d.Z,{maxWidth:"100%",objectFit:"contain"}),y=(0,a.zo)(d.Z,{maxHeight:"calc(100% - 8px)",objectFit:"contain"}),S=e=>(0,u.BX)(u.HY,{children:[e.icon?(0,u.BX)(u.HY,{children:[e.icon,(0,u.tZ)(c.sA,{})]}):null,e.textImageUrl?(0,u.BX)(u.HY,{children:[(0,u.tZ)(y,{src:e.textImageUrl}),(0,u.tZ)(c.sA,{})]}):null,(0,u.BX)("div",{children:[(0,u.tZ)(m,{$textColor:e.textColor,$isUberOne:e.isUberOne,children:e.message}),e.secondaryContent?e.secondaryContent:null]})]}),v=e=>{const t=(0,o.T)()("shared.close");return(0,u.BX)(h,{children:[e.imageUrl?(0,u.tZ)(g,{children:(0,u.tZ)(Z,{src:e.imageUrl})}):null,e.linkUrl&&e.onClick?(0,u.tZ)(p,{$as:r.rU,to:e.linkUrl,onClick:e.onClick,$bgColor:e.bgColor,children:(0,u.tZ)(S,{icon:e.icon,textColor:e.textColor,textImageUrl:e.textImageUrl,message:e.message,secondaryContent:e.secondaryContent,isUberOne:e.isUberOne})}):null,e.linkUrl||e.onClick?null:(0,u.tZ)(p,{$bgColor:e.bgColor,children:(0,u.tZ)(S,{textImageUrl:e.textImageUrl,message:e.message,secondaryContent:e.secondaryContent,textColor:e.textColor,isUberOne:e.isUberOne})}),(0,u.tZ)(f,{onClick:e.onClose,"aria-label":t,$bgColor:e.bgColor,children:(0,u.tZ)(n.Z,{type:"Close",color:e.semanticIconColor})})]})}},10080:(e,t,i)=>{"use strict";i.d(t,{Z:()=>G});var r=i(99955),o=i(91631),n=i(91931),a=i(40836),s=i(53683),l=i(40606),d=i(34567),c=i(93801),u=i(138),h=i(1795),g=i(83960),p=i(62149),m=i(47986),f=i(52298),Z=i(65532),y=i(95747),S=i(33990);const v=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),b=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),x=e=>{let{newStore:t,cartStore:i,handleStartNewOrder:r}=e;const o=(0,p.TH)(),n=(0,m.gfM)(o,(0,m.Btk)(t)),s=(0,m.gfM)(o,(0,m.Btk)(i)),l=(0,y.Z)();return(0,S.BX)(S.HY,{children:[(0,S.tZ)(v,{children:(0,S.tZ)(a.v,{id:"go.cancel_this_order"})}),(0,S.tZ)(f.ZP,{$height:24}),(0,S.tZ)(b,{children:(0,S.tZ)(a.v,{id:"go.cancel_this_order_description",data:{currentStoreName:i.title,newStoreName:t.title}})}),(0,S.tZ)(f.ZP,{$height:24}),(0,S.tZ)(d.Z,{onClick:()=>l(s),children:(0,S.tZ)(a.v,{id:"go.keep_order"})}),(0,S.tZ)(f.ZP,{$height:16}),(0,S.tZ)(Z.Z,{onGroupOrderCancelled:()=>{l(n),r()}})]})};var _=i(43193),U=i(58984),z=i(87696),w=i(22787),$=i(89730),I=i(21410),T=i(92431),R=i(23017);const k=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),B=e=>{let{newStore:t,cartStore:i,handleStartNewOrder:r}=e;const[o,n]=(0,$.Z)("removeMemberFromDraftOrderV1"),s=(0,U.I0)(),l=(0,p.TH)(),c=(0,m.gfM)(l,(0,m.Btk)(t)),u=(0,m.gfM)(l,(0,m.Btk)(i)),h=(0,y.Z)(),g=(0,T.Z)(),Z=(0,z.Ah)(g),{leaveGroupOrderTitleCopy:v}=(0,R.Z)();return _.useEffect((()=>{o.hasLoaded&&(s((0,I.B9)()),h(c),r())}),[s,h,r,o.hasLoaded,c]),(0,S.BX)(S.HY,{children:[(0,S.tZ)(k,{children:v}),(0,S.tZ)(f.ZP,{$height:24}),(0,S.tZ)(C,{children:(0,S.tZ)(a.v,{id:"go.leave_group_order_new_individual_order_description"})}),(0,S.tZ)(f.ZP,{$height:24}),(0,S.tZ)(d.Z,{disabled:o.isLoading,onClick:()=>n({draftOrderUuid:Z}),children:(0,S.tZ)(a.v,{id:"go.create_new_order"})}),(0,S.tZ)(f.ZP,{$height:16}),(0,S.tZ)(w.Z,{onClick:()=>h(u),children:(0,S.tZ)(a.v,{id:"shared.goBack"})})]})};var O=i(70247),P=i(64388),E=i(86255),L=i(98976);const D=(0,n.zo)("div",{boxSizing:"border-box",display:"flex",flexDirection:"column"}),A=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,paddingBottom:"16px"}})),M=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),H=(0,n.w1)(d.Z,{marginTop:"24px"}),G=e=>{const t=(0,o.UO)(),{hasGroupOrder:i,isDraftOrderCreator:n}=(0,g.Z)(),{serverCart:d}=(0,O.iQ)(),p=(0,r.Z)(),m=(0,E.Z)({encodedStoreUuid:t.encodedStoreUuid}),{store:f}=(0,P.ZP)(d.data?.storeUuid),{store:Z}=(0,P.ZP)(e.canonicalItemStoreUuid??p?.storeUuid??m);return(0,S.tZ)(s.ZP,{backLocation:e.backLocation,children:(0,S.tZ)(s.HF,{children:(0,S.tZ)(D,{children:e.hasErrors?(0,S.tZ)(u.Z,{}):(0,S.tZ)(l.Z,{source:(0,L.FP)(Z,f),loaded:t=>{let[r,o]=t;return i?n?(0,S.tZ)(x,{handleStartNewOrder:e.handleStartNewOrder,newStore:r,cartStore:o}):(0,S.tZ)(B,{handleStartNewOrder:e.handleStartNewOrder,newStore:r,cartStore:o}):(0,S.BX)(S.HY,{children:[(0,S.tZ)(A,{$as:"h1",children:(0,S.tZ)(a.v,{id:"shared.createNewOrder"})}),(0,S.tZ)(M,{children:(0,S.tZ)(a.v,{id:"shared.createNewOrderExplanation",data:{currentStoreName:o.title,newStoreName:r.title}})}),(0,S.tZ)(H,{onClick:e.handleStartNewOrder,children:(0,S.tZ)(a.v,{id:"shared.newOrder"})})]})},error:e=>{let{code:t}=e;return(0,S.tZ)(c.Qv,{code:t})},loading:()=>(0,S.tZ)(h.Z,{})})})})})}},19156:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var r=i(75514),o=i(36151),n=i(94579),a=i(33990);const s={},l=e=>({height:e}),d=(e,t,i)=>({zIndex:t,position:"fixed",top:`${e}px`,left:"100%"===i?"0px":"unset",width:i}),c=e=>{const t=e.zIndex||n.I_.cover,i=e.topOffset||0,c=(0,o.useRef)(null),u=(0,o.useRef)(null),[h,g]=(0,o.useState)(!1),[p,m]=(0,o.useState)(0),[f,Z]=(0,o.useState)(0),y=(0,o.useCallback)((()=>{const t=c.current,r=u.current;if(!t||!r)return;const o=t.getBoundingClientRect(),n=r.getBoundingClientRect(),a=e.topSticky?o.top<=i:o.top<i;h===a&&p===n.height||(g(a),m(n.height),e.useParentWidth&&Z(o.width))}),[e.topSticky,e.useParentWidth,i,h,p]);(0,o.useEffect)((()=>(r.Z&&(r.Z.addEventListener("scroll",y),y()),()=>{r.Z&&r.Z.removeEventListener("scroll",y)})),[y]);const S=e.useParentWidth?`${f}px`:"100%";return(0,a.tZ)("div",{ref:c,style:h?l(p):s,children:(0,a.tZ)("div",{style:h?d(i,t,S):s,ref:u,children:e.render(h)})})}},88464:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var r=i(36151),o=i(91631),n=i(62149),a=i(58984),s=i(47986),l=i(74057),d=i(92431),c=i(87696),u=i(33535),h=i(7876),g=i(86255),p=i(83960),m=i(69630);function f(e){let{encodedStoreUuid:t,entryPoint:i}=e;const f=(0,d.Z)(),Z=(0,n.TH)(),y=(0,a.I0)(),S=(0,o.k6)(),v=(0,u.ZP)(),b=(0,g.Z)({encodedStoreUuid:t}),{storeUuid:x,isEditOrder:_}=(0,p.Z)(),{deliveryTime:U,hasActiveDraftOrderMetadata:z}=(0,l.Z)(b),w=(0,m.Z)();return(0,r.useEffect)((()=>{v("eats:scheduled_order_modal",{entryPoint:i,isRedesign:!0})}),[v,i]),{storeUuid:b,deliveryTime:U,onTimeOptionSelected:e=>{w&&z?y((0,h.A0)(x,{storeScheduledTime:e})):b?y((0,h.A0)(b,{storeScheduledTime:e})):(0,c.mE)(f,e),S.replace((0,s.C45)((0,s.UPU)(Z,e)))},onClose:()=>{v("eats:dismiss_scheduled_order_modal"),S.replace((0,s.C45)(Z))},onSchedule:()=>{v("eats:scheduled_order_selection",{entryPoint:i,option:"scheduled",isEditScheduledOrder:_,pathname:Z.pathname,isRedesign:!0})},onAsap:()=>{v("eats:scheduled_order_selection",{entryPoint:i,option:"asap",isEditScheduledOrder:_,pathname:Z.pathname,isRedesign:!0})}}}},74537:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});const r=["checkout","checkout-auto-surface","multicart"],o=["menu-item-dialog","old-store-top-card","store-auto-surface","store-hero-overflow","store-info-summary"],n=(e,t)=>r.includes(e)?{type:"CHECKOUT",storeUuid:t}:o.includes(e)?{type:"STORE",storeUuid:t}:{type:"FEED"}},21166:(e,t,i)=>{"use strict";i.d(t,{XZ:()=>n});var r=i(38488),o=i(33990);function n(e){return(0,o.tZ)(r.Z,{...e})}n.defaultProps=r.Z.defaultProps},31773:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var r=i(36151),o=i(51083),n=i(53614),a=i(65624),s=i(92963);function l(e){const t=(0,r.useContext)(n.v),i=(0,r.useRef)(!1),l=(0,r.useContext)(o.GM),d=(0,o.G2)(a.T).from(l);(0,s.Z)("trackingId",e.trackingId),(0,s.Z)("additionalMeta",e.additionalMeta),(0,r.useEffect)((function(){t||i.current||!e.isContentRendered||(i.current=!0,d.mark("mainContentRendered"))}),[t,e.isContentRendered,d])}},31170:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=i(52298),o=i(52692),n=i(8759),a=i(82589),s=i(44702),l=i(21866),d=i(32762),c=i(33990);const u=e=>{let{placementType:t,storeUuid:i,as:u=n.Z}=e;const{isExploreMoreStoresM1Enabled:h}=(0,a.Z)(),g=(0,s.c)(),{desktopFeatures:p}=(0,d.Z)();if("bottom"===t&&!h)return null;const m=g[t];if(!m)return null;const f=m.adsExperimentalStorePayload?.parent;if(!f||"REGULAR_CAROUSEL"!==f.template)return null;const Z=(m.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return(0,c.BX)(u,{children:["top"===t&&!p.moveTopExploreMoreStoresToCatalog||"bottom"===t&&p.hasStickyVerticalMenuNav?(0,c.tZ)(r.ZP,{$height:16}):null,(0,c.tZ)(l.Z,{canvasParent:f,canvasChildren:Z,numGridItemsPerRow:p.moveTopExploreMoreStoresToCatalog&&"top"===t?3:4,storeUuid:i,catalogIndex:"top"===t?0:-1}),"top"!==t||p.moveTopExploreMoreStoresToCatalog?null:(0,c.tZ)(o.Z,{$margin:"16px 0px 0px 0px",$height:"4px",$color:"backgroundSecondary"})]})}},87401:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(44702),o=i(33990);const n=e=>{let{children:t}=e;const i=(0,r.c)();return i.seeSimilar.isAvailable&&!i.seeSimilar.isOpen?null:(0,o.tZ)(o.HY,{children:t})}},83811:(e,t,i)=>{"use strict";i.d(t,{Z:()=>O});var r=i(43193),o=i(40836),n=i(91931),a=i(31980),s=i(70118),l=i(30893),d=i(4163),c=i(36278),u=i(30930),h=i(74057),g=i(28222),p=i(69694),m=i(74952),f=i(67526),Z=i(25750),y=i(44702),S=i(30466),v=i(47885),b=i(23312),x=i(91631),_=i(62149),U=i(47986),z=i(60849),w=i(41063),$=i("__fusion__1095"),I=i(33535),T=i(88885),R=i(70940),k=i(32762),C=i(33990);const B=(0,n.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignXpEnabled:i}=e;return{alignItems:"flex-end",display:"flex",...i?{maxHeight:t.sizing.scale950,justifyContent:"flex-end",flexShrink:0}:{minHeight:t.sizing.scale1400}}})),O=e=>{const{storeActionPills:t,getActionPillDisabledState:i}=(0,m.ZP)(),{deliveryTime:n}=(0,h.Z)(e.storeUuid),O=(0,g.Z)(),{isGroupOrderParticipant:P}=(0,p.Z)(),{isSeeSimilarCarouselAvailable:E}=(0,y.c)(),{isStorePrecheckoutBundlingEnabled:L}=(0,v.Z)(),{isHidden:D}=i("GROUP_ORDER"),{isHidden:A}=i("SCHEDULE"),M=(0,z.ip)({...w.v.eats_web_store_shopping_list,defaultValue:!1}),H=(0,_.TH)(),G=(0,x.k6)(),X=(0,I.ZP)(),N=(0,T.T)(),F=(0,R.Z)(e.storeUuid),{isStoreOfdRedesignXpEnabled:Q}=(0,k.Z)(),V=e.isWithinDeliveryRange&&!O&&e.isStoreSchedulable&&!P,q=r.useMemo((()=>D||e.isGroupOrderingDisabled?null:(0,C.tZ)(l.Z,{buttonTheme:"secondary",isOpen:e.isOpen,isWithinDeliveryRange:e.isWithinDeliveryRange,analyticsContext:s.UD})),[e.isOpen,e.isWithinDeliveryRange,D,e.isGroupOrderingDisabled]),W=r.useMemo((()=>!A&&V?(0,C.tZ)(d.Z,{storeUuid:e.storeUuid,entryPoint:"store-info-summary",analyticsContext:s.UD,analyticsType:s.F1,children:(0,C.BX)(b.Z,{storeUuid:e.storeUuid,actionPillType:f.nJ.SCHEDULE,children:[(0,C.tZ)(b.Z.Icon,{children:(0,C.tZ)(a.Z,{size:16})}),(0,C.tZ)(b.Z.Title,{children:n?.scheduled?(0,C.tZ)(o.v,{id:"shared.editSchedule"}):(0,C.tZ)(o.v,{id:"components.CheckoutStepDeliveryTime.schedule"})})]})}):null),[n,e.storeUuid,V,A]),Y=M&&F?(0,C.BX)(b.Z,{storeUuid:e.storeUuid,actionPillType:"SHOPPING_LIST",ftuxTooltip:{title:N("store.shopping_list.action_pill_tooltip_text")},additionalButtonProps:{onClick:()=>{X("eats:store_quick_shop_action_pill_click",{storeQuickShop:{storeUuid:e.storeUuid}}),G.push((0,U.vN_)(H,"shoppingList"))}},children:[(0,C.tZ)(b.Z.Icon,{children:(0,C.tZ)($.default,{size:16})}),(0,C.tZ)(b.Z.Title,{children:(0,C.tZ)(o.v,{id:"store.shopping_list.action_pill_title"})})]}):null,j=r.useCallback((t=>t.actionPillType===f.nJ.GROUP_ORDER?(0,C.tZ)(r.Fragment,{children:q},f.nJ.GROUP_ORDER):t.actionPillType===f.nJ.SCHEDULE?(0,C.tZ)(r.Fragment,{children:W},f.nJ.SCHEDULE):!E||t.actionPillType!==f.nJ.SEE_SIMILAR||P||O?L&&t.actionPillType===f.nJ.STORE_BUNDLING&&!O?(0,C.tZ)(S.Z,{title:t.title,storeUuid:e.storeUuid,customLeadingContent:t.customLeadingContent,ftuxTooltip:t.tooltipPayload},f.nJ.STORE_BUNDLING):null:(0,C.tZ)(u.Z,{title:t.title,storeUuid:e.storeUuid},f.nJ.SEE_SIMILAR)),[E,L,q,W,e.storeUuid,P,O]);return Q&&"RESTAURANT"===e.headerType?(0,C.tZ)(B,{$isStoreOfdRedesignXpEnabled:!0,children:q}):t?(0,C.tZ)(B,{children:(0,C.tZ)(Z.Z,{separator:c.sA,children:t.map(j)})}):q||W||Y?(0,C.tZ)(B,{children:(0,C.BX)(Z.Z,{separator:c.sA,children:[q,W,Y]})}):null}},81198:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var r=i(36151),o=i(40836),n=i(52246),a=i(91931),s=i(31913),l=i(21676),d=i(91631),c=i(62149),u=i(47986),h=i(40411),g=i(33990);const p=(0,a.zo)("div",(()=>({display:"flex",flexDirection:"column",boxSizing:"border-box",alignItems:"flex-start",justifyContent:"center",width:"100%"}))),m=(0,a.zo)(n.rU,(e=>{let{$theme:t}=e;return{boxSizing:"border-box",cursor:"pointer",textDecoration:"underline",...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),f=(0,a.zo)("p",(e=>{let{$clickeable:t,$displayBlock:i}=e;return{display:i?"block":"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",boxSizing:"border-box",cursor:t?"pointer":"inherit"}})),Z=(0,a.zo)("span",{alignSelf:"flex-end",boxSizing:"border-box"}),y={style:"PARAGRAPH_SMALL",weight:"NORMAL"},S="CONTENT_SECONDARY",v={text:{text:{text:" • ",font:{style:"PARAGRAPH_SMALL",weight:"NORMAL"},color:"CONTENT_TERTIARY"},predefinedDecorations:null},type:"text"},b=e=>{let{headerBrandingInfo:t,showCuisineType:i,showPriceBucket:n,cuisineList:a,priceBucket:b,storeUuid:x}=e;const _=(0,c.TH)(),U=(0,d.UO)(),{stripDeliveryUnavailableLine:z}=(0,h.W)(x),w=(0,r.useMemo)((()=>t?.truncatingMetadata?(0,l.x)((e=>{let{truncatingMetadata:t,cuisineList:i,priceBucket:r}=e;const o=[],n=t.richTextElements?.[t.richTextElements.length-1];return"text"===n?.type&&" • "===n?.text?.text?.text||o.unshift(v),(i||[]).forEach(((e,t)=>{o.push({type:"text",text:{text:{text:e,font:y,color:S}}}),o.push(v)})),r&&(o.push({type:"text",text:{text:{text:r,font:y,color:S}}}),o.push(v)),{...t,richTextElements:[...t.richTextElements||[],...o]}})({truncatingMetadata:t.truncatingMetadata,cuisineList:i?a:null,priceBucket:n?b:null})):[]),[i,n,a,b,t?.truncatingMetadata]),$=(0,l.x)(z(t?.nonTruncatingMetadata)),I=(0,u.QJV)(_,(0,u.WxO)(U));return(0,g.BX)(p,{children:[w.length>=0?w.map(((e,t)=>(0,g.BX)(f,{children:[(0,g.tZ)(s.ZP,{text:e}),(0,g.tZ)(Z,{children:(0,g.tZ)(m,{to:I,children:(0,g.tZ)(o.v,{id:"storefront.info_link"})})})]},t))):null,$.length>=0?$.map(((e,t)=>(0,g.tZ)(f,{children:(0,g.tZ)(s.ZP,{text:e})},t))):null]})}},98528:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var r=i(91931),o=i(67206),n=i(63171),a=i(88231),s=i(45359),l=i(33990);const d=(0,r.zo)("div",(e=>{let{$theme:t,$width:i="auto",$height:r="40px",$borderRadius:n="0",$margin:a="0"}=e;return{...(0,o.Z)({$theme:t}),width:i,height:r,borderRadius:n,margin:a,boxSizing:"border-box",backgroundSize:"100vw 100%"}})),c=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",marginTop:t.sizing.scale300,marginBottom:t.sizing.scale800,padding:0}})),u=()=>{const[,e]=(0,r.hQ)();return(0,l.tZ)(d,{$width:"18%",$height:e.sizing.scale700,$margin:`${e.sizing.scale800} 0 ${e.sizing.scale600} 0`})},h=()=>{const[,e]=(0,r.hQ)();return(0,l.tZ)(d,{$width:"100%",$height:"147px",$borderRadius:e.sizing.scale500,$margin:`0 0 ${e.sizing.scale600} 0`})},g=e=>{let{showTitle:t=!0}=e;return(0,l.BX)(n.Z,{gridColumns:2,gridMargins:0,gridGutters:16,behavior:a.m6.fluid,children:[t?(0,l.tZ)(s.Z,{span:2,children:(0,l.tZ)(u,{})},"title"):null,(0,l.tZ)(s.Z,{span:1,children:(0,l.tZ)(h,{})},"menu-item-1"),(0,l.tZ)(s.Z,{span:1,children:(0,l.tZ)(h,{})},"menu-item-2"),(0,l.tZ)(s.Z,{span:1,children:(0,l.tZ)(h,{})},"menu-item-3")]},"carousel-1")},p=e=>{let{rows:t=5}=e;return(0,l.tZ)(c,{children:new Array(t).fill(null).map(((e,t)=>(0,l.tZ)(g,{},`section-${t}`)))})}},42105:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var r=i(75514),o=i(43193),n=i(36700),a=i(91931),s=i(21877),l=i(92839),d=i(70401),c=i(29194),u=i(76150),h=i(33990);const g=(0,a.zo)("div",(e=>{let{$direction:t}=e;return{position:"relative",margin:"ltr"===t?"0 -16px 0 0":"0 0 0 -16px",display:"flex",alignItems:"center"}})),p=(0,a.zo)("div",(e=>{let{$topOffset:t,$horizontalOffset:i,$direction:r}=e;return{display:"flex",justifyContent:"flex-end",position:"fixed",backgroundColor:"transparent",boxSizing:"border-box",top:`${t}px`,..."ltr"===r?{right:`${i}px`}:{left:`${i}px`}}})),m=e=>{let{catalogRef:t}=e;const{headerCartDropdownVisible:i,setHeaderCartDropdownVisible:a}=(0,u.Lb)(),[m,f]=o.useState(!1),Z=(0,s.Z)(),[y,S]=o.useState(0),v=(0,c.gm)(),[b,x]=o.useState(!1),_=o.useCallback((()=>{if(!t||!t.current)return;const e=t.current.getBoundingClientRect().left;S(e)}),[t]),U=(0,d.Z)(_,50);o.useEffect((()=>{i&&f(i)}),[i]);const z=o.useCallback((()=>{if(r.Z&&t.current){const e=t.current.getBoundingClientRect(),o=r.Z.scrollY;x(o>=e.top),i&&o>0&&a(!1),0===o&&f(!1)}}),[t,i,a]),w=(0,d.Z)(z,50);return o.useEffect((()=>{if(r.Z)return _(),r.Z.addEventListener("resize",U),r.Z.addEventListener("scroll",w),()=>{r.Z&&(r.Z.removeEventListener("scroll",w),r.Z.removeEventListener("resize",U))}}),[_,U,w]),b?(0,n.createPortal)((0,h.tZ)(p,{$horizontalOffset:y,$topOffset:Z,$direction:v,children:(0,h.tZ)(g,{$direction:v,children:(0,h.tZ)(l.Z,{isOverlapping:!0,floatingMenuOpen:m,handleFloatingMenuOpen:e=>{f(e)}})})}),document.body):null}},16666:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f,n:()=>u});var r=i(94024),o=i.n(r),n=i(91931),a=i(62091),s=i(57910),l=i(81198),d=i(12078),c=i(33990);const u="76px",h=(0,n.zo)("div",(e=>{let{$maxWidth:t}=e;return{display:"flex",flexDirection:"column",boxSizing:"border-box",alignItems:"flex-start",justifyContent:"center",width:"100%",maxWidth:t}})),g=(0,n.zo)("div",(e=>{let{$alignItems:t="center"}=e;return{width:"100%",flexGrow:0,display:"flex",justifyContent:"space-between",alignItems:t}})),p=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return{margin:0,padding:0,boxSizing:"border-box",...t.typography.HeadingLarge}})),m=(0,n.zo)(a.Z,(e=>{let{$theme:t,$marginLeft:i}=e;return{width:u,height:u,borderRadius:t.borders.radiusFull,border:`2px solid ${t.colors.backgroundPrimary}`,background:t.colors.backgroundPrimary,boxSizing:"border-box",objectFit:"cover",marginLeft:i||t.sizing.scale600,position:"relative",display:"block"}})),f=e=>{let{headerBrandingInfo:t,alignment:i,storeUuid:r,modalityInfo:n,maxWidth:a="276px",storeTitle:u,withLogoAndTitle:f,withMeta:Z,withControls:y,isGroupOrderingDisabled:S,isOpen:v,isStoreSchedulable:b,isWithinDeliveryRange:x,withSearchInput:_,withModalityToggle:U,withActionButtons:z,metaVerticalAlignment:w,priceBucket:$,cuisineList:I,showPriceBucket:T,showCuisineType:R}=e;const k=o()(t?.logoImageURL??""),C="start"===w?"flex-start":"end"===w?"flex-end":"center";return(0,c.BX)(c.HY,{children:[f?(0,c.tZ)(s.Z,{preloadList:[{href:k,contentType:"image"}]}):null,(0,c.BX)(h,{$maxWidth:a,children:[f&&t?.logoImageURL?(0,c.tZ)(m,{src:k,$marginLeft:"left"===i?"0px":null,loading:"eager",decoding:"sync",alt:u??"","aria-hidden":"true"}):null,(0,c.BX)(g,{$alignItems:C,children:[(0,c.BX)("div",{children:[f?(0,c.tZ)(p,{children:u}):null,Z?(0,c.tZ)(l.Z,{storeUuid:r,headerBrandingInfo:t,priceBucket:$,cuisineList:I,showPriceBucket:T,showCuisineType:R}):null]}),y?(0,c.tZ)(d.Z,{modalityInfo:n,isOpen:v,storeUuid:r,isWithinDeliveryRange:x,isGroupOrderingDisabled:S,isStoreSchedulable:b,withSearchInput:_,withModalityToggle:U,withActionButtons:z}):null]})]})]})}},50368:(e,t,i)=>{"use strict";i.d(t,{S_:()=>p,ZP:()=>U,kE:()=>m});var r=i(36151),o=i(94024),n=i.n(o),a=i(91931),s=i(62091),l=i(62874),d=i(63812),c=i(41100),u=i(16666),h=i(57910),g=i(33990);const p=250,m=`${p}px`,f=(0,a.zo)(s.Z,(e=>{let{$show:t}=e;return{display:"block",height:m,width:"100%",objectFit:"cover",border:"none",position:"absolute",top:0,left:0,opacity:t?1:0,transition:"opacity 400ms ease",boxSizing:"border-box"}})),Z=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"block",height:m,width:"100%",border:"none",position:"absolute",top:0,left:0,background:t.colors.backgroundSecondary,borderRadius:t.borders.radius400,overflow:"hidden",boxSizing:"border-box"}})),y=(0,a.zo)(s.Z,(()=>({display:"block",height:m,width:"100%",objectFit:"cover",border:"none",position:"absolute",top:0,left:0,boxSizing:"border-box"}))),S=(0,a.zo)("div",(()=>({display:"block",height:m,position:"absolute",top:0,left:0,width:"100%",background:"transparent",backdropFilter:"blur(8px)",boxSizing:"border-box"}))),v=(0,a.zo)("div",(e=>{let{$theme:t,$hasMeta:i}=e;return{paddingTop:t.sizing.scale600,paddingLeft:t.sizing.scale900,paddingRight:t.sizing.scale900,display:"flex",columnGap:t.sizing.scale300,boxSizing:"border-box",justifyContent:"flex-end",height:i?`calc(${m} - 76px/2)`:m,minHeight:"67px"}})),b=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale100,position:"relative",width:"100%",overflow:"visible",boxSizing:"border-box"}})),x=(0,a.zo)("div",{flex:1}),_=(0,a.zo)("div",(e=>{let{$marginTop:t=0,$marginLeft:i=0}=e;return{display:"flex",flexWrap:"nowrap",alignItems:"flex-end",marginTop:`${t}px`,marginLeft:`${i}px`,marginBottom:"16px",boxSizing:"border-box"}})),U=e=>{let{headerBrandingInfo:t,fallbackHeroImageUrl:i,heroImageUrls:o,storeUuid:s,withFavoriteButton:p=!0,withOverflowButton:m=!0,storeTitle:U,isOpen:z,isWithinDeliveryRange:w,isGroupOrderingDisabled:$,isStoreSchedulable:I,modalityInfo:T,withControlsAndMeta:R=!0,withMeta:k=!0,withSearchInput:C=!1,withModalityToggle:B=!1,withActionButtons:O=!1,storeAvailabilityState:P,metaVerticalAlignment:E="center",alignment:L="default",priceBucket:D,cuisineList:A,showPriceBucket:M,showCuisineType:H}=e;const[G,X]=(0,r.useState)(!0),N=(0,r.useRef)(null),[,F]=(0,a.hQ)();if((0,r.useEffect)((()=>{N.current?.complete||X(!1)}),[]),"RESTAURANT"!==t?.headerType)return null;const Q=(o||[]).filter((e=>e.url&&e.width)).map((e=>`${e.url} ${e.width}w`)).join(","),V=n()((o?.length?o[0]?.url:i)??"");return(0,g.BX)(g.HY,{children:[(0,g.tZ)(h.Z,{preloadList:[{href:V,contentType:"image"}]}),o?.length?o.map((e=>1080===e.width?(0,g.tZ)(h.Z,{preloadList:[{href:n()(e.url),contentType:"image"}]},e.url):null)):null,(0,g.BX)(b,{children:[(0,g.BX)(Z,{children:[i?(0,g.tZ)(y,{src:i,alt:U||""}):null,(0,g.tZ)(S,{}),o?(0,g.tZ)(f,{ref:N,onLoad:()=>{X(!0)},srcSet:Q,src:o[0]?.url||"",$show:G,alt:U||"",loading:"eager",fetchpriority:"high",decoding:"sync"}):null]}),(0,g.BX)(v,{$hasMeta:R,children:[(0,g.tZ)(c.Z,{fill:"solid"}),(0,g.tZ)(x,{}),p?(0,g.tZ)(d.Z,{fill:"solid",storeUuid:s,buttonSize:F.sizing.scale950,iconSize:16}):null,m?(0,g.tZ)(l.Z,{fill:"solid",storeUuid:s,buttonSize:F.sizing.scale950,iconSize:16}):null]}),R?(0,g.tZ)(_,{$marginTop:t?.logoImageURL?0:54,$marginLeft:"left"===L?8:0,children:(0,g.tZ)(u.Z,{modalityInfo:T,storeUuid:s,headerBrandingInfo:t,alignment:L,maxWidth:"100%",storeTitle:U,isOpen:z,isWithinDeliveryRange:w,withLogoAndTitle:!0,withMeta:k,withControls:!0,isGroupOrderingDisabled:$,isStoreSchedulable:I,withSearchInput:C,withModalityToggle:B,withActionButtons:O,metaVerticalAlignment:E,priceBucket:D,cuisineList:A,showPriceBucket:M,showCuisineType:H})}):null]})]})}},21168:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ie});var r=i(43193),o=i(91931),n=i(84597),a=i(62874);const s=(0,o.zo)("div",(e=>{let{$direction:t}=e;return{..."ltr"===t?{right:0}:{left:0},alignSelf:"baseline",columnGap:"8px",display:"flex",margin:"24px 40px",position:"absolute"}}));var l=i(75917),d=i(8051),c=i(74057),u=i(89765),h=i(3289),g=i(29194),p=i(40836),m=i(52298),f=i(79908),Z=i(36278),y=i(15649),S=i(60362),v=i(33990);const b=(0,o.zo)("table",{borderSpacing:0,marginTop:"2px"}),x=(0,o.zo)("td",(e=>({...e.$theme.typography.LabelMedium,padding:`${e.$isFirst?0:"6px"} 0 2px 0`}))),_=(0,o.zo)("td",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentSecondary,padding:"2px 0"}})),U=e=>{let{storeHours:t}=e;const i=(0,y.Z)();return(0,v.tZ)(b,{children:(0,v.tZ)("tbody",{children:t.map(((e,t)=>(0,v.BX)(r.Fragment,{children:[(0,v.tZ)("tr",{children:(0,v.tZ)(x,{$isFirst:0===t,children:e.dayRange})}),e.sectionHours.length?null:(0,v.tZ)("tr",{children:(0,v.tZ)(_,{children:(0,v.tZ)(p.v,{id:"shared.closed"})})}),e.sectionHours.map(((e,t)=>(0,v.BX)("tr",{children:[(0,v.BX)(_,{children:[(0,S.CJ)(i,e.startTime)," -"," ",(0,S.CJ)(i,e.endTime)]}),(0,v.tZ)(Z.KG,{$width:"16px",$as:"td"}),(0,v.tZ)(_,{children:e.sectionTitle})]},`${e.sectionTitle}-${t}`)))]},`${e.dayRange}-${t}`)))})})},z=(0,o.zo)("h3",(e=>{let{$theme:t}=e;return t.typography.DisplayXSmall})),w=(0,o.zo)("div",{margin:"24px 24px 16px 24px"}),$=(0,o.zo)("div",(()=>({display:"flex",alignItems:"flex-start",paddingTop:"8px",paddingBottom:"8px"}))),I=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,marginTop:"2px"}})),T=e=>(0,v.BX)(w,{children:[(0,v.tZ)(z,{children:(0,v.tZ)(p.v,{id:"shared.locationAndHours"})}),(0,v.tZ)(m.ZP,{$height:8}),e.address?(0,v.BX)($,{children:[(0,v.tZ)(f.Z,{type:"Pin"}),(0,v.tZ)(Z.ZP,{$width:"8px"}),(0,v.tZ)(I,{children:e.address})]}):null,(0,v.BX)($,{children:[(0,v.tZ)(f.Z,{type:"Time"}),(0,v.tZ)(Z.ZP,{$width:"8px"}),(0,v.tZ)(U,{storeHours:e.hours||[]})]})]}),R=(0,o.zo)("div",{display:"none"}),k=e=>(0,v.tZ)(R,{children:(0,v.tZ)(T,{address:e.address,hours:e.hours})});var C=i(33535),B=i(54146),O=i(91631),P=i(32857),E=i(68065),L=i(88885),D=i("__fusion__564"),A=i("__fusion__576"),M=i(99990),H=i(62149),G=i(47986);const X=(0,o.zo)("div",(e=>{let{$theme:t,$direction:i}=e;return{position:"absolute",top:t.sizing.scale800,..."rtl"===i?{right:t.sizing.scale1000}:{left:t.sizing.scale1000}}})),N=()=>{const e=(0,g.gm)(),t=(0,O.k6)(),i=(0,H.TH)(),r=(0,L.T)(),{primaryStore:o}=(0,M.QT)();if(!o?.data)return null;return(0,v.tZ)(X,{$direction:e,children:(0,v.tZ)(P.Z,{kind:E.TO.secondary,shape:E.X3.pill,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{whiteSpace:"nowrap",height:t.sizing.scale950,padding:`${t.sizing.scale400} ${t.sizing.scale500}`,backgroundColor:t.colors.primaryB,...t.typography.LabelSmall}}}},startEnhancer:"rtl"===e?(0,v.tZ)(A.default,{color:"buttonSecondaryText"}):(0,v.tZ)(D.default,{color:"buttonSecondaryText"}),onClick:()=>{if(!o?.data)return null;const e=(0,G.gfM)(i,(0,G.Btk)(o.data));t.push(e)},children:r("shared.back_to",{pageLocation:o?.data?.title})})})};var F=i(47885),Q=i(63812),V=i(32762),q=i(50368),W=i(8759),Y=i(73448),j=i(16666);const J=(0,o.zo)("div",(e=>{let{$theme:t,$height:i,$borderRadius:r}=e;return{alignItems:"center",background:t.colors.backgroundSecondary,display:"flex",height:`${i}px`,justifyContent:"center",position:"relative",width:"100%",margin:0,borderRadius:r??"0"}})),K=(0,o.w1)(n.Z,(e=>{let{$direction:t,$indent:i,$borderRadius:r}=e;return{bottom:0,..."ltr"===t?{left:`${i?i+2:0}px`,right:0}:{left:0,right:`${i?i+2:0}px`},position:"absolute",top:0,transition:"left 0.3s",borderRadius:r??"0"}})),ee=(0,o.zo)("div",(e=>{let{$marginTop:t=0,$marginLeft:i=0}=e;return{display:"flex",flexWrap:"nowrap",alignItems:"flex-end",marginTop:`${t}px`,marginLeft:`${i}px`,boxSizing:"border-box",marginBottom:"16px"}})),te=e=>{const{headerBrandingInfo:t,modalityInfo:n,withMeta:p,withSearchInput:m,withModalityToggle:f,withActionButtons:Z,metaVerticalAlignment:y,alignment:S,priceBucket:b,cuisineList:x,showPriceBucket:_,showCuisineType:U}=e.legacyFallbackProps||{},z=(0,l.Z)({isDeliveryOverTheTop:e.isDeliveryOverTheTop,isOpen:e.isOpen,isPreview:e.isPreview,isWithinDeliveryRange:e.isWithinDeliveryRange,storeUuid:e.storeUuid}),{isStoreOfdRedesignPhase2XpEnabled:w,desktopFeatures:$}=(0,V.Z)(),[,I]=(0,o.hQ)(),{diningMode:T}=(0,c.Z)(),R=(0,B.Z)(),O=(0,u.Z)(),P="PICKUP"===T&&!R&&O.isEnabled,E=(0,g.gm)(),L=(0,C.ZP)(),{isStorePrecheckoutBundlingEnabled:D}=(0,F.Z)(),A=w?I.borders.radius400:null,M=w?q.S_:h.aV;return r.useEffect((()=>{"STORE_CLOSED"===e.storeAvailabilityStatus?.state&&L("eats:store_close_storefront",{storeAction:{storeUuid:e.storeUuid}})}),[L,e.storeUuid,e.storeAvailabilityStatus]),(0,v.BX)(Y.Z,{condition:w,wrapper:e=>(0,v.tZ)(W.Z,{children:e}),children:[(0,v.BX)(J,{$height:M,$borderRadius:A,children:[(0,v.tZ)(K,{blurFallbackImage:!0,defaultHeroImageUrl:(0,d.pZ)(i(77541)),fallbackHeroImageUrl:e.fallbackHeroImageUrl,hasHeroImageUrlsLoaded:e.hasStoreLoaded,heroImageUrls:e.heroImageUrls,location:e.location,showMap:P,storeUuid:e.storeUuid,overrideHeight:M,storeUnavailableReason:z,storeAvailabilityStatus:e.storeAvailabilityStatus,$indent:0,$direction:E,storeHeroBackground:e.storeHeroBackground,borderRadius:A,$borderRadius:A,disableHeroImageOverlay:w}),(0,v.tZ)(k,{address:e.address,hours:e.hours}),(0,v.BX)(s,{$direction:E,children:[e.hideFavoriteButton?null:(0,v.tZ)(Q.Z,{storeUuid:e.storeUuid,fill:"solid"}),e.hideOverflowButton?null:(0,v.tZ)(a.Z,{hideFavoriteButton:e.hideFavoriteButton,isDeliveryOverTheTop:e.isDeliveryOverTheTop,isGroupOrderingDisabled:e.isGroupOrderingDisabled,isWithinDeliveryRange:e.isWithinDeliveryRange,isStoreSchedulable:e.isStoreSchedulable,storeUuid:e.storeUuid,fill:"solid"})]}),D?(0,v.tZ)(N,{}):null]}),$.isLegacyHeaderWithBrandingInfo&&t?(0,v.tZ)(ee,{$marginTop:t?.logoImageURL?-36:27,$marginLeft:"left"===S?8:0,children:(0,v.tZ)(j.Z,{modalityInfo:n,storeUuid:e.storeUuid,headerBrandingInfo:t,alignment:S||"default",maxWidth:"100%",storeTitle:e.storeTitle,isOpen:e.isOpen,isWithinDeliveryRange:e.isWithinDeliveryRange,withLogoAndTitle:!0,withMeta:p,withControls:!0,isGroupOrderingDisabled:e.isGroupOrderingDisabled,isStoreSchedulable:e.isStoreSchedulable,withSearchInput:m,withModalityToggle:f,withActionButtons:Z,metaVerticalAlignment:y,priceBucket:b,cuisineList:x,showPriceBucket:_,showCuisineType:U})}):null]})};te.displayName="StoreDesktopHeroSection";const ie=te},41391:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Me});var r=i(91931),o=i(63171),n=i(88231),a=i(45359),s=i(36151),l=i(88885),d=i(40836),c=i(59210),u=i(32857),h=i(68065),g=i(11841),p=i(16782),m=i("__fusion__1506"),f=i("__fusion__855"),Z=i(54669),y=i(34626),S=i(55186),v=i(69890),b=i(79406),x=i(72238),_=i(21322),U=i("__fusion__911"),z=i("__fusion__700"),w=i(44133),$=i(51170),I=i(71454),T=i.n(I),R=i(929);const k=()=>{const{state:e,setAddressInputHighlighted:t}=(0,$.D)(),{headerHeight:i}=(0,R.Z)(),r=(0,s.useRef)(null),o=(0,s.useRef)(e.isAddressInputHighlighted);return o.current=e.isAddressInputHighlighted,(0,s.useEffect)((()=>{const e=T()((()=>{if(!r.current)return o.current&&t(!1);const e=(r.current.getBoundingClientRect().bottom||0)-i<=0;e!=o.current&&t(e)}),50);return document.addEventListener("scroll",e),()=>{document.removeEventListener("scroll",e)}}),[i,t]),(0,s.useEffect)((()=>()=>{t(!1)}),[t]),{addressInputCardRef:r}};var C=i(32583),B=i(33535),O=i(85191),P=i(33990);const E=(0,r.zo)("section",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",backgroundColor:t.colors.backgroundInverseSecondary,color:t.colors.contentInversePrimary,padding:t.sizing.scale600,borderRadius:t.borders.radius400}})),L=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:t.sizing.scale300}})),D=e=>{let{width:t}=e;return{Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary}}},Body:{style:e=>{let{$theme:i}=e;return{backgroundColor:i.colors.backgroundPrimary,maxHeight:"320px",width:t,overflow:"auto",borderRadius:i.borders.radius400}}},Inner:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary}}}}},A={BaseButton:{style:e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,height:t.sizing.scale850,paddingTop:t.sizing.scale200,paddingBottom:t.sizing.scale200,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}}},M={StartEnhancer:{style:e=>{let{$theme:t}=e;return{paddingRight:t.sizing.scale300,paddingLeft:t.sizing.scale300}}},EndEnhancer:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}},Input:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300}}},Root:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale200,paddingRight:t.sizing.scale200}}}},H=()=>{const e=(0,l.T)(),[,t]=(0,r.hQ)(),i=(0,Z.Z)(),{user:o}=(0,y.Z)(),[n,a]=(0,s.useState)(""),[$,I]=(0,s.useState)(!1),T=o.data?.isLoggedIn,{locationSuggestions:R,handleLocationSelected:H,isLoading:G,hasLoaded:X}=(0,w.Z)({query:n}),N=n.length>0,F=(R.length>0||!G)&&N&&$,{addressInputCardRef:Q}=k(),V=(0,B.ZP)(),[q,W]=(0,O.Z)({root:null}),Y=(0,s.useRef)(!1);(0,s.useEffect)((()=>{$&&V("eats:enter_delivery_address_start",{})}),[$,V]),(0,s.useEffect)((()=>{q(Q.current)}),[Q,q]),(0,s.useEffect)((()=>{W?.isIntersecting&&!Y.current&&(Y.current=!0,V("eats:store_ofd_address_input_card_impression"))}),[W?.isIntersecting,V]),(0,s.useEffect)((()=>{G&&V("eats:store_ofd_address_input_card_search_location")}),[G,V]),(0,s.useEffect)((()=>{const e=e=>{const t=document.getElementById("store-address-search-input");t&&I(t.contains(e.target))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]);const j=e=>{e.stopPropagation(),a("");const t=document.getElementById("store-address-search-input");t&&(t.focus(),I(!0))};if(i)return null;const J=Q.current?.offsetWidth?`${Q.current.offsetWidth}px`:"auto";return(0,P.BX)(E,{ref:Q,children:[(0,P.BX)(L,{children:[(0,P.tZ)(c.fH,{color:"contentInversePrimary",margin:0,children:(0,P.tZ)(d.v,{id:"components.store_address_input_title"})}),T?null:(0,P.tZ)(S.Z,{type:"login",children:e=>{let{onClick:t}=e;return(0,P.tZ)(u.Z,{kind:h.TO.secondary,shape:h.X3.pill,onClick:e=>{V("eats:store_ofd_address_input_card_login_click"),t(e)},overrides:A,startEnhancer:()=>(0,P.tZ)(f.default,{size:12}),children:(0,P.tZ)(d.v,{id:"components.store_address_input.login_button"})})}})]}),(0,P.tZ)(v.Z,{isOpen:F,content:(0,P.BX)("ul",{children:[R?.map((e=>(0,P.tZ)(x.Z,{artwork:e=>(0,P.tZ)(m.default,{...e,size:24,color:t.colors.gray600}),overrides:{Root:{style:()=>({cursor:"pointer"})}},onClick:()=>{V("eats:store_ofd_address_input_card_location_selected"),H(e)},children:(0,P.tZ)(_.Z,{description:e.addressLine2,children:e.addressLine1})},e.id))),X&&0===R?.length?(0,P.tZ)(x.Z,{children:(0,P.tZ)(_.Z,{children:(0,P.tZ)(d.v,{id:"components.store_address_input.no_results"})})},"no-results"):null]}),placement:b.r4.bottom,overrides:D({width:J}),popoverMargin:24,autoFocus:!1,popperOptions:{modifiers:{flip:{enabled:!1}}},children:(0,P.tZ)("div",{children:(0,P.tZ)(g.Z,{id:"store-address-search-input",size:p.NO.compact,startEnhancer:e=>e.$isFocused||n.length>0?(0,P.tZ)(U.default,{size:16,onClick:e=>e.stopPropagation()}):(0,P.tZ)(m.default,{size:16,onClick:e=>e.stopPropagation()}),placeholder:e("shared.enterYourAddress"),overrides:M,value:n,onChange:e=>a(e.target.value),endEnhancer:e=>G?(0,P.tZ)(C.$,{$size:20}):N?(0,P.tZ)(z.default,{size:20,...e,onClick:j}):null})})})]})};var G=i(48559),X=i(82481),N=i(87763),F=i(22395),Q=i("__fusion__561"),V=i(82093);const q=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",padding:`${t.sizing.scale600} ${t.sizing.scale300}`,boxSizing:"border-box",color:t.colors.rewardsTier2,...t.borders.border300,borderRadius:t.borders.radius400}})),W=(0,r.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box",color:t.colors.rewardsTier2}})),Y=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-start",marginRight:t.sizing.scale900,boxSizing:"border-box"}})),j=(0,r.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",marginBottom:t.sizing.scale300}})),J=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",marginTop:t.sizing.scale100,color:t.colors.contentTertiary,...t.typography.ParagraphSmall,overflow:"hidden",whiteSpace:"nowrap"}})),K=(0,r.zo)("span",(e=>{let{$truncate:t}=e;return t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}})),ee=(0,r.zo)("h3",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.colors.contentPrimary,marginBottom:t.sizing.scale500}})),te=e=>{let{storeUuid:t,featuredReviews:i,storeRating:r,showSeeMore:l}=e;const{scrollToDesktopRef:g}=(0,s.useContext)(G.ru),[p,m]=(0,O.Z)({threshold:1}),f=(0,B.ZP)(),Z=(0,s.useRef)(!1),y=(0,s.useMemo)((()=>(i||[]).map((e=>e.reviewText?.text?.length||0))),[i]);return(0,s.useEffect)((()=>{Z.current||m?.isIntersecting&&(f("eats:store_rating_and_reviews_impression",{storeUuid:t,featuredReviewsLength:y,featuredReviewsLayout:"info-section"}),Z.current=!0)}),[f,m?.isIntersecting,t,y]),i?.length&&r?(0,P.BX)("section",{ref:p,children:[(0,P.tZ)(ee,{children:(0,P.tZ)(d.v,{id:"component.store.rating_and_reviews.title"})}),(0,P.tZ)(q,{children:(0,P.BX)(o.Z,{gridColumns:16,gridMargins:0,gridGaps:0,gridGutters:16,behavior:n.m6.fluid,overrides:{GridWrapper:{style:{width:"100%"}}},children:[(0,P.tZ)(a.Z,{span:4,children:(0,P.BX)(W,{children:[(0,P.tZ)(c.Y9,{color:"contentPrimary",children:r.ratingValue.toFixed(1)}),(0,P.tZ)(V.Z,{value:r.ratingValue}),(0,P.tZ)(c.lU,{color:"contentSecondary",children:(0,P.tZ)(d.v,{id:"component.store.reviews.subtitle.ratings",data:{count:r.reviewCount}})})]})},"rating"),(0,P.tZ)(a.Z,{span:12,children:(0,P.BX)(Y,{children:[i.slice(0,2).map(((e,t)=>(0,P.BX)(j,{children:[(0,P.BX)(N.Z,{clamp:3,as:"p",typographyKey:"ParagraphSmall",colorKey:"contentPrimary",children:['"',e.reviewText?.text,'"']}),(0,P.BX)(J,{children:[(0,P.tZ)(V.Z,{value:5,size:12,color:"contentPrimary"}),(0,P.tZ)(F.Z,{typography:"ParagraphSmall"}),(0,P.tZ)(K,{$truncate:!0,children:e.eaterName?.text}),(0,P.tZ)(F.Z,{typography:"ParagraphSmall"}),(0,P.tZ)(K,{$truncate:!1,children:e.formattedDate})]})]},t))),l?(0,P.tZ)(u.Z,{kind:h.TO.secondary,shape:h.X3.pill,size:h.NO.compact,startEnhancer:()=>(0,P.tZ)(Q.default,{size:16}),onClick:()=>{f("eats:store_rating_and_reviews_see_more_click",{storeUuid:t,featuredReviewsLayout:"info-section"}),g(X.g)},overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale200}}}},children:(0,P.tZ)(d.v,{id:"shared.showMore"})}):null]})},"featured-reviews")]})})]}):null};var ie=i(95171),re=i(43193),oe=i(54612),ne=i(51492),ae=i("__fusion__1391"),se=i("__fusion__1402"),le=i("__fusion__689"),de=i("__fusion__1365"),ce=i(60362),ue=i(15649),he=i(20196),ge=i(83059),pe=i(8961),me=i(75514),fe=i("__fusion__427"),Ze=i(74057),ye=i(40411);const Se="cubic-bezier(0.83, 0, 0.17, 1)",ve=(0,r.zo)("ul",(e=>{let{$theme:t,$expanded:i,$orientation:r,$entryAnimation:o,$exitAnimation:n}=e;return{width:"portrait"===r?"100%":`calc(33.333% + ${t.sizing.scale200})`,paddingLeft:"portrait"===r?"0px":t.sizing.scale600,boxSizing:"border-box",height:"fit-content",position:"relative",...null===i?null:i?o:n,zIndex:2}})),be=(0,r.zo)("section",(e=>{let{$theme:t,$orientation:i}=e;return{display:"portrait"===i?"block":"flex",boxSizing:"border-box",...t.borders.border300,borderRadius:t.borders.radius400,overflow:"hidden",position:"relative"}})),xe=(0,r.zo)("div",(e=>{let{$theme:t,$expanded:i,$orientation:r,$entryAnimation:o,$exitAnimation:n,$landscapeDefaultHeight:a}=e;return{..."portrait"===r?{width:"100%",height:t.sizing.scale4800,maxHeight:t.sizing.scale4800}:{width:`calc(66.666% - ${t.sizing.scale200})`,height:a?`${a}px`:"100%",maxHeight:a?`${a}px`:"100%",...null===i?null:i?o:n},background:t.colors.backgroundSecondary,overflow:"hidden"}})),_e=(0,r.zo)(de.default,(e=>{let{$expanded:t}=e;return{transform:`rotate(${t?180:0}deg)`}})),Ue=(0,r.zo)("div",(e=>{let{$theme:t,$isVisible:i,$paddingTop:r,$orientation:o,$entryAnimation:n,$exitAnimation:a}=e;return{display:"block",boxSizing:"border-box",position:"absolute",overflow:"auto",top:0,height:"100%",background:t.colors.backgroundPrimary,paddingLeft:t.sizing.scale1600,paddingRight:t.sizing.scale600,paddingBottom:t.sizing.scale600,marginTop:t.sizing.scale500,paddingTop:`${r}px`,..."portrait"===o?{width:"100%",left:0}:{width:`calc(33.333% + ${t.sizing.scale200})`,right:0},...null===i&&{opacity:0,zIndex:0},...null===i?null:i?n:a}})),ze=e=>({Root:{style:{cursor:"pointer"}},Content:{style:e?{borderBottomColor:"transparent"}:{}}}),we={LabelDescription:{style:e=>{let{$theme:t}=e;return{...t.typography.paragraphSmall,color:t.colors.contentSecondary,marginTop:t.sizing.scale100}}}},$e=e=>{let{storeLocation:t,hours:i,storeName:r,workingHoursTagline:d,storeAvailablityStatus:u,storeUuid:h,orientation:g="portrait"}=e;const p=(0,l.T)(),{deliveryLocation:f}=(0,Ze.Z)(h),[Z,y]=re.useState(null),S=(0,ue.Z)(),v=(0,s.useRef)(null),b=(0,s.useRef)(null),U=(0,s.useRef)(null),[z,w]=(0,s.useState)(0),{enqueue:$}=(0,he.Ds)(),I=(0,pe.Z)(),[T,R]=(0,O.Z)({root:null}),k=(0,B.ZP)(),C=(0,s.useRef)(!1),{shouldHideTooFar:E}=(0,ye.W)(h);(0,s.useEffect)((()=>{w(((e,t)=>e&&t?Math.abs(t.getBoundingClientRect().top-e.getBoundingClientRect().top):0)(b.current,U.current)),T(U.current)}),[T]),(0,s.useEffect)((()=>{R?.isIntersecting&&!C.current&&(k("eats:store_ofd_info_card_impression"),C.current=!0)}),[k,R?.isIntersecting]);const L=(0,s.useMemo)((()=>(e=>{let{animationDelta:t,offsetHeight:i,listHeight:r,orientation:o}=e;return{expandStoreInfoAnimation:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"0%":{transform:"translateY(0)"},"100%":{transform:`translateY(-${t}px)`}}},hideStoreInfoAnimation:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"0%":{transform:`translateY(-${t}px)`},"100%":{transform:"translateY(0)"}}},hoursEntryAnimation:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"0%":{transform:"portrait"===o?`translateY(calc(100% - ${i||0}px))`:`translateY(${i}px)`}}},hoursExitAnimation:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"100%":{transform:"portrait"===o?`translateY(calc(100% - ${i}px))`:`translateY(${i}px)`}}},hoursEntryItemAnimation:{animationDuration:"400ms",animationTimingFunction:"linear",animationFillMode:"forwards",animationName:{"0%":{visibility:"visible",opacity:0},"100%":{visibility:"visible",opacity:1}}},hoursExitItemAnimation:{animationDuration:"400ms",animationTimingFunction:"linear",animationFillMode:"forwards",animationName:{"0%":{visibility:"visible"},"100%":{visibility:"hidden"}}},landscapeMapOpen:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"0%":{height:`${r||0}px`,maxHeight:`${r||0}px`},"100%":{height:"252px",maxHeight:"252px"}}},landscapeMapClose:{animationDuration:"500ms",animationTimingFunction:Se,animationFillMode:"forwards",animationName:{"0%":{height:"252px",maxHeight:"252px"},"100%":{height:`${r||0}px`,maxHeight:`${r||0}px`}}}}})({animationDelta:z,offsetHeight:b.current?.offsetHeight||0,listHeight:v.current?.offsetHeight||0,orientation:g||"portrait"})),[z,g]),D={render:e=>{let{localizedDistance:t,storeAnchorPosition:i}=e;return f?(0,P.tZ)(ne.Z,{label:String(t),anchor:i}):(0,P.tZ)(oe.Z,{label:r})}},A={render:()=>(0,P.tZ)(ne.Z,{overrides:{PinHead:{style:()=>({display:"none"})}}})};return(0,P.BX)(be,{ref:U,$orientation:g,className:"store-info-card",children:[(0,P.tZ)(xe,{$expanded:Z,$orientation:g,$entryAnimation:L.landscapeMapOpen,$exitAnimation:L.landscapeMapClose,$landscapeDefaultHeight:v.current?.offsetHeight||140,children:I?(0,P.tZ)(fe.default,{height:"portrait"===g?192:Z?252:v.current?.offsetHeight||140,storeLocation:t,storeUuid:h,storeMarker:D,deliveryLocationMarker:A,padding:"portrait"===g?60:30}):null}),(0,P.BX)(ve,{$expanded:Z,$orientation:g,$entryAnimation:L.expandStoreInfoAnimation,$exitAnimation:L.hideStoreInfoAnimation,ref:v,children:[(0,P.tZ)(x.Z,{artwork:e=>(0,P.tZ)(m.default,{...e,size:16}),endEnhancer:e=>(0,P.tZ)(se.default,{...e,size:16}),overrides:ze(!1),onClick:async()=>{if(me.Z){k("eats:store_ofd_info_card_copy_address");try{await me.Z.navigator.clipboard.writeText(t?.address||""),$({message:p("shared.copied"),startEnhancer:()=>(0,P.tZ)(le.default,{size:22})},ge.t.short)}catch(e){}}},children:(0,P.tZ)(_.Z,{overrides:we,description:`${t?.city}, ${t?.region}`,children:t?.streetAddress})},"address"),(0,P.tZ)(x.Z,{artwork:e=>(0,P.tZ)(ae.default,{...e,size:16}),endEnhancer:e=>(0,P.tZ)(_e,{...e,$expanded:Boolean(Z),size:16}),onClick:()=>{Z||k("eats:store_ofd_info_card_toggle_hours"),y(!Z)},overrides:ze(!Z),ref:b,children:(0,P.tZ)(_.Z,{overrides:we,description:E?null:d,children:E?d:"AVAILABLE"===u?.state?p("components.store_info_card.store_open"):u?.displayMessage||p("shared.unavailable")})},"hours")]}),(0,P.tZ)(Ue,{$isVisible:Z,$paddingTop:b.current?.offsetHeight||0,$orientation:g,$entryAnimation:L.hoursEntryAnimation,$exitAnimation:L.hoursExitAnimation,children:(0,P.tZ)(o.Z,{gridColumns:2,gridGaps:12,gridMargins:0,gridGutters:0,behavior:n.m6.fluid,children:(i||[]).map(((e,t)=>(0,P.tZ)(re.Fragment,{children:(0,P.BX)(a.Z,{span:2,overrides:{Cell:{style:{textAlign:"left",visibility:"hidden",...Z?L.hoursEntryItemAnimation:L.hoursExitItemAnimation,animationDelay:Z?60*(t+1)+"ms":"0ms"}}},children:[(0,P.tZ)(c.Uc,{color:"contentPrimary",children:e.dayRange}),e.sectionHours.map(((e,t)=>(0,P.BX)(c.aM,{color:"contentSecondary",paddingTop:"4px",children:[(0,ce.CJ)(S,e.startTime)," -"," ",(0,ce.CJ)(S,e.endTime),e.sectionTitle?(0,P.BX)(P.HY,{children:[(0,P.tZ)(F.Z,{typography:"ParagraphSmall"}),e.sectionTitle]}):null]},t)))]})},`${e.dayRange}-${t}`)))})})]})},Ie=210,Te=(0,r.zo)("div",(e=>{let{$theme:t,$hidden:i}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary,textAlign:"left",margin:"0 0 24px 0",display:i?"none":"block"}})),Re=(0,r.zo)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.contentPrimary,display:"inline-block",marginTop:"2px",cursor:"pointer",textDecoration:"none"}})),ke=e=>{let{store:t}=e;const i=(0,l.T)(),[r,o]=re.useState(!0),n=!t.optoutRestaurantExperiments?.optoutMenuExperiments?.optoutAllExperiments,a=n?t.seoMeta?.content:null;return a&&n?(0,P.BX)(P.HY,{children:[a?.length>Ie&&r?(0,P.BX)(Te,{children:[`${a.slice(0,Ie)}... `,(0,P.tZ)(Re,{onClick:()=>o(!1),rel:"nofollow","aria-label":i("shared.showMore"),children:(0,P.tZ)(d.v,{id:"shared.more"})})]}):null,(0,P.BX)(Te,{$hidden:a.length>Ie&&r,children:[a,a&&a?.length>Ie?(0,P.BX)(Re,{onClick:()=>o(!0),rel:"nofollow","aria-label":i("shared.showLess"),children:[" ",(0,P.tZ)(d.v,{id:"shared.less"})]}):null]})]}):null};var Ce=i(16666),Be=i(32762),Oe=i(12078);const Pe=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale400}})),Ee=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600,marginBottom:t.sizing.scale600}})),Le=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,marginBottom:t.sizing.scale600,":first-child":{marginTop:0}}})),De=(0,r.zo)("div",(e=>{let{$theme:t,$hasLogo:i}=e;return{marginTop:i?`calc(-1* ${Ce.n}/2)`:t.sizing.scale600}})),Ae=(0,r.zo)("div",(e=>{let{$theme:t,$hasLogo:i}=e;return{marginTop:i?`calc(${Ce.n}/2)`:t.sizing.scale600,marginBottom:t.sizing.scale500}})),Me=e=>{let{store:t}=e;const i=Boolean(t.headerBrandingInfo?.logoImageURL),{desktopFeatures:r}=(0,Be.Z)(),{showReviews:s,showDescription:l,showBrandingInfoAndControls:d,infoCardOrientation:c}=r.storeInfoConfig;return(0,P.BX)(o.Z,{gridColumns:24,gridMargins:0,gridGaps:0,gridGutters:16,overrides:{Grid:{style:e=>{let{$theme:t}=e;return{marginTop:d?"0":t.sizing.scale500}}}},behavior:n.m6.fluid,children:[(0,P.BX)(a.Z,{span:16,children:[d?(0,P.tZ)(De,{$hasLogo:i,children:(0,P.tZ)(Ce.Z,{modalityInfo:t.modalityInfo,storeUuid:t.uuid,headerBrandingInfo:t.headerBrandingInfo,alignment:"default",maxWidth:"100%",storeTitle:t.title,isOpen:t.isOpen,isWithinDeliveryRange:t.isWithinDeliveryRange,isGroupOrderingDisabled:t.isGroupOrderingDisabled,isStoreSchedulable:t.scheduledOrderInfo?.isSchedulable,withLogoAndTitle:!0,withMeta:!0,withControls:!1,withSearchInput:!1,withModalityToggle:!1,withActionButtons:!1,priceBucket:t.priceBucket,cuisineList:t.cuisineList,showPriceBucket:!0,showCuisineType:!0})}):null,l?(0,P.tZ)(ke,{store:t}):null,(0,P.tZ)(H,{}),s?(0,P.tZ)(Le,{children:(0,P.tZ)(te,{storeUuid:t.uuid,featuredReviews:t.featuredReviews,showSeeMore:t.storeReviews.length>2,storeRating:t.rating})}):null]}),(0,P.BX)(a.Z,{span:8,children:[d?(0,P.tZ)(Ae,{$hasLogo:i,children:(0,P.tZ)(Oe.Z,{storeUuid:t.uuid,isOpen:t.isOpen,isWithinDeliveryRange:t.isWithinDeliveryRange,isGroupOrderingDisabled:t.isGroupOrderingDisabled,isStoreSchedulable:t.scheduledOrderInfo?.isSchedulable,modalityInfo:t.modalityInfo,withModalityToggle:!0,withActionButtons:!0,withSearchInput:!1})}):null,(0,P.tZ)(ie.Z,{storeUuid:t.uuid,modalityInfo:t.modalityInfo}),"portrait"===c?(0,P.tZ)(Pe,{children:(0,P.tZ)($e,{storeLocation:t.location,storeUuid:t.uuid,storeName:t.title,hours:t.hours,workingHoursTagline:t.workingHoursTagline,storeAvailablityStatus:t.storeInfoMetadata?.storeAvailablityStatus,orientation:"portrait"})}):null]}),"landscape"===c?(0,P.tZ)(a.Z,{span:24,children:(0,P.tZ)(Ee,{children:(0,P.tZ)($e,{storeLocation:t.location,storeUuid:t.uuid,storeName:t.title,hours:t.hours,workingHoursTagline:t.workingHoursTagline,storeAvailablityStatus:t.storeInfoMetadata?.storeAvailablityStatus,orientation:"landscape"})})}):null]})}},61068:(e,t,i)=>{"use strict";i.d(t,{Z:()=>F});var r=i(43193),o=i(91931),n=i(52246),a=i(91631),s=i(62149),l=i(40836),d=i(47986),c=i(14966),u=i(22395),h=i(3359),g=i(33535),p=i(89765),m=i(36278),f=i(89400),Z=i(52298),y=i(54669),S=i(25750),v=i(90981),b=i(69287),x=i(62091),_=i(99886),U=i(83811),z=i(21676),w=i(31913),$=i("__fusion__682"),I=i(87444),T=i(40411),R=i(33990);const k=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,alignItems:"flex-end",display:"flex",padding:"24px 0 0 0"}})),C=(0,o.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,lineHeight:"36px"}})),B=(0,o.zo)("div",{display:"flex"}),O=(0,o.zo)("div",{display:"flex",alignItems:"center"}),P=(0,o.zo)("div",{alignItems:"center",columnGap:"5px",display:"flex"}),E=(0,o.w1)(c.hh,(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),L=(0,o.zo)("div",{height:"48px",position:"relative",marginLeft:"auto",width:"438px"}),D=(0,o.zo)("div",(e=>{let{$theme:t,$hidden:i}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,marginTop:"12px",display:i?"none":"block"}})),A=(0,o.zo)("a",{":hover":{textDecoration:"underline"}}),M=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),H=(0,o.zo)(n.rU,{width:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box"}),G=(0,o.zo)("span",(e=>{let{$isRestaurantHeaderBrandingInfo:t}=e;return{alignSelf:"flex-end",boxSizing:"border-box",...t?{transform:"translateY(1px)"}:null}})),X=(0,o.zo)("p",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",flexWrap:"wrap",boxSizing:"border-box"}})),N=e=>{const t=(0,s.TH)(),i=(0,a.UO)(),n=(0,g.ZP)(),c=(0,y.Z)(),[N,F]=r.useState(!0),Q=e.showContent?[e.seoMeta?.content]:[],V=[...Q,...e.categories].filter(Boolean).join(" • "),q=Q.filter(Boolean).join(" • "),W=[...Q,e.priceBucket].filter(Boolean).join(" • "),{ratingLink:Y}=(0,v.Z)(),{showEuDisclaimer:j}=(0,b.Z)(e.countryCode),J=(0,p.Z)(),K=e.storeInfoSummary?.titleBadge?.text||"",ee=(0,d.QJV)(t,(0,d.WxO)(i)),[,te]=(0,o.hQ)(),{stripDeliveryUnavailableLine:ie}=(0,T.W)(e.storeUuid),re=e.headerBrandingInfo?.truncatingMetadata?(0,z.x)(e.headerBrandingInfo.truncatingMetadata):[],oe=e.headerBrandingInfo?.nonTruncatingMetadata?(0,z.x)(ie(e.headerBrandingInfo.nonTruncatingMetadata)):[],ne=(0,I.Z)("store_migrate_legacy_header_metadata"),ae="RESTAURANT"===e.headerBrandingInfo?.headerType,se=(0,I.Z)("store_header_metadata_chevron_disabled");return(0,R.BX)(k,{children:[(0,R.BX)("div",{children:[(0,R.tZ)(C,{"data-testid":"store-title-summary",children:e.title}),(0,R.tZ)(Z.ZP,{$height:8}),ne?(0,R.BX)(H,{to:ee,children:[re.length>=0?re.map(((e,t)=>(0,R.BX)(X,{children:[(0,R.tZ)(w.ZP,{text:e}),se||t!==re.length-1?null:(0,R.tZ)(G,{$isRestaurantHeaderBrandingInfo:ae,children:(0,R.tZ)($.default,{size:14,color:te.colors.contentTertiary})})]},t))):null,oe.length>=0?oe?.map(((e,t)=>(0,R.tZ)(X,{children:(0,R.tZ)(w.ZP,{text:e})},t))):null]}):(0,R.BX)(B,{children:[e.storeInfoSummary?.startImageUrl?(0,R.BX)(R.HY,{children:[(0,R.tZ)(O,{children:(0,R.tZ)(x.Z,{src:e.storeInfoSummary.startImageUrl,width:28})}),(0,R.tZ)(m.IQ,{})]}):null,(0,R.BX)("div",{children:[(0,R.BX)(B,{children:[j?(0,R.tZ)("a",{href:Y,children:(0,R.tZ)(P,{dangerouslySetInnerHTML:{__html:K}})}):(0,R.tZ)(P,{dangerouslySetInnerHTML:{__html:K}}),(0,R.tZ)(_.T,{storeReviews:e.storeReviews,topReviewsBucket:e.topReviewsBucket,separator:(0,R.tZ)(u.Z,{color:"black",spaces:2,typography:"LabelSmall"})}),(0,R.tZ)(u.Z,{color:"black",spaces:2,typography:"LabelSmall"}),(0,R.tZ)(E,{rel:"nofollow",onClick:()=>{n("eats:store_info_summary_cta_tap",{storeContent:{storeUuid:e.storeUuid}})},to:(0,d.QJV)(t,(0,d.WxO)(i)),children:(0,R.tZ)(l.v,{id:"shared.moreInfo"})})]}),e.storeInfoSummary?.subtitle1Badge?(0,R.BX)(R.HY,{children:[(0,R.tZ)(Z.ZP,{$height:2}),(0,R.tZ)(f.Z,{badge:e.storeInfoSummary?.subtitle1Badge,baseFont:"ParagraphSmall",baseColor:"contentSecondary"})]}):null]})]}),c?null:(0,R.BX)(R.HY,{children:[(0,R.tZ)(M,{children:(0,R.tZ)(l.v,{id:"store.enter_address"})}),q.length>340&&N?(0,R.BX)(D,{children:[`${q.slice(0,340)}... `,(0,R.tZ)(E,{to:"#",onClick:()=>F(!1),children:(0,R.tZ)(l.v,{id:"shared.showMore"})})]}):null,(0,R.BX)(D,{$hidden:q.length>340&&N,children:[W?`${W} • `:null,e.categoryLinks?(0,R.tZ)(S.Z,{separator:u.Z,children:e.categoryLinks.map((e=>e.link?(0,R.tZ)(A,{href:e.link,children:e.text},e.text):e.text))}):V]})]}),(0,R.tZ)(U.Z,{storeUuid:e.storeUuid,isOpen:e.isOpen,isWithinDeliveryRange:e.isWithinDeliveryRange,isGroupOrderingDisabled:e.isGroupOrderingDisabled,isStoreSchedulable:e.isStoreSchedulable})]}),J.isEnabled&&e.modalityInfo?(0,R.tZ)(L,{children:(0,R.tZ)(h.Z,{modalityInfo:e.modalityInfo})}):null]})};N.displayName="StoreDesktopInfoSummary";const F=N},69145:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Wn});var r=i(36151),o=i(43193),n=i(91931),a=i(8759),s=i(39240),l=i(66949),d=i(2047),c=i(55758),u=i(33535),h=i(14583),g=i(70247),p=i(88885),m=i(10980),f=i(10825),Z=i(74057),y=i(49160),S=i(14706),v=i(53614),b=i(15070),x=i(75514),_=i(62149),U=i(29217),z=i(50912),w=i(7978),$=i(4864),I=i(70401),T=i(3289),R=i(6703),k=i(21926),C=i(45631),B=i(87444),O=i(42751),P=i(47091),E=i(61304),L=i(21866),D=i(97392),A=i(57578),M=i(28406),H=i(52298),G=i(56065),X=i(56533),N=i(8054),F=i(63655),Q=i(65184),V=i(33990);const q=e=>{let{catalogSection:t,isGrocery:i,children:r,as:n}=e;const{registerSubsectionRef:a}=(0,G._J)(),s=o.useCallback((e=>{const i=t.catalogSectionUUID;e&&i&&a(i,e)}),[t.catalogSectionUUID,a]),l=i?0:40;return(0,V.BX)(M.Z,{ref:s,$marginTop:l,$as:n,children:[(0,V.tZ)(N.Z,{catalogSection:t,baseFont:"DisplayBold4XSmall"}),(0,V.tZ)(X.Z,{catalogSection:t,baseFont:"ParagraphSmall"}),(0,V.tZ)(Q.$Q,{children:(0,V.tZ)(F.m,{})}),(0,V.tZ)(H.ZP,{$height:16}),r]})};var W=i(41561);const Y=e=>{const{registerSubsectionRef:t}=(0,G._J)(),i=o.useCallback((i=>{const r=e.catalogSection.catalogSectionUUID;i&&r&&t(r,i)}),[e.catalogSection.catalogSectionUUID,t]);return(0,V.tZ)(M.Z,{ref:i,children:(0,V.tZ)(W.Z,{catalogSection:e.catalogSection})})};var j=i(80363),J=i(72326),K=i(47885),ee=i(84272),te=i(65088),ie=i(60849),re=i(41063),oe=i(32762),ne=i(85907),ae=i(47986),se=i(75618),le=i(17019),de=i(14644);const ce=o.memo((function(e){let{storeUuid:t,isGrocery:i,item:r,sectionUuid:n,subsectionUuid:a,catalogSectionAnalyticsData:s,spanCountMultiplier:l,emitPickedForYouSectionItemEvent:d,isOpen:c,quickAddSource:u,isVirtualized:h}=e;const g=(0,_.TH)(),{primaryBundledStoreUuid:p,primaryDraftOrderUUID:m}=(0,ee.Z)(),{isStoreOfdRedesignXpEnabled:f}=(0,oe.Z)(),{quickAddDisabled:Z,syncItemQuantity:y,quickAddCount:S,cartItemCount:v}=(0,de.FA)(),b=!f||i,x=!b,U=o.useMemo((()=>(0,ae.f_e)(g,{storeUuid:t,sectionUuid:n,subsectionUuid:a,itemUuid:r.uuid||"",showSeeDetailsCTA:!0,...p&&{primaryBundledStoreUuid:p,primaryDraftOrderUUID:m}},(0,ne.F)(E.b.STOREFRONT))),[g,t,n,a,r.uuid,p,m]);return(0,V.tZ)(z.Z,{storeUuid:t,sectionUuid:n,subsectionUuid:a,item:r,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:s,emitPickedForYouSectionItemEvent:d,spanCountMultiplier:l,cartItemCount:v,syncItemQuantity:y,quickAddCount:S,quickAddDisabled:Z,isOpen:c,showQuickViewEntryPoint:b,quickAddSource:u,surface:E.b.STOREFRONT,isGrocery:i,itemUrl:x?U:void 0,isVirtualized:h})}));function ue(e){let{syncToCart:t,isInitialLoad:i,...r}=e;return(0,V.tZ)(de.ZP,{storeUuid:r.storeUuid,itemUuid:r.item.uuid||"",syncToCart:t,isInitialLoad:i,children:(0,V.tZ)(ce,{...r})})}ce.displayName="StoreDesktopCatalogItemList",ue.displayName="StoreDesktopCatalogItemListSyncCart";const he=o.memo((function(e){let{storeUuid:t,isGrocery:i,item:r,sectionUuid:n,subsectionUuid:a,catalogSectionType:s,catalogSectionAnalyticsData:l,itemStyleMetadata:d,emitPickedForYouSectionItemEvent:c,isOpen:u,quickAddSource:h}=e;const g=(0,_.TH)(),{primaryBundledStoreUuid:p,primaryDraftOrderUUID:m}=(0,ee.Z)(),{isStoreOfdRedesignXpEnabled:f}=(0,oe.Z)(),{quickAddDisabled:Z,syncItemQuantity:y,quickAddCount:S,cartItemCount:v,cartItemDecimalCount:b}=(0,de.FA)(),x=!f||i,U=!x,z=o.useMemo((()=>(0,ae.f_e)(g,{storeUuid:t,sectionUuid:n,subsectionUuid:a,itemUuid:r.uuid||"",showSeeDetailsCTA:!0,...p&&{primaryBundledStoreUuid:p,primaryDraftOrderUUID:m}},(0,ne.F)(E.b.STOREFRONT))),[g,t,n,a,r.uuid,p,m]);return(0,V.tZ)(w.Z,{storeUuid:t,sectionUuid:n,subsectionUuid:a,item:r,emitPickedForYouSectionItemEvent:c,cartItemCount:v,cartItemDecimalCount:b,syncItemQuantity:y,quickAddCount:S,quickAddDisabled:Z,catalogSectionType:s,catalogSectionAnalyticsData:l,isOpen:u,showQuickViewEntryPoint:x,itemStyle:d,quickAddSource:h,surface:E.b.STOREFRONT,isGrocery:i,primaryBundledStoreUuid:p,itemUrl:U?z:void 0})}));function ge(e){let{syncToCart:t,isInitialLoad:i,...r}=e;return(0,V.tZ)(de.ZP,{storeUuid:r.storeUuid,itemUuid:r.item.uuid||"",syncToCart:t,isInitialLoad:i,children:(0,V.tZ)(he,{...r})})}he.displayName="StoreDesktopCatalogItemGrid",ge.displayName="StoreDesktopCatalogItemGridSyncCart";var pe=i(13427);const me=(0,n.zo)("ul",(e=>{let{$numColumns:t}=e;return{display:"grid",gridGap:"40px 24px",[P.k]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},gridTemplateColumns:`repeat(${t}, 1fr)`}})),fe=(0,n.zo)("li",(e=>{let{$theme:t,$isStoreOfdRedesignPhase2XpEnabled:i}=e;return{marginTop:i?t.sizing.scale800:t.sizing.scale1200,":first-of-type":{marginTop:0}}})),Ze=(0,n.w1)(U.ZP,(e=>{let{$theme:t,$usePaddingBottom:i=!1,$isVirtualized:r=!1,$isLastRow:o=!1}=e;return{gridGap:"24px",...r?{gridTemplateColumns:"repeat(4, 1fr)"}:{gridTemplateColumns:"repeat(2, 1fr)",[`@media screen and (min-width: ${T.US}px)`]:{gridTemplateColumns:"repeat(4, 1fr)"}},...i?{paddingBottom:t.sizing.scale800}:{marginBottom:o?0:t.sizing.scale800}}})),ye=e=>{const{cartCountSummary:t,cartCountDecimalsSummary:i,cart:n,hasCartToLoad:a,hasCartChanged:s}=(0,$.F7)(e.storeUuid),l=(0,_.TH)(),[d,c]=(0,r.useState)(!0),{syncItems:u,quantities:h}=(0,b.v)((e=>e.quickAdd)),[g,p]=(0,r.useState)(!0),m=n.isLoading,f=n.hasLoaded,Z=e.catalogSection.payload,y=e.catalogSection.type,S=e.catalogSection.catalogSectionUUID||"",{emitPickedForYouSectionItemEvent:v}=e,U=Z?.type===se.p.standardItemsPayload?Z.standardItemsPayload:null,P=U?.catalogSectionAnalyticsData,H=Z?.type===se.p.adCanvasPayload?Z.adCanvasPayload:null,G=Z?.type===se.p.bundleStorePayload?Z.bundleStorePayload:null,X=Z?.type===se.p.emptyStatePayload?Z.emptyStatePayload:null,N=Z?.type===se.p.aisleShortcutItems?Z.aisleShortcutItems:null,F=o.useMemo((()=>{const t=U?.catalogItems||[];return e.serverRenderLimitedItems&&"number"==typeof e.maxItemCount?t.slice(0,e.maxItemCount):t}),[U,e.serverRenderLimitedItems,e.maxItemCount]),Q=U?.spanCount,W=U?.itemStyleMetadata,[de,ce]=o.useState(2),he=(0,k.Z)(),ye=(0,B.Z)("store_virtual_list"),Se=Boolean(e.shouldVirtualizeOFDCatalogItems),ve=(0,B.Z)("merchant_offers"),be=(0,B.Z)("store_pagination_empty_state"),{isStorePrecheckoutBundlingEnabled:xe}=(0,K.Z)(),_e=(0,pe.Z)(),{isStoreOfdRedesignXpEnabled:Ue,isStoreOfdRedesignPhase2XpEnabled:ze,desktopFeatures:we}=(0,oe.Z)(),{primaryBundledStoreUuid:$e,primaryDraftOrderUUID:Ie}=(0,ee.Z)(),Te=!Ue||e.isGrocery,Re=!Te,{storeCatalogSections:ke}=(0,ae.RAN)(l,["storeCatalogSections"]),Ce=(0,r.useCallback)((t=>{let{sectionUuid:i,subsectionUuid:r,itemUuid:o}=t;return(0,ae.f_e)(l,{storeUuid:e.storeUuid,sectionUuid:i,subsectionUuid:r,itemUuid:o,showSeeDetailsCTA:!0,...$e&&{primaryBundledStoreUuid:$e,primaryDraftOrderUUID:Ie}},(0,ne.F)(E.b.STOREFRONT))}),[e.storeUuid,$e,Ie,l]),Be=o.useCallback(((r,o)=>{const n=r.uuid,a=(0,A.Yx)({catalogItem:r,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:ve,catalogSectionUuid:S}),s=!e.isGrocery&&ve?S:r.subsectionUuid;if(!n||!a||!s)return null;const l=t[n]??0,c=i[n]??null,p=d||u[n],m=h[n]??(0,R.bN)(),f=Ce({sectionUuid:a,subsectionUuid:s,itemUuid:n});return S&&y?(0,V.tZ)(w.Z,{storeUuid:e.storeUuid,sectionUuid:a,subsectionUuid:s,item:r,emitPickedForYouSectionItemEvent:v,cartItemCount:l,cartItemDecimalCount:c,syncItemQuantity:p,quickAddCount:m,quickAddDisabled:g,catalogSectionType:y,catalogSectionAnalyticsData:P,isOpen:e.isOpen,showQuickViewEntryPoint:Te,itemStyle:W,quickAddSource:e.quickAddSource,surface:E.b.STOREFRONT,isGrocery:e.isGrocery,primaryBundledStoreUuid:$e,itemUrl:Re?f:void 0},`${n}-${o}`):null}),[e.activeSectionUuid,e.isGrocery,e.storeUuid,e.isOpen,e.quickAddSource,ve,S,t,i,d,u,h,y,v,g,P,W,$e,Te,Re,Ce]);(0,r.useEffect)((()=>{he&&s&&c(!0),n.error&&c(!0)}),[n.error,s,he]),(0,r.useEffect)((()=>{(!m&&f||!a)&&(c(!1),p(!1))}),[m,f,a]);const Oe=o.useCallback(((t,i)=>{const r=(0,A.Yx)({catalogItem:t,sectionUuid:e.activeSectionUuid,isGrocery:e.isGrocery,isMerchantOffersEnabled:ve,catalogSectionUuid:S}),o=!e.isGrocery&&ve?S:t.subsectionUuid;return t.uuid&&r&&o&&S&&y?(0,V.tZ)(ge,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:r,subsectionUuid:o,catalogSectionType:y,catalogSectionAnalyticsData:P,itemStyleMetadata:W,emitPickedForYouSectionItemEvent:v,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:d,isInitialLoad:g},`${t.uuid}-${i}`):null}),[e.storeUuid,e.isGrocery,y,P,W,e.isOpen,e.quickAddSource,S,ve,e.activeSectionUuid,v,d,g]),Pe=_e?Oe:Be,{verticalGridGridItems:Ee,verticalGridListItems:Le}=o.useMemo((()=>{const e=F.filter((e=>"GRID"===e.displayType)),t=F.filter((e=>"LIST"===e.displayType));const i=e.length>0&&t.length>0;if(4===de&&i){const i=e.length%4;if(0!==i){const r=e.splice(e.length-i);t.unshift(...r)}}return{verticalGridGridItems:e,verticalGridListItems:t}}),[F,de]),De=(0,r.useCallback)((()=>{if(we.overwriteHorizontalGridColumns)return ce(we.horizontalGridColumns);const t=x.Z?.innerWidth||0,i=Q||2;if(e.shouldVirtualizeOFDCatalogItems)return ce(2*i);t<T.US?ce(i):ce(2*i)}),[Q,we.overwriteHorizontalGridColumns,we.horizontalGridColumns,e.shouldVirtualizeOFDCatalogItems]),Ae=(0,I.Z)(De,300);(0,r.useEffect)((()=>{if(x.Z)return De(),x.Z.addEventListener("resize",Ae),()=>{x.Z&&x.Z.removeEventListener("resize",Ae)}}),[Ae,De]);const Me=o.useMemo((()=>e.isGrocery&&Q?(0,C.Z)(F,de>Q?T.nB:T.RO):[]),[F,de,Q,e.isGrocery]),He=o.useMemo((()=>{if(e.isGrocery||!e.shouldVirtualizeOFDCatalogItems)return[];const t=e.shouldVirtualizeOFDCatalogItems?2:de;return(0,C.Z)(Le,t)}),[e.isGrocery,Le,de,e.shouldVirtualizeOFDCatalogItems]),Ge=o.useCallback(((r,o)=>{const n=r?.uuid,a=!e.isGrocery&&ve?e.activeSectionUuid:r?.sectionUuid||e.activeSectionUuid,s=!e.isGrocery&&ve?S:r?.subsectionUuid||S;if(!(r&&n&&a&&s))return null;const l=t[n]??0,c=i[n]??null,p=d||u[n],m=h[n]??(0,R.bN)(),f=Ce({sectionUuid:a,subsectionUuid:s,itemUuid:n});return(0,V.tZ)(w.Z,{storeUuid:e.storeUuid,sectionUuid:a,subsectionUuid:s,item:r,emitPickedForYouSectionItemEvent:v,cartItemCount:l,cartItemDecimalCount:c,syncItemQuantity:p,quickAddCount:m,quickAddDisabled:g,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:P,isOpen:e.isOpen,showQuickViewEntryPoint:Te,itemStyle:W,quickAddSource:e.quickAddSource,surface:E.b.STOREFRONT,isGrocery:e.isGrocery,primaryBundledStoreUuid:$e,itemUrl:Re?f:void 0},`${n}-${o}`)}),[i,t,P,v,g,ve,W,e.isGrocery,e.isOpen,e.quickAddSource,e.activeSectionUuid,e.storeUuid,S,h,u,d,$e,Te,Re,Ce]),Xe=o.useCallback(((t,i)=>{const r=t?.uuid,o=!e.isGrocery&&ve?e.activeSectionUuid:t?.sectionUuid||e.activeSectionUuid,n=!e.isGrocery&&ve?S:t?.subsectionUuid||S;return t&&r&&o&&n?(0,V.tZ)(ge,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:o,subsectionUuid:n,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:P,itemStyleMetadata:W,emitPickedForYouSectionItemEvent:v,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:d,isInitialLoad:g},`${r}-${i}`):null}),[P,S,v,e.activeSectionUuid,e.isOpen,e.quickAddSource,e.storeUuid,e.isGrocery,ve,W,d,g]),Ne=_e?Xe:Ge,Fe=o.useCallback(((i,r)=>{const o=i?.uuid,n=i?.sectionUuid||e.activeSectionUuid,a=i?.subsectionUuid||S;if(!(i&&o&&n&&a))return null;const s=t[o]??0,l=d||u[o],c=h[o]??(0,R.bN)(),p=Ce({sectionUuid:n,subsectionUuid:a,itemUuid:o});return(0,V.tZ)(z.Z,{storeUuid:e.storeUuid,sectionUuid:n,subsectionUuid:a,item:i,catalogSectionType:"VERTICAL_GRID",catalogSectionAnalyticsData:P,emitPickedForYouSectionItemEvent:v,spanCountMultiplier:4===de?2:1,cartItemCount:s,syncItemQuantity:l,quickAddCount:c,quickAddDisabled:g,isOpen:e.isOpen,showQuickViewEntryPoint:Te,quickAddSource:e.quickAddSource,surface:E.b.STOREFRONT,isGrocery:e.isGrocery,primaryBundledStoreUuid:$e,itemUrl:Re?p:void 0,isVirtualized:Se},`${o}-${r}`)}),[e.activeSectionUuid,S,e.storeUuid,e.isOpen,e.quickAddSource,e.isGrocery,t,d,u,h,P,v,de,g,$e,Te,Re,Ce,Se]),Qe=o.useCallback(((t,i)=>{const r=t?.uuid,o=t?.sectionUuid||e.activeSectionUuid,n=t?.subsectionUuid||S;return t&&r&&o&&n?(0,V.tZ)(ue,{storeUuid:e.storeUuid,isGrocery:e.isGrocery,item:t,sectionUuid:o,subsectionUuid:n,catalogSectionAnalyticsData:P,spanCountMultiplier:4===de?2:1,emitPickedForYouSectionItemEvent:v,quickAddSource:e.quickAddSource,isOpen:e.isOpen,isVirtualized:Se,syncToCart:d,isInitialLoad:g},`${r}-${i}`):null}),[P,S,v,e.activeSectionUuid,e.isOpen,e.quickAddSource,e.storeUuid,e.isGrocery,de,Se,d,g]),Ve=_e?Qe:Fe,qe=o.useCallback(((t,i)=>e.isGrocery?316:280),[e.isGrocery]),We=o.useCallback(((e,t)=>125+(t===He.length-1?0:16)+24),[He]),Ye=(0,ie.ip)({...re.v.store_carousel_infinite_paginated_scroll,defaultValue:!1}),je=(0,r.useMemo)((()=>e.isGrocery?e=>{let{children:t}=e;return(0,V.tZ)(me,{$numColumns:de>(Q??T.RO)?T.nB:T.RO,children:t})}:Ze),[e.isGrocery,de,Q]);if(!Z||!S||!y)return null;if(be&&X)return(0,V.tZ)(J.Z,{payload:X,illustrationSize:"BIG"});switch(y){case"HORIZONTAL_GRID":return e.isGrocery&&Ye?(0,V.tZ)(te.n,{storeUuid:e.storeUuid,catalogSectionUuid:S,activeSectionUuid:e.activeSectionUuid,catalogItems:F,catalogSection:e.catalogSection,isGrocery:e.isGrocery,renderCatalogItemsHorizontalGrid:Pe,storeCatalogSections:ke}):(0,V.tZ)(D.Z,{storeUuid:e.storeUuid,sectionUuid:e.activeSectionUuid,catalogSection:e.catalogSection,isGrocery:e.isGrocery,children:F.map(Pe)});case"BUNDLE_STORE":return xe&&G?(0,V.tZ)(M.Z,{children:(0,V.tZ)(j.Z,{bundleStorePayload:G,catalogSectionType:y,storeUuid:e.storeUuid,catalogSectionUuid:S,sectionUuid:e.activeSectionUuid,quickAddDisabled:g,isOpen:e.isOpen,quickAddSource:e.quickAddSource,syncToCart:d,showQuickViewEntryPoint:Te,itemStyleMetadata:W,surface:E.b.BUNDLE_CAROUSEL,isGrocery:e.isGrocery,redirectToQuickViewModal:!0})}):null;case"VERTICAL_GRID":return(0,V.tZ)(fe,{$isStoreOfdRedesignPhase2XpEnabled:ze,children:(0,V.BX)(q,{catalogSection:e.catalogSection,isGrocery:e.isGrocery,as:"div",children:[e.isGrocery&&ye?(0,V.tZ)(O.ZP,{overflow:"visible",calculateHeight:qe,children:Me.map(((e,t)=>(0,V.tZ)(je,{children:e.map(Ne)},t)))}):Ee.length?(0,V.tZ)(je,{$as:"ul",$numColumns:de,children:(Ee||[]).map(Ne)}):null,He.length?(0,V.tZ)(O.ZP,{overflow:"visible",calculateHeight:We,children:He.map(((e,t)=>{const i=t===He.length-1;return(0,V.tZ)(Ze,{$as:"ul",$numColumns:de,$usePaddingBottom:!i,$isLastRow:i,$isVirtualized:!0,children:e.map(Ve)},t)}))}):Le.length?(0,V.tZ)(je,{$as:"ul",$numColumns:de,children:Le.map(Ve)}):null]})});case"SPECIAL_REQUEST":return(0,V.tZ)(Y,{catalogSection:e.catalogSection});case"AD_CANVAS":{const t=H?.adsExperimentalStorePayload?.parent;if(!t||"REGULAR_CAROUSEL"!==t.template)return null;const i=(H?.adsExperimentalStorePayload?.children||[]).filter((e=>"REGULAR_STORE"===e.template));return(0,V.tZ)(M.Z,{children:(0,V.tZ)(L.Z,{canvasParent:t,canvasChildren:i,numGridItemsPerRow:4,storeUuid:e.storeUuid,catalogIndex:e.catalogIndex})})}case"AISLE_SHORTCUTS":return(0,V.tZ)(le.Z,{title:N?.title,aisleShortcutItems:N?.aisleShortcutItems,sectionUuid:e.activeSectionUuid||"",catalogIndex:e.catalogIndex});default:return null}};var Se=i(40606),ve=i(93801),be=i(91631),xe=i(10080),_e=i(58057),Ue=i(52246),ze=i(18808),we=i(25750),$e=i(36278),Ie=i(20395),Te=i(78378);const Re=(0,n.zo)("ol",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",padding:"24px 0 0 0",overflow:"auto",whiteSpace:"nowrap",color:t.colors.contentStateDisabled}})),ke=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,display:"inline",":last-child":{color:t.colors.contentPrimary}}})),Ce=e=>{let{storeUuid:t,activeSectionUuid:i,activeCatalogSection:o,catalogSectionsMap:n}=e;const a=(0,_.TH)(),s=(0,be.UO)(),l=(0,ae.WxO)(s),d=(0,p.T)(),{storeCatalogSections:c,storeCatalogSubsections:h,storeCatalogSectionTypes:g}=(0,ae.RAN)(a,["storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),m=(0,ae.gfM)(a,{...l,persistentQueryParams:["primaryBundledStoreUuid","primaryDraftOrderUUID"]}),{catalogSubsections:f}=(0,Te.Z)({storeUuid:t,sectionUuid:c,subsectionUuid:h,sectionType:g}),Z=(0,r.useRef)(null),y=(0,r.useRef)(null);(0,Ie.Z)({ref:Z,key:c}),(0,Ie.Z)({ref:y,key:h});const S=(0,u.ZP)();if(!c||!o)return null;if(!(o.payload?.type===se.p.standardItemsPayload?o.payload.standardItemsPayload:null))return null;const v=(0,A.ex)(o),b=(0,ae.v4Q)(v?.ctaUri||""),x=f.find((e=>!h||e.catalogSectionUUID===h)),U=x?.payload?.type===se.p.standardItemsPayload?x.payload.standardItemsPayload:null,z=f[0]?.catalogSectionUUID||"",w=(0,ae.RKz)(a,{...l,sectionUuid:i,subsectionUuid:b.search?.sectionUUID||o.catalogSectionUUID,persistentQueryParams:["primaryBundledStoreUuid","primaryDraftOrderUUID"]},{catalogSectionUuids:[c],catalogSubsectionUuids:[z],...b.search?.sectionType?{catalogSectionTypes:[b.search.sectionType]}:{},...b.search?.sectionUUID?{catalogSectionUuids:[b.search.sectionUUID]}:{},...b.search?.subsectionUUID?{catalogSubsectionUuids:[b.search.subsectionUUID]}:{}}),$=(0,A.E0)(o)||"",I=()=>{S("eats:store_all_items_breadcrumb_tap",{storeCatalog:{storeUuid:t,...o.catalogSectionUUID?{sectionUuid:o.catalogSectionUUID}:null}})},T=[{title:d("store.all_items"),href:m,onClick:I},{title:$,...w?{href:w,onClick:I}:null},...U?[{title:U.title?.text||""}]:[]];return(0,V.tZ)(V.HY,{children:(0,V.tZ)(Re,{ref:y,children:(0,V.tZ)(we.Z,{separator:()=>(0,V.BX)(V.HY,{children:[(0,V.tZ)($e.ZP,{$width:"4px"}),(0,V.tZ)(ze.Z,{size:20,rotate:180}),(0,V.tZ)($e.ZP,{$width:"4px"})]}),children:T.map(((e,t)=>(0,V.tZ)(ke,{children:e.href?(0,V.tZ)(Ue.rU,{to:e.href,...e.onClick?{onClick:e.onClick}:null,children:e.title}):(0,V.tZ)("span",{children:e.title})},e.title)))})})})};var Be=i(97415),Oe=i(22250),Pe=i(87678);const Ee=e=>{let{showTitle:t=!0,stopAnimation:i=!1}=e;const{windowWidth:o}=(0,Oe.Z)(),{desktopFeatures:n}=(0,oe.Z)(),a=n.overwriteHorizontalGridColumns?n.horizontalGridColumns:o<T.US?T.RO:T.nB;return(0,V.BX)(Pe.A8,{children:[(0,V.tZ)(Pe.AR,{$stopAnimation:i}),t?(0,V.BX)(V.HY,{children:[(0,V.tZ)(Be.gD,{width:"32%",height:"24px"}),(0,V.tZ)(Be.CB,{$grow:!0,$height:"16px"})]}):null,[...Array(3)].map(((e,t)=>(0,V.BX)(r.Fragment,{children:[(0,V.tZ)(Pe.hm,{children:(0,V.tZ)(we.Z,{separator:()=>(0,V.tZ)(Be.CB,{$grow:!0,$width:"24px"}),children:[...Array(a)].map(((e,t)=>(0,V.tZ)(Pe.ZP,{},t)))})}),(0,V.tZ)(Be.CB,{$grow:!0,$height:"24px"})]},t)))]})};var Le=i(76449),De=i(26110),Ae=i(45481),Me=i(84998),He=i(41866),Ge=i(91490),Xe=i(71457),Ne=i(73448);const Fe=e=>{let{children:t}=e;return o.useEffect((()=>{x.Z&&x.Z.scroll(0,0)}),[]),(0,V.tZ)(V.HY,{children:t})},Qe=(()=>{let e=Date.now();return t=>{const i=Date.now();i-e>16?(e=i,t(i)):setTimeout((()=>Qe(t)),0)}})(),Ve=x.Z?.requestAnimationFrame||x.Z?.webkitRequestAnimationFrame||x.Z?.mozRequestAnimationFrame||Qe,qe=e=>{let{shouldResetActiveSubsectionUuid:t}=e;const i=(0,_.TH)(),{resetActiveSubsectionUuid:r,smoothScrollToSubsection:n}=(0,G._J)(),{initialCatalogSectionUuid:a}=i.state||{};return o.useEffect((()=>{a&&Ve((()=>n(a)))}),[a,n]),o.useEffect((()=>{t&&r()}),[t,r]),null};var We=i(8961),Ye=i(20115),je=i(79250),Je=i(24045),Ke=i(8184),et=i(66931),tt=i(48559),it=i(82481),rt=i(52431),ot=i(85191);const nt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600,...t.borders.border300,borderRadius:t.borders.radius300,minHeight:"100px",height:`calc(100% - ${t.sizing.scale950})`}})),at=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),st=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),lt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center"}})),dt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,paddingTop:t.sizing.scale100}})),ct=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300}})),ut=e=>{let{storeReviews:t=[],storeUuid:i}=e;const n=(0,p.T)(),{isCarouselTreatment:a,title:s,subtitle:l,treatment:d}=(0,Je.Z)(t.length),{scrollToDesktopRef:c}=(0,r.useContext)(tt.ru),h=(0,u.ZP)(),[g,m]=o.useState(0),[f,Z]=(0,ot.Z)({root:null}),[y,S]=o.useState(),v=t.length,b=o.useCallback((e=>{f(e);const t=(0,rt.M)(e).top;S(t),v>0&&h("eats:store_reviews_carousel_render",{numberOfReviews:v,storeUuid:i,topOffset:t,treatmentName:d})}),[h,v,f,i,d]);o.useEffect((()=>{Z?.isIntersecting&&h("eats:store_reviews_carousel_impression",{numberOfReviews:v,storeUuid:i,topOffset:y,treatmentName:d})}),[h,Z?.isIntersecting,v,i,y,d]);const x=(0,I.Z)(o.useCallback((e=>{const t=e.target,r=Math.round((t.clientWidth+t.scrollLeft)/t.scrollWidth*100);h("eats:store_reviews_carousel_scroll",{numberOfReviews:v,scrollDepth:r,storeUuid:i,treatmentName:d,topOffset:y}),m(r)}),[h,v,i,y,d]),500),_=o.useMemo((()=>(0,A.A4)(t,90)),[t]);return a?(0,V.tZ)(et.ZP,{ref:b,title:s,titleType:"h3",subtitle:l,slides:_,viewAllLocation:t.length>3?`#${it.g}`:void 0,onClickTitle:()=>{h("eats:store_reviews_carousel_title_click",{numberOfReviews:v,scrollDepth:g,storeUuid:i,topOffset:y,treatmentName:d})},onViewAllClick:e=>{h("eats:store_reviews_carousel_see_all_click",{numberOfReviews:v,scrollDepth:g,storeUuid:i,topOffset:y,treatmentName:d}),e.preventDefault(),e.stopPropagation(),c(it.g)},onPageChange:(e,t)=>{let{direction:r,current:o,total:n}=t;const a=Math.min(100,Math.round(o/n*100));h("eats:store_reviews_carousel_navigation_click",{numberOfReviews:v,scrollDepth:a,storeUuid:i,topOffset:y,direction:r,treatmentName:d}),m(a),e.stopPropagation()},onScroll:x,viewAllTitle:n("component.store.see_all_reviews",{count:t.length}),renderSlide:(e,t)=>(0,V.BX)(nt,{onClick:()=>{h("eats:store_reviews_carousel_item_click",{storeUuid:i,storeReview:e,scrollDepth:g,topOffset:y,treatmentName:d,itemPosition:t})},children:[(0,V.BX)(lt,{children:[(0,V.tZ)(Ke.Z,{name:e?.eaterName?.text||"",size:"scale1200",src:e.avatarUrl}),(0,V.BX)(ct,{children:[(0,V.tZ)(st,{children:e?.eaterName?.text}),(0,V.tZ)(dt,{children:e.timeSinceReview})]})]}),(0,V.tZ)(H.su,{}),(0,V.tZ)(at,{children:e?.reviewText?.text})]}),pageSize:t.length>=3?3:2,margin:8}):null};var ht=i(8051),gt=i(64635),pt=i(84173),mt=i(59210),ft=i(32857),Zt=i(68065),yt=i(40836),St=i(62091),vt=i(45654),bt=i(16034),xt=i(99378),_t=i(63171),Ut=i(88231),zt=i(45359),wt=i(89400),$t=i(22395),It=i(82093);const Tt=(0,n.zo)("article",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale600,boxSizing:"border-box",...t.borders.border300,borderRadius:t.borders.radius400,marginBottom:t.sizing.scale600}})),Rt=(0,n.zo)("div",{display:"flex",justifyContent:"space-between",alignItems:"center"}),kt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{flexGrow:1}})),Ct=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary,lineHeight:t.sizing.scale600,display:"flex",alignItems:"center",marginTop:t.sizing.scale100,marginBottom:t.sizing.scale100}})),Bt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{whiteSpace:"pre-line"}})),Ot=e=>{let{storeReview:t,onClick:i}=e;return(0,V.BX)(Tt,{onClick:i,children:[(0,V.tZ)(Rt,{children:(0,V.BX)(kt,{children:[(0,V.tZ)(wt.Z,{badge:t.eaterName,baseFont:"LabelMedium",baseColor:"contentPrimary"}),(0,V.BX)(Ct,{children:[(0,V.tZ)(It.Z,{value:5,size:12,color:"contentPrimary"}),t.formattedDate?(0,V.BX)(V.HY,{children:[(0,V.tZ)($t.Z,{typography:"ParagraphSmall",color:"contentPrimary"}),t.formattedDate]}):null]})]})}),(0,V.tZ)(Bt,{children:(0,V.tZ)(mt.aM,{color:"contentPrimary",children:t.reviewText?.text||""})})]})};var Pt=i("__fusion__939"),Et=i("__fusion__561");const Lt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingBottom:t.sizing.scale600}})),Dt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingSmall})),At=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,display:"flex",alignItems:"center",marginTop:0}})),Mt=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{margin:`0 ${t.sizing.scale0}`,display:"flex",alignItems:"center"}})),Ht=(0,n.zo)("div",(e=>{let{$theme:t,$isListItem:i}=e;return{marginTop:t.sizing.scale1000,marginBottom:t.sizing.scale200,...i?{":first-of-type":{marginTop:0}}:null}})),Gt=(0,n.zo)("div",(e=>{let{$visible:t}=e;return{display:t?"block":"none"}})),Xt=e=>{let{storeReviews:t,storeRating:i}=e;const r=(0,p.T)(),[,o]=(0,n.hQ)();if(!i)return null;const a=i.ratingValue,s=i.reviewCount,l=t?.length;return(0,V.BX)(At,{children:[a?(0,V.BX)(V.HY,{children:[(0,V.tZ)(Mt,{children:(0,V.tZ)(Pt.default,{size:14,color:o.colors.contentPrimary})}),(0,V.tZ)(mt.aM,{color:"contentPrimary",children:a.toFixed(1)}),(0,V.tZ)($t.Z,{color:"contentSecondary",typography:"ParagraphSmall"})]}):null,s?(0,V.BX)(mt.aM,{color:"contentSecondary",children:[r("component.store.reviews.subtitle.ratings",{count:s}),(0,V.tZ)($t.Z,{color:"contentSecondary",typography:"ParagraphSmall"})]},"ratingCount"):null,l>0?(0,V.tZ)(mt.aM,{color:"contentSecondary",children:r("component.store.reviews.subtitle.reviews",{count:l})},"reviewsCount"):null]})},Nt="store-desktop-reviews";function Ft(e){let{storeUuid:t,storeReviews:i,storeRating:n,as:a}=e;const[s,l]=(0,r.useState)(!1),d=(0,tt.i)(Nt),c=(0,r.useRef)([]),h=i.length,[g,p]=(0,r.useState)({leftReviews:[],rightReviews:[]});(0,r.useEffect)((()=>{p(((e,t)=>{const i=[],r=[];let o=0,n=0;return e.forEach(((e,a)=>{const s=t[a]||0;o<=n?(i.push(e),o+=s):(r.push(e),n+=s)})),{leftReviews:i,rightReviews:r}})(i,c.current))}),[i]);const[m,f]=(0,ot.Z)({root:null}),Z=(0,r.useRef)(!1),y=(0,r.useRef)(!1),S=(0,u.ZP)();if((0,r.useEffect)((()=>{h&&!y.current&&(y.current=!0,S("eats:store_reviews_list_render",{numberOfReviews:h,storeUuid:t,isStoreRatingRedesignEnabled:!0}))}),[S,h,t]),o.useEffect((()=>{f?.isIntersecting&&!Z.current&&(Z.current=!0,S("eats:store_reviews_list_impression",{numberOfReviews:h,storeUuid:t,isStoreRatingRedesignEnabled:!0}))}),[S,f?.isIntersecting,h,t]),!h)return null;const{leftReviews:v,rightReviews:b}=g,x=Math.ceil(i.length/2),_=e=>{S("eats:store_reviews_list_item_click",{numberOfReviews:h,storeUuid:t,isStoreRatingRedesignEnabled:!0,position:String(e)})};return(0,V.tZ)(Ht,{$as:a,$isListItem:"li"===a,ref:e=>{e&&(m(e),d(e))},id:Nt,children:(0,V.BX)(_t.Z,{gridMargins:0,gridColumns:24,gridGutters:16,behavior:Ut.m6.fluid,children:[(0,V.tZ)(zt.Z,{span:24,children:(0,V.BX)(Lt,{children:[(0,V.tZ)(Dt,{onClick:()=>{S("eats:store_reviews_list_title_click",{numberOfReviews:h,storeUuid:t,isStoreRatingRedesignEnabled:!0})},children:(0,V.tZ)(yt.v,{id:"component.store.rating_and_reviews.title"})}),(0,V.tZ)(Xt,{storeRating:n,storeReviews:i})]})}),0===c.current.length?(0,V.BX)(V.HY,{children:[(0,V.tZ)(zt.Z,{span:12,children:i.slice(0,x).map(((e,t)=>(0,V.tZ)("div",{ref:e=>{e?.offsetHeight&&(c.current[t]=e.offsetHeight)},children:(0,V.tZ)(Ot,{storeReview:e})},t)))},"left-col"),(0,V.tZ)(zt.Z,{span:12,children:i.slice(x).map(((e,t)=>(0,V.tZ)("div",{ref:e=>{e?.offsetHeight&&(c.current[t+x]=e.offsetHeight)},children:(0,V.tZ)(Ot,{storeReview:e})},t)))},"right-col")]}):(0,V.BX)(V.HY,{children:[(0,V.tZ)(zt.Z,{span:12,children:v.map(((e,t)=>(0,V.tZ)(Gt,{$visible:!!(s||i.length<=6)||t<3,children:(0,V.tZ)(Ot,{storeReview:e,onClick:()=>_(i.indexOf(e))})},t)))},"left-col"),(0,V.tZ)(zt.Z,{span:12,children:b.map(((e,t)=>(0,V.tZ)(Gt,{$visible:!!(s||i.length<=6)||t<3,children:(0,V.tZ)(Ot,{storeReview:e,onClick:()=>_(i.indexOf(e))})},t)))},"right-col")]}),s||i.length<=6?null:(0,V.tZ)(zt.Z,{span:24,children:(0,V.tZ)(ft.Z,{kind:Zt.TO.secondary,shape:Zt.X3.pill,size:Zt.NO.compact,startEnhancer:()=>(0,V.tZ)(Et.default,{size:16}),onClick:()=>{S("eats:store_reviews_list_see_all_click",{numberOfReviews:h,storeUuid:t,isStoreRatingRedesignEnabled:!0}),l(!0)},overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale200,marginBottom:t.sizing.scale200}}}},children:(0,V.tZ)(yt.v,{id:"shared.showMore"})})})]})})}var Qt=i(6917),Vt=i(54572),qt=i(88522),Wt=i("__fusion__677"),Yt=i("__fusion__687");const jt=(0,n.zo)("h2",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,marginBottom:t.sizing.scale600}})),Jt=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{margin:`${t.sizing.scale800} 0 ${t.sizing.scale850} 0`}})),Kt=(0,n.zo)("div",{height:"24px",width:"24px",paddingLeft:"16px",flexShrink:0}),ei=e=>{let{$expanded:t}=e;return(0,V.tZ)(Kt,{children:t?(0,V.tZ)(Yt.default,{size:24}):(0,V.tZ)(Wt.default,{size:24})})},ti=e=>{let{qa:t,metaJson:i}=e;const[,r]=(0,n.hQ)();return t.length?(0,V.BX)(Jt,{children:[(0,V.tZ)(jt,{children:(0,V.tZ)(yt.v,{id:"shared.faq"})}),(0,V.tZ)(Vt.Z,{accordion:!1,renderAll:!0,overrides:{ToggleIcon:{component:ei}},children:t.map(((e,t)=>{let{questionFormat:i,answerFormat:o}=e;return(0,V.tZ)(qt.Z,{title:(0,V.tZ)(Qt.Z,{styleMode:"desktop",format:i,overrideStyles:r.typography.LabelMedium}),children:(0,V.tZ)(Qt.Z,{format:o,styleMode:"desktop"})},t)}))}),(0,V.tZ)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:i}})]}):null};var ii=i(87763);const ri=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,":first-of-type":{marginTop:0}}})),oi=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:"16px",padding:0,margin:0,justifyContent:"flex-start"}})),ni=(0,n.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxSizing:"border-box",minWidth:"130px",width:"130px",height:"120px",color:t.colors.rewardsTier2,...t.borders.border200,borderRadius:t.borders.radius400}})),ai=(0,n.zo)("article",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box",height:"120px",...t.borders.border200,borderRadius:t.borders.radius400,padding:`${t.sizing.scale600} ${t.sizing.scale500}`}})),si=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",marginTop:t.sizing.scale100,color:t.colors.contentTertiary,...t.typography.ParagraphSmall,overflow:"hidden",whiteSpace:"nowrap"}})),li=(0,n.zo)("span",(e=>{let{$truncate:t}=e;return t?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}})),di=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:t.sizing.scale600}})),ci=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:t.colors.contentPrimary}})),ui=e=>{let{storeUuid:t,featuredReviews:i,storeRating:o,showSeeMore:n}=e;const{scrollToDesktopRef:a}=(0,r.useContext)(tt.ru),[s,l]=(0,ot.Z)({threshold:1}),d=(0,u.ZP)(),c=(0,r.useRef)(!1),h=(0,r.useMemo)((()=>(i||[]).map((e=>e.reviewText?.text?.length||0))),[i]);return(0,r.useEffect)((()=>{c.current||l?.isIntersecting&&(d("eats:store_rating_and_reviews_impression",{storeUuid:t,featuredReviewsLength:h,featuredReviewsLayout:"catalog-section"}),c.current=!0)}),[d,l?.isIntersecting,t,h]),i?.length&&o?(0,V.BX)(ri,{ref:s,children:[(0,V.BX)(di,{children:[(0,V.tZ)(ci,{children:(0,V.tZ)(yt.v,{id:"component.store.rating_and_reviews.title"})}),n?(0,V.tZ)(ft.Z,{kind:Zt.TO.secondary,shape:Zt.X3.pill,size:Zt.NO.compact,startEnhancer:()=>(0,V.tZ)(Et.default,{size:16}),onClick:()=>{d("eats:store_rating_and_reviews_see_more_click",{storeUuid:t,featuredReviewsLayout:"catalog-section"}),a(it.g)},overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale200,marginBottom:t.sizing.scale200}}}},children:(0,V.tZ)(yt.v,{id:"shared.seemore"})}):null]}),(0,V.BX)(oi,{children:[(0,V.BX)(ni,{children:[(0,V.tZ)(mt.Y9,{color:"contentPrimary",children:o.ratingValue.toFixed(1)}),(0,V.tZ)(It.Z,{value:o.ratingValue}),(0,V.tZ)(mt.lU,{color:"contentSecondary",children:(0,V.tZ)(yt.v,{id:"component.store.reviews.subtitle.ratings",data:{count:o.reviewCount}})})]}),(0,V.tZ)(_t.Z,{gridColumns:3,gridMargins:0,gridGaps:0,gridGutters:16,behavior:Ut.m6.fluid,overrides:{GridWrapper:{style:{width:"100%"}}},children:i.slice(0,3).map(((e,t)=>(0,V.tZ)(zt.Z,{span:1,children:(0,V.BX)(ai,{children:[(0,V.BX)(ii.Z,{clamp:3,as:"p",typographyKey:"ParagraphSmall",colorKey:"contentPrimary",children:['"',e.reviewText?.text,'"']}),(0,V.BX)(si,{children:[(0,V.tZ)(It.Z,{value:5,size:12,color:"contentPrimary"}),(0,V.tZ)($t.Z,{typography:"ParagraphSmall"}),(0,V.tZ)(li,{$truncate:!0,children:e.eaterName?.text}),(0,V.tZ)($t.Z,{typography:"ParagraphSmall"}),(0,V.tZ)(li,{$truncate:!1,children:e.formattedDate})]})]})},t)))})]})]}):null};var hi=i(87401),gi=i(31170),pi=i(99849),mi=i(29983),fi=i(69565),Zi=i(34626),yi=i(56291),Si=i(38346);const vi=(0,n.zo)("ul",(e=>{let{$inactive:t,$theme:i}=e;return{listStyle:"none",display:t?"none":"block",marginTop:i.sizing.scale600}})),bi=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,":first-of-type":{marginTop:t.sizing.scale800}}})),xi=(0,n.zo)("div",{width:"100%",height:"100%",minWidth:0}),_i=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale800,marginBottom:t.sizing.scale1000}})),Ui=(0,n.zo)("div",{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}),zi=e=>{switch(e?.type){case"AISLE_SHORTCUTS":return(0,xt.es)(e);case"BUNDLE_STORE":return 440;case"HORIZONTAL_GRID":return 408;default:return"dynamic"}},wi=()=>{const e=(0,_.TH)(),t=(0,_.UO)(),{newOrderItem:i}=(0,b.v)((e=>e.quickAdd)),{storeUUID:r,sectionUUID:o,subsectionUUID:n,item:a,quantity:s}=i||{};return r&&o&&n&&a&&s?(0,V.tZ)(_e.Z,{storeUUID:r,sectionUUID:o,subsectionUUID:n,item:a,quantity:s.integer,children:i=>(0,V.tZ)(xe.Z,{handleStartNewOrder:()=>i({isStartingNewOrder:!0,eventSource:"quick_add"}),hasErrors:!1,backLocation:(0,ae.gfM)(e,(0,ae.WxO)(t))})}):null},$i=e=>{let{store:t,activeSectionUuid:a,isActive:s,catalogSections:l=[],activeCatalogSection:d,isGrocery:c}=e;const u=(0,_.TH)(),h=(0,be.k6)(),{storeCatalogSections:g,storeCatalogSubsections:p,storeCatalogSectionTypes:m}=(0,ae.RAN)(u,["storeCatalogSections","storeCatalogSubsections","storeCatalogSectionTypes"]),f=(0,B.Z)("store_virtual_list_grocery_aisle_view"),Z=t.catalogSectionsMap,y=(0,r.useContext)(v.v),S=(0,We.Z)()||y,{enabled:b,maxItems:x=20}=(0,Ye.Z)("store_ssr_l1_config")||{},U=!c&&!S&&Boolean(b),[z,w]=o.useState(null),[,$]=(0,n.hQ)(),I=t?.navigationConfig?.tabs?.find((e=>"storeTabType"===e.typeV2?.type&&"ROUTINE_ITEMS"===e.typeV2?.storeTabType)),R=I?.action?.url===g,k=(0,ae.gfM)(u,{storeUuid:t.uuid,storeSlug:t.slug}),C=(0,vt.Z)(),{desktopFeatures:P}=(0,oe.Z)(),{hasStoreInfoSection:E}=P,L=(0,pi.Z)(),{user:D}=(0,Zi.Z)(),M=D.data?.isLoggedIn,H=(0,mi.Z)(),{catalogSections:G,sortAndFilters:X,isFetchingMore:N,lastPageHasError:F,canFetchMore:q,refetch:W,fetchMore:Y,applyFilterByCatalogSubsection:j,currentPageOffset:J}=(0,Me.ZP)({storeUuid:t.uuid,catalogSectionUuid:g,catalogSubsectionUuid:p,catalogSectionType:m,catalogSectionsMap:Z,sortAndFilters:z,...g?{source:fi.n.NV_L2_CATALOG}:null}),K=(0,yi.Z)(t.uuid,t.catalogSectionPagingInfo?.offset||0),ee=G.hasLoaded&&Boolean(G.data),te=(0,A.qY)([...l||[],...H&&c?K.paginatedData:[]],g,Z),{levelCatalogSectionAsPerPickedForYou:ie=[],emitPickedForYouSectionItemEvent:re}=(0,Xe.o)(te),ne=t.supportedDiningModes.some((e=>"SHIPMENT"===e.mode));(0,Le.Z)(t.uuid,ie);const{startTiming:le,endTiming:de}=(0,De.JQ)();o.useEffect((()=>{g&&le({sectionUuid:g,subsectionUuid:p})}),[g,p,le]),o.useEffect((()=>{if(G.hasLoaded&&G.data){const e=j(G.data[g]||[])?.[0],i=e?.payload?.type===se.p.standardItemsPayload?e.payload.standardItemsPayload:null;de({storeUuid:t.uuid,sectionUuid:g,subsectionUuid:p,currentPageOffset:J-1,isSuccess:!0,catalogSectionAnalyticsData:i?.catalogSectionAnalyticsData})}else G.error&&de({storeUuid:t.uuid,sectionUuid:g,subsectionUuid:p,currentPageOffset:J-1,isSuccess:!1})}),[G.hasLoaded,G.data,G.error,de,t.uuid,g,p,J,j]),(0,je.E)(l);const ce=F,ue=G.isLoading,he=o.useCallback((()=>(0,V.tZ)(Ee,{showTitle:ue,stopAnimation:ce})),[ue,ce]),ge=o.useCallback((()=>(0,V.tZ)(Si.Z,{})),[]),{isCarouselTreatment:pe}=(0,Je.Z)(t.storeReviews.length),me=t.storeReviews.length>0&&!g&&P.hasNewReviewsLayout,fe=!g&&t.seoMeta&&t.seoMeta.faqs&&P.hasNewFaqSection,Ze=o.useMemo((()=>{if(g)return null;const e=(0,A.Tm)(ie,x),i=ie.map(((i,r)=>{const o=i.catalogSectionUUID,n=o?e[o]:0;return((e,t,i,r,o,n,a,s,l)=>{const d=o.catalogSectionUUID||"";return d||"EATER_MESSAGE"===o.type?"EATER_MESSAGE"===o.type&&o.payload?(0,V.tZ)(Ae.Z,{catalogSection:o.payload,feedIndex:e,isShipmentStore:n,isGrocery:r},"eaterMessage"):(0,V.tZ)(ye,{storeUuid:t.uuid,catalogSection:o,activeSectionUuid:i,isGrocery:r,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:a,serverRenderLimitedItems:s,maxItemCount:l,catalogIndex:e,shouldVirtualizeOFDCatalogItems:t.shouldVirtualizeOFDCatalogItems},d):null})(r,t,a,c,i,ne,re,U,n)}));let r;me&&!E?r=(0,V.tZ)(ui,{storeUuid:t.uuid,featuredReviews:t.featuredReviews,storeRating:t.rating,showSeeMore:!0},"featured-reviews-catalog-section"):pe&&!E&&(r=(0,V.tZ)(_i,{children:(0,V.tZ)(ut,{storeReviews:t.storeReviews,storeUuid:t.uuid})},"reviews"));const o=ie.findIndex((e=>e?.catalogSectionUUID===T.GJ));return r&&(me&&!E&&M&&o>-1?i.splice(o+1,0,r):"EATER_MESSAGE"===ie[0]?.type?i.splice(1,0,r):i.unshift(r)),me&&i.push((0,V.tZ)(Ft,{storeUuid:t.uuid,storeReviews:t.storeReviews,storeRating:t.rating,as:"li"},"reviewsV2")),fe&&i.push((0,V.tZ)(ti,{qa:t.seoMeta?.faqs?.qa,metaJson:t.seoMeta?.faqs?.metaJson},"faq")),P.moveTopExploreMoreStoresToCatalog&&i.unshift((0,V.tZ)(hi.Z,{children:(0,V.tZ)(gi.Z,{placementType:"top",storeUuid:t.uuid,as:bi})},"explore-more-stores-top")),i}),[g,ie,x,t,a,c,ne,re,U,pe,E,me,fe,P.moveTopExploreMoreStoresToCatalog,M]);return a&&Z?(0,V.tZ)(Q.Mv,{sortAndFilters:z??X??null,onChange:w,children:(0,V.BX)(xi,{children:[(0,V.tZ)(be.rs,{children:(0,V.tZ)(be.AW,{exact:!0,path:"/:languageCountryPair?/store/:storeSlug/:encodedStoreUuid/:sectionUuid/start-new-quick-add-order",component:wi})}),(0,V.tZ)(Ce,{storeUuid:t.uuid,activeSectionUuid:a,activeCatalogSection:d,catalogSectionsMap:Z}),g?(0,V.tZ)(Fe,{children:(0,V.tZ)(Se.Z,{source:G,loaded:e=>{const r=j(e[g]||[]);if(0===r.length&&R)return(0,V.BX)(Ui,{children:[(0,V.tZ)(St.Z,{src:(0,ht.pZ)(i(30688))}),(0,V.tZ)(gt.ZP,{children:(0,V.tZ)(pt.Z,{marginTop:$.sizing.scale600,styleLevel:6,children:(0,V.tZ)(yt.v,{id:"storefront.empty_order_again.reordering_will_be_simple"})})}),(0,V.tZ)(mt.Yl,{marginTop:$.sizing.scale500,marginBottom:$.sizing.scale500,children:(0,V.tZ)(yt.v,{id:"storefront.empty_order_again.your_items_will_show_up_here"})}),(0,V.tZ)(ft.Z,{onClick:()=>h.replace(k),kind:Zt.TO.primary,size:Zt.NO.compact,shape:Zt.X3.pill,children:(0,V.tZ)(yt.v,{id:"storefront.empty_order_again.browse_items"})})]});const o=[],n=[];return r.forEach((e=>{"VERTICAL_GRID"!==e.type?e.catalogSectionUUID&&n.push(e):o.push(e)})),(0,V.BX)(V.HY,{children:[L?(0,V.BX)(vi,{$inactive:!s,children:[n.length>0?(0,V.tZ)(bt.ZP,{catalogSectionsConfig:xt.zt,children:(0,V.tZ)(Ne.Z,{condition:Boolean(c),wrapper:e=>(0,V.tZ)(O.ZP,{overflow:"visible",calculateHeight:(e,t)=>zi(n[t]),children:e}),children:n.map(((e,i)=>(0,V.tZ)(ye,{storeUuid:t.uuid,catalogSection:e,isGrocery:c,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:re,catalogIndex:i},`${e.catalogSectionUUID}-${i}`)))})}):null,o.map(((e,i)=>{const r=e.catalogSectionUUID;return(0,V.tZ)(ye,{storeUuid:t.uuid,catalogSection:e,isGrocery:c,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:re,catalogIndex:i},`${r}-${i}`)}))]}):(0,V.tZ)(vi,{$inactive:!s,children:(r||[]).map(((e,i)=>{const r=e.catalogSectionUUID;return r?(0,V.tZ)(ye,{storeUuid:t.uuid,catalogSection:e,isGrocery:c,isOpen:t.isOpen,emitPickedForYouSectionItemEvent:re,catalogIndex:i},`${r}-${i}`):null}))}),(0,V.tZ)(He.Z,{isFetchingMore:N,canFetchMore:q,lastPageHasError:F,refetch:W,fetchMore:Y,loading:he,currentPageOffset:J})]})},error:e=>(0,V.tZ)(ve.nQ,{code:parseInt(e?.code||"500")}),loading:he})}):null,g?null:(0,V.BX)(V.HY,{children:[(0,V.tZ)(vi,{$inactive:!s,children:(0,V.tZ)(bt.ZP,{catalogSectionsConfig:xt.zt,children:C?(0,V.tZ)(xt.ZP,{isGrocery:c,catalogSections:ie,children:Ze}):(0,V.tZ)(V.HY,{children:(0,V.tZ)(Ne.Z,{condition:Boolean(c&&f),wrapper:e=>(0,V.tZ)(O.ZP,{overflow:"visible",calculateHeight:(e,t)=>zi(ie[t]),children:e}),children:Ze})})})}),H&&c?(0,V.tZ)(Ge.Z,{loading:ge,storeInfiniteResponse:K}):null]}),(0,V.tZ)(qe,{shouldResetActiveSubsectionUuid:ee})]})}):null};$i.displayName="StoreDesktopMenuSection";const Ii=$i;var Ti=i(59221),Ri=i(46329),ki=i(8346),Ci=i(42105),Bi=i(62086),Oi=i(8420),Pi=i(58984),Ei=i(80803),Li=i(6384),Di=i(96520),Ai=i(22779),Mi=i(70940);const Hi=(0,n.zo)("ol",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",padding:"24px 0 12px 0",overflow:"auto",whiteSpace:"nowrap",color:t.colors.contentStateDisabled}})),Gi=(0,n.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,display:"inline",":last-child":{color:t.colors.contentPrimary}}})),Xi=(0,n.zo)("h4",(e=>{let{$theme:t,$hasRedesignedTitleStyle:i}=e;return{...i?{...t.typography.LabelMedium,paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale600}:{paddingTop:t.sizing.scale800,...t.typography.HeadingSmall},color:t.colors.contentPrimary}})),Ni=e=>{let{storeUuid:t,storeSearchQuery:i,totalSearchResults:r}=e;const o=(0,_.TH)(),n=(0,be.UO)(),a=(0,ae.WxO)(n),s=(0,p.T)(),l=(0,ae.gfM)(o,{...a,persistentQueryParams:["primaryBundledStoreUuid","primaryDraftOrderUUID"]}),d=(0,Mi.Z)(t),{isStoreOfdRedesignPhase2XpEnabled:c}=(0,oe.Z)(),h=!d&&c,g=(0,u.ZP)(),m=[{title:s("store.all_items"),href:l,onClick:()=>{g("eats:store_search_back_to_all_items_breadcrumb_tap",{storeUuid:t,storeSearchQuery:i,numSearchResults:r})}},{title:s("store.search_results"),href:"",onClick:void 0}];return(0,V.BX)(V.HY,{children:[c?null:(0,V.tZ)(Hi,{children:(0,V.tZ)(we.Z,{separator:()=>(0,V.BX)(V.HY,{children:[(0,V.tZ)($e.ZP,{$width:"4px"}),(0,V.tZ)(ze.Z,{size:20,rotate:180}),(0,V.tZ)($e.ZP,{$width:"4px"})]}),children:m.map(((e,t)=>(0,V.tZ)(Gi,{children:e.href?(0,V.tZ)(Ue.rU,{to:e.href,...e.onClick?{onClick:e.onClick}:null,children:e.title}):(0,V.tZ)("span",{children:e.title})},e.title)))})}),(0,V.tZ)(Xi,{$hasRedesignedTitleStyle:h,children:s("shared.menuSearch.numberOfSearchResults",{totalSearchResults:r,searchQuery:i})}),d||c?null:(0,V.tZ)(H.ZP,{$height:24})]})};var Fi=i("__fusion__491"),Qi=i(41218),Vi=i(69890),qi=i(7386),Wi=i(16809),Yi=i("__fusion__1017"),ji=i(48193);const Ji=(0,n.w1)(qi.aU,{display:"flex",justifyContent:"flex-end"}),Ki=(0,n.zo)(Yi.default,{cursor:"pointer"}),er=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,margin:t.sizing.scale600,display:"flex",justifyContent:"space-between",alignItems:"center"}})),tr=(0,n.zo)(qi.uT,{maxHeight:"384px",overflowY:"auto"}),ir=e=>{let{isOpen:t,filterValue:i,onClose:r,onSelect:o,onReset:n,onDone:a,onOpen:s,onOptionSingleSelect:l,...d}=e;const c=i?.badge?(0,V.tZ)(wt.Z,{badge:i.badge,baseFont:"HeadingSmall",baseColor:"contentPrimary"}):null;return(0,V.tZ)(Vi.Z,{onClickOutside:r,isOpen:t,content:(0,V.BX)(Wi.Z,{title:c,overrides:{Root:{style:{width:"375px"}},Title:()=>(0,V.BX)(er,{children:[c,(0,V.tZ)(Ki,{onClick:r})]})},children:[(0,V.tZ)(tr,{children:(0,V.tZ)(ji.Z,{type:i.type||"",options:i.options||[],maxPermitted:i.maxPermitted||0,minPermitted:i.minPermitted||0,onSelect:o})}),(0,V.BX)(Ji,{children:[(0,V.tZ)(ft.Z,{kind:"tertiary",onClick:n,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale600}}}},children:(0,V.tZ)(yt.v,{id:"shared.reset"})}),(0,V.tZ)(ft.Z,{onClick:a,children:(0,V.tZ)(yt.v,{id:"shared.apply"})})]})]}),triggerType:"click",popperOptions:{placement:"bottom-left"},overrides:{Body:{style:e=>{let{$theme:t}=e;return{top:t.sizing.scale1600}}}},children:(0,V.tZ)(Qi.Z,{filterValue:i,onOpen:s,onOptionSingleSelect:l,...d})})};var rr=i(16771),or=i(47870),nr=i(94261),ar=i(94579);const sr=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale600,display:"flex",overflowX:"auto",width:"100%",WebkitOverflowScrolling:"touch",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}})),lr=(e,t)=>{let{selected:i,children:r}=e;return(0,V.tZ)(sr,{ref:t,children:(0,V.tZ)(nr.ZP,{zIndex:ar.I_.surface,children:(0,V.tZ)(or.Z,{size:"compact",shape:"pill",selected:i,children:r})})})},dr=o.forwardRef(lr),cr=e=>{let{sortAndFilters:t}=e;const{selectedFilter:i,selectedFilterIndex:r,selectedSortAndFilters:o,sortAndFiltersState:n,sortAndFiltersRef:a,handleOpen:s,handleClose:l,handleOptionSelect:d,handleReset:c,handleDone:u,handleOptionSingleSelect:h}=(0,rr.Z)({sortAndFilters:t});return 0===t.length?null:(0,V.tZ)(dr,{ref:a,selected:r,children:n.map(((e,t)=>{const r=e.values?.[0];if(r)return r.options&&1===r.options.length?(0,V.tZ)(Qi.Z,{filterValue:r,selectedSortAndFilters:o,onOpen:s,onOptionSingleSelect:h},r.uuid||t):r.options&&r.options.length>1?(0,V.tZ)(ir,{filterValue:r,selectedSortAndFilters:o,isOpen:i?.uuid===r.uuid,onClose:l,onSelect:d,onReset:c,onDone:u,onOpen:s,onOptionSingleSelect:h},r.uuid||t):void 0}))})},ur=(0,n.zo)("div",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),hr=(0,n.zo)("div",{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"flex-start"}),gr=e=>{let{store:t,loadedCatalogSectionsMap:i,storeSearchQuery:r,isGrocery:n,sortAndFilters:a}=e;const s=(0,u.ZP)(),{isStoreOfdRedesignXpEnabled:l,desktopFeatures:d}=(0,oe.Z)(),{registerSubsectionRef:c}=(0,G._J)(),h=(0,y.Z)(t),g=(0,Ei.Jq)(),m=o.useMemo((()=>{const e=Object.keys(i)[0]||"";return i[e]||[]}),[i]),f=o.useMemo((()=>{const e=m.reduce(((e,t)=>{const i=t.payload?.type===se.p.standardItemsPayload?t.payload.standardItemsPayload:null;return i?e+(i.catalogItems||[]).length:e}),0);return e&&s("eats:store_search_results_loaded",{storeUuid:t.uuid,numItems:e,storeLayout:(0,Ei.tl)(t,h)}),e}),[s,m,t,h]),Z=(0,p.T)(),S=o.useCallback((e=>{g({catalogSectionItemEventArgs:e,currentQuery:r})}),[g,r]),v=n||!l;return(0,V.tZ)(ur,{children:m.length?(0,V.BX)(hr,{children:[(0,V.tZ)(Ni,{storeUuid:t.uuid,storeSearchQuery:r,totalSearchResults:f}),a?(0,V.tZ)(cr,{sortAndFilters:a}):null,(0,V.tZ)(Fi.default,{store:t,catalogSections:m,isGrocery:n,registerSubsectionRef:d.hasNewInStoreSearch?c:null,catalogConfig:{surface:E.b.IN_STORE_SEARCH,showQuickViewEntryPoint:v,redirectToQuickViewModal:!v,analyticsConfig:{onCatalogSectionItemClick:S},...n?{maxSpanCount:1}:{columnsPerRow:4}}})]}):(0,V.tZ)(Ai.Z,{store:t,title:Z("shared.menuSearch.noResultHeadingWithSearchTerm"),storeSearchQuery:r})})};var pr=i(98528);const mr=(0,n.zo)("div",(e=>{let{$theme:t,$isStoreOfdRedesignPhase2XpEnabled:i}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,paddingTop:"72px",paddingBottom:i?"16px":0}})),fr=(0,n.zo)("div",{width:"100%"}),Zr=e=>{let{store:t,sectionUuid:i,isActive:r,isGrocery:n,storeSearchQuery:a,showDisclaimer:s=!0}=e;const{resetActiveSubsectionUuid:l}=(0,G._J)(),d=t.catalogSectionsMap,c="USE_SECTION_AS_CATEGORY"===t.menuDisplayType,{catalogSections:u,sortAndFilters:h}=(0,Di.Z)({storeUuid:t.uuid,storeSearchQuery:a,isGrocery:c,targetLocation:t.location,sectionUuid:i}),g=u.isFetched&&Boolean(u.data),{isStoreOfdRedesignPhase2XpEnabled:p,desktopFeatures:m}=(0,oe.Z)();o.useEffect((()=>{g&&l()}),[g,l]);const f=u.isLoading,Z=o.useCallback((()=>!n&&m.hasNewInStoreSearch?(0,V.tZ)(pr.Z,{}):(0,V.tZ)(Ee,{showTitle:f,stopAnimation:false})),[f,false,n,m.hasNewInStoreSearch]);if(!i||!d)return null;const y=t.storeReviews.length>0&&m.hasNewReviewsLayout,S=t.seoMeta&&t.seoMeta.faqs&&m.hasNewFaqSection;return(0,V.BX)(fr,{children:[(0,V.tZ)(Se.a,{source:u,loaded:e=>(0,V.tZ)(gr,{storeSearchQuery:a,loadedCatalogSectionsMap:e,store:t,isGrocery:n,sortAndFilters:h}),error:e=>(0,V.tZ)(ve.nQ,{code:parseInt(e?.code||"500")}),loading:Z}),y?(0,V.tZ)(Ft,{storeUuid:t.uuid,storeReviews:t.storeReviews,storeRating:t.rating}):null,S?(0,V.tZ)(ti,{qa:t.seoMeta?.faqs?.qa,metaJson:t.seoMeta?.faqs?.metaJson}):null,t.disclaimerBadge?.text&&r&&s?(0,V.tZ)(mr,{$isStoreOfdRedesignPhase2XpEnabled:p,dangerouslySetInnerHTML:{__html:t.disclaimerBadge?.text}}):null]})};Zr.displayName="StoreSearchDesktopMenuSection";const yr=Zr;var Sr=i(53683);const vr=()=>{const[e,t]=(0,n.hQ)(),[o,a]=(0,r.useState)(!0),s=(0,B.Z)("membership_exclusive_modal"),l=(0,r.useCallback)((()=>a(!1)),[a]);return s&&o?(0,V.tZ)(Sr.ZP,{onClose:l,hideHeader:!0,children:(0,V.BX)("div",{className:e({width:"465px"}),children:[(0,V.tZ)(St.Z,{src:(0,ht.pZ)(i(55804)),width:"100%"}),(0,V.BX)("div",{className:e({padding:t.sizing.scale700}),children:[(0,V.tZ)(mt.Ih,{children:(0,V.tZ)(yt.v,{id:"membership.stores.exclusive.title"})}),(0,V.tZ)(mt.Yl,{paddingTop:"scale300",children:(0,V.tZ)(yt.v,{id:"membership.stores.exclusive.description"})}),(0,V.tZ)("div",{className:e({marginTop:t.sizing.scale1000}),children:(0,V.tZ)(ft.Z,{onClick:l,className:e({width:"100%"}),children:(0,V.tZ)(yt.v,{id:"shared.close"})})})]})]})}):null};var br=i(81567),xr=i(20931),_r=i(96037),Ur=i(23312),zr=i("__fusion__852"),wr=i("__fusion__554"),$r=i(26740);const Ir=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,paddingTop:"72px"}})),Tr=(0,n.zo)("div",{width:"100%"}),Rr=(0,n.zo)("div",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),kr=(0,n.zo)("div",{display:"flex",flexGrow:1,flexDirection:"column",alignItems:"flex-start"}),Cr=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,marginTop:"24px",marginBottom:"4px",color:t.colors.contentPrimary}}));function Br(){return(0,V.tZ)(wr.default,{size:28,"aria-label":"warning"})}const Or=e=>(0,V.BX)($r.jL,{title:"Heads up!",hierarchy:"high",kind:"warning",action:{label:"Got it",position:"below",onClick:()=>{e.onClose()}},artwork:{icon:Br,type:"icon"},overrides:{Root:{style:()=>({marginLeft:"0px",marginRight:"0px",width:"100%"})}},children:[(0,V.tZ)("div",{children:"We could not find any results for the following terms:"}),(0,V.tZ)("div",{children:e.terms.join(", ")})]}),Pr=e=>{let{store:t,isActive:i,isGrocery:r,storeSearchQuery:n,isRecipe:a}=e;const s=(0,be.k6)(),l=(0,p.T)(),d=(0,_.TH)(),{resetActiveSubsectionUuid:c}=(0,G._J)(),h=(0,u.ZP)(),g=t.catalogSectionsMap,m="USE_SECTION_AS_CATEGORY"===t.menuDisplayType,[f,Z]=o.useState(!1),y=(0,_r.Z)({storeUuid:t.uuid,storeSearchQuery:n,isGrocery:m,targetLocation:t.location,preferredCatalogSectionType:"HORIZONTAL_GRID"}),{isStoreOfdRedesignXpEnabled:S}=(0,oe.Z)(),v=(0,Ei.Jq)(),b=y.data?.catalogSectionsMap,x=y.hasLoaded&&Boolean(y.data),U=r||!S,z=o.useCallback((e=>{v({catalogSectionItemEventArgs:e,currentQuery:n})}),[v,n]);o.useEffect((()=>{y.hasLoaded&&h("eats:store_quick_shop_results",{storeQuickShop:{storeUuid:t.uuid,query:n,numQueries:Array.from(y.data?.queries||[]).length}}),x&&c()}),[x,c,h,t.uuid,n,b,y]);const w=o.useCallback((()=>a?(0,ae.FZo)({location:d,newState:{recipeList:n}}):d),[a,d,n]);return g?(0,V.BX)(Tr,{children:[(0,V.tZ)(Se.Z,{source:y,loaded:e=>{const i=e.catalogSectionsMap,o=i[Object.keys(i)[0]||""]||[],n=e.queries.filter((e=>!1===e.found)).map((e=>e.query)),a=n.length>0;return(0,V.tZ)(Rr,{children:o.length?(0,V.BX)(kr,{children:[(0,V.tZ)(Cr,{children:(0,V.tZ)(yt.v,{id:"store.quickshop.your_shopping_list"})}),(0,V.tZ)("div",{children:(0,V.BX)(Ur.Z,{storeUuid:t.uuid,actionPillType:"SHOPPING_LIST",additionalButtonProps:{onClick:()=>{s.push((0,ae.vN_)(w(),"shoppingList"))}},children:[(0,V.tZ)(Ur.Z.Icon,{children:(0,V.tZ)(zr.default,{size:16})}),(0,V.tZ)(Ur.Z.Title,{children:(0,V.tZ)(yt.v,{id:"shared.edit"})})]})}),a&&!f?(0,V.tZ)(Or,{terms:n,onClose:()=>{Z(!0)}}):null,(0,V.tZ)(Fi.default,{store:t,catalogSections:o,isGrocery:r,catalogConfig:{surface:E.b.QUICK_SHOP,showQuickViewEntryPoint:U,redirectToQuickViewModal:!U,quickAddSource:"QUICK_SHOP",analyticsConfig:{onCatalogSectionItemClick:z}}})]}):(0,V.tZ)(Ai.Z,{store:t,title:l("store.quickshop.no_items_found")})})},error:e=>(0,V.tZ)(ve.nQ,{code:parseInt(e?.code||"500")}),loading:()=>(0,V.tZ)(Ee,{showTitle:!0,stopAnimation:!1})}),t.disclaimerBadge?.text&&i?(0,V.tZ)(Ir,{dangerouslySetInnerHTML:{__html:t.disclaimerBadge?.text}}):null]}):null};Pr.displayName="StoreDesktopShoppingListSection";const Er=Pr;var Lr=i(74622),Dr=i(2237),Ar=i(62459);function Mr(e){let{storeSearchQuery:t}=e;const{data:i,error:r,isLoading:o,isSuccess:n,isError:a}=function(e,t){const i=(0,Ar.Z)("getInStoreSearchRecipeListByAigenV1"),r=(0,Dr.H)("getInStoreSearchRecipeListByAigenV1",e);return(0,Lr.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return i.request("getInStoreSearchRecipeListByAigenV1",t[1])},...t?.queryObserverOptions})}({storeSearchQuery:t},{queryObserverOptions:{enabled:!0}});return{data:i,isLoading:o,error:r,hasLoaded:Boolean(n||a)}}const Hr=(0,n.zo)("div",{width:"100%"}),Gr=e=>{let{isGrocery:t,storeSearchQuery:i,store:r}=e;const o=Mr({storeSearchQuery:i});return(0,V.tZ)(Hr,{children:(0,V.tZ)(Se.Z,{source:o,loaded:e=>{const o=e?e?.recipeList:i;return(0,V.tZ)(Er,{isActive:!0,store:r,isGrocery:t,storeSearchQuery:String(o),isRecipe:Boolean(e)})},error:e=>(0,V.tZ)(ve.nQ,{code:parseInt(e?.code||"500")}),loading:()=>(0,V.tZ)(Ee,{showTitle:!0,stopAnimation:!1})})})},Xr=["recipe","recipes","ingredient","ingredients"],Nr=e=>{const t=(0,ie.ip)({...re.v.eats_web_in_store_recipe_list_aigen,defaultValue:!1});return Xr.some((t=>e.includes(t)))&&t};var Fr=i(929),Qr=i(31913),Vr=i(14966),qr=i(22023),Wr=i(11362),Yr=i(40411),jr=i(89765),Jr=i(3359);const Kr=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return{wordWrap:"break-word",...t.typography.HeadingSmall,color:t.colors.contentPrimary}})),eo=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,color:t.colors.contentPrimary}})),to=(0,n.w1)(Vr.hh,(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),io=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingTop:t.sizing.scale1400,position:"relative",backgroundColor:t.colors.backgroundPrimary,width:"inherit",zIndex:ar.I_.foreground,paddingLeft:t.sizing.scale500,paddingRight:t.sizing.scale500}})),ro=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale950,position:"relative",width:"fit-content",marginTop:t.sizing.scale300}})),oo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingRight:t.sizing.scale500,marginLeft:`-${t.sizing.scale500}`}})),no=(e,t)=>{const i=(0,_.TH)(),r=(0,_.UO)(),o=(0,ae.gfM)(i,(0,ae.WxO)(r)),n=(0,u.ZP)(),{stripDeliveryUnavailableLine:a}=(0,Yr.W)(e.storeUuid),s=(0,jr.Z)();return(0,V.BX)(io,{ref:t,children:[(0,V.tZ)(Ue.rU,{to:o,children:(0,V.tZ)(Kr,{children:e.headerBrandingInfo?.storeName?(0,V.tZ)(Qr.ZP,{text:e.headerBrandingInfo.storeName}):(0,V.tZ)(eo,{children:e.storeTitle})})}),e.headerBrandingInfo?.truncatingMetadata?(0,V.BX)("p",{children:[(0,V.tZ)(Qr.ZP,{text:e.headerBrandingInfo.truncatingMetadata}),(0,V.tZ)(to,{rel:"nofollow",onClick:()=>{n("eats:store_info_summary_cta_tap",{storeContent:{storeUuid:e.storeUuid}})},to:(0,ae.QJV)(i,(0,ae.WxO)(r)),children:(0,V.tZ)(yt.v,{id:"storefront.info_link"})})]}):null,e.headerBrandingInfo?.nonTruncatingMetadata?(0,V.tZ)("p",{children:(0,V.tZ)(Qr.ZP,{text:a(e.headerBrandingInfo.nonTruncatingMetadata)})}):null,s.isEnabled&&e.modalityInfo?(0,V.tZ)(ro,{children:(0,V.tZ)(Jr.Z,{modalityInfo:e.modalityInfo,isGroceryDesktopWeb:!0})}):null,(0,V.tZ)(oo,{children:e.isLeftBarScrolled?(0,V.tZ)(qr.I,{$size:Wr.N.cell,$style:{marginBottom:0}}):null})]})},ao=o.forwardRef(no);var so=i(46164),lo=i(79406),co=i("__fusion__946"),uo=i("__fusion__1634"),ho=i("__fusion__954"),go=i("__fusion__1642"),po=i("__fusion__558"),mo=i("__fusion__1783"),fo=i("__fusion__1095"),Zo=i("__fusion__1016"),yo=i(72843),So=i(68799);const vo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",gap:t.sizing.scale300}})),bo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{paddingInlineStart:t.sizing.scale600,paddingInlineEnd:t.sizing.scale300,paddingBlock:t.sizing.scale300,display:"flex",alignItems:"center",gap:t.sizing.scale300}})),xo=(0,n.zo)(Zo.default,(e=>{let{$theme:t}=e;return{padding:t.sizing.scale300,cursor:"pointer",color:t.colors.contentInversePrimary}})),_o=(e,t)=>{switch(e){case"STOREFRONT":return t?co.default:uo.default;case"TAG":return t?ho.default:go.default;case"ARROW_CLOCKWISE_PILL":return po.default;case"DELIVERY_BAG_MOVE":return t?fo.default:mo.default;default:return co.default}},Uo=e=>{const{links:t,storeUuid:i,storeSlug:n,isScrolled:a}=e,[s,l]=o.useState(void 0),d=(0,p.T)(),{tooltipHasBeenDisplayed:c,setTooltipAsDisplayed:h}=(e=>{const t=`store.tooltip.${e?.toLocaleLowerCase()}`,[i,o]=(0,r.useState)((()=>!!e&&Boolean((0,So.Z7)(t)?.displayed)));return{tooltipHasBeenDisplayed:i,setTooltipAsDisplayed:(0,r.useCallback)((()=>{e&&(o(!0),(0,So.pc)(t,{displayed:!0}))}),[e,t])}})("store_deals"),g=e=>{e.stopPropagation(),h()},m=(0,be.k6)(),f=(0,_.TH)(),Z=(0,u.ZP)();if((0,r.useMemo)((()=>{l(void 0);const e=yo.parse(f.search);if("shoppingList"===e.entryPoint||"shoppingList"===e.mod)l("#SHOP_YOUR_LIST");else if(e.scats)for(const i in t?.tabs)t.tabs[i].action?.url===e.scats&&l(`#${t.tabs[i].title}`);else{const e=t?.tabs?.find((e=>"storeTabType"===e.typeV2?.type&&"SHOP"===e.typeV2?.storeTabType));l(`#${e?.title}`)}}),[f,t]),!t)return null;const y=e=>{const{linkInfo:t}=e,r=_o(t.icon.platformIcon.selectedIcon,s===`#${t.title}`),o=(0,ae.gfM)(f,{storeUuid:i,storeSlug:n,sectionUuid:t.action?.url,persistentQueryParams:["primaryBundledStoreUuid","primaryDraftOrderUUID"],newQueryParams:{storeCatalogSections:t.action?.url}}),l="DEALS"===t.typeV2.storeTabType;return(0,V.tZ)(Ue.rU,{to:o,"data-testid":t.typeV2.storeTabType,onClick:e=>{const r=(e=>{switch(e){case"SHOP":return"eats:store_gr_top_links_click_on_shop_cta";case"DEALS":return"eats:store_gr_top_links_click_on_deals_cta";case"ROUTINE_ITEMS":return"eats:store_gr_top_links_click_on_order_again_cta"}})(t.typeV2.storeTabType);r&&Z(r,{storeUuid:i}),l&&g(e)},children:(0,V.BX)(vo,{children:[(0,V.tZ)(r,{size:18}),l?(0,V.tZ)(nr.ZP,{zIndex:ar.I_.cover,children:(0,V.tZ)(Vi.Z,{content:()=>(0,V.BX)(bo,{children:[(0,V.tZ)(yt.v,{id:"deals_hub.deals.tooltip"}),(0,V.tZ)(xo,{size:16,onClick:g,role:"button","aria-label":d("close")})]}),showArrow:!0,placement:lo.r4.right,isOpen:!c&&t.tooltipViewKey&&!a,ignoreBoundary:!0,overrides:{Inner:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInverseSecondary,color:t.colors.contentInversePrimary}}},Body:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInverseSecondary}}},Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundInverseSecondary}}}},children:t.title})}):t.title]})})},S=t?.tabs?.map((e=>({title:(0,V.tZ)(y,{linkInfo:e}),itemId:`#${e.title}`})))||[],v=()=>{const e=_o("DELIVERY_BAG_MOVE","#SHOP_YOUR_LIST"===s);return(0,V.BX)(vo,{"data-testid":"SHOP_YOUR_LIST",style:{cursor:"pointer"},onClick:()=>{Z("eats:store_gr_top_links_click_on_shop_your_list_cta",{storeUuid:i}),m.push((0,ae.vN_)(f,"shoppingList"))},children:[(0,V.tZ)(e,{size:18}),(0,V.tZ)(yt.v,{id:"store.shopping_list.action_pill_title"})]})};return S.push({title:(0,V.tZ)(v,{}),itemId:"#SHOP_YOUR_LIST"}),(0,V.BX)(V.HY,{children:[(0,V.tZ)(so.Z,{items:S,activeItemId:s,overrides:{NavItem:{style:e=>{let{$theme:t,$active:i}=e;return{paddingLeft:t.sizing.scale300,color:i?t.colors.contentPrimary:t.colors.contentTertiary,...t.typography.LabelMedium}}}},onChange:e=>{let{event:t}=e;t.preventDefault()}}),(0,V.tZ)(qr.I,{$size:Wr.N.cell})]})};var zo=i(71454),wo=i.n(zo),$o=i(44977),Io=i(41368),To=i(11841),Ro=i(16782),ko=i("__fusion__911"),Co=i("__fusion__817"),Bo=i("__fusion__576"),Oo=i("__fusion__564"),Po=i(97520),Eo=i(72238),Lo=i(21322),Do=i(99990);const Ao={Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary}}},Body:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,maxHeight:"320px",minWidth:"360px",overflow:"auto",borderTopLeftRadius:t.sizing.scale500,borderTopRightRadius:t.sizing.scale500,borderBottomLeftRadius:t.sizing.scale500,borderBottomRightRadius:t.sizing.scale500}}},Inner:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,borderTopLeftRadius:t.sizing.scale500,borderTopRightRadius:t.sizing.scale500,borderBottomLeftRadius:t.sizing.scale500,borderBottomRightRadius:t.sizing.scale500}}}},Mo=(0,n.zo)("div",(e=>{let{$clickeable:t}=e;return{display:"inline-block",cursor:t?"pointer":"inherit",":hover":{opacity:.8},transition:"background-color 0.2s linear"}})),Ho=e=>{let{sections:t,activeSectionUuid:i,storeUuid:o}=e;const[a,s]=(0,r.useState)(!1),l=(0,tt.De)("store-desktop-menu-nav"),d=(0,tt.De)("store-desktop-vertical-menu-nav"),c=(0,r.useRef)(null),[,h]=(0,n.hQ)(),g=(0,_.TH)(),p=(0,be.UO)(),m=(0,ae.WxO)(p),f=(0,Ei.uD)(),{store:Z}=(0,Do.QT)(),y=(0,u.ZP)(),S=Boolean(t.length&&i),v=t.filter((e=>e.isOnSale)),b=t.filter((e=>!e.isOnSale)),x=t.find((e=>e.uuid===i)),U=Z?.data?.storeMerchantTypeInfo?.uberMerchantType?.type;if(!S||!x)return null;const z=e=>{s(!1),f(o,e,U),y("eats:store_ofd_desktop_horizontal_menu_nav_menu_switch_select")};return 1===t.length&&i?(0,V.BX)(Mo,{$clickeable:!1,children:[(0,V.tZ)(mt.Uc,{display:"flex",alignItems:"center",marginRight:h.sizing.scale300,children:x.title}),(0,V.tZ)(mt.lU,{color:"contentSecondary",children:x.subtitle})]}):(0,V.BX)(V.HY,{children:[(0,V.tZ)(Vi.Z,{isOpen:a,content:()=>(0,V.BX)("ul",{children:[v.map((e=>(0,V.tZ)(Eo.Z,{children:(0,V.tZ)(Ue.rU,{to:(0,ae.gfM)(g,{...m,sectionUuid:e.uuid,newQueryParams:{preserveScroll:1}}),onClick:()=>z(e.isOnSale),children:(0,V.tZ)(Lo.Z,{description:e.subtitle,children:e.title})})},e.uuid))),b.map((e=>(0,V.tZ)(Eo.Z,{children:(0,V.tZ)(Ue.rU,{to:(0,ae.gfM)(g,{...m,sectionUuid:e.uuid,newQueryParams:{preserveScroll:1}}),onClick:()=>z(e.isOnSale),children:(0,V.tZ)(Lo.Z,{description:e.subtitle,children:e.title})})},e.uuid)))]}),showArrow:!0,returnFocus:!0,autoFocus:!0,placement:lo.r4.bottomLeft,overrides:Ao,onClickOutside:e=>{c.current&&!c.current.contains(e.target)&&(s(!1),y("eats:store_ofd_desktop_horizontal_menu_nav_menu_switch_toggle"))},popoverMargin:0,popperOptions:{modifiers:{flip:{enabled:!1}}},mountNode:l()||d()||void 0,children:(0,V.tZ)("div",{})}),(0,V.BX)(Mo,{id:"menu-switcher",onClick:()=>{y("eats:store_ofd_desktop_horizontal_menu_nav_menu_switch_toggle"),s(!a)},ref:c,$clickeable:!0,children:[(0,V.BX)(mt.Uc,{display:"flex",alignItems:"center",marginRight:h.sizing.scale300,children:[x.title," ",(0,V.tZ)(Wt.default,{size:20})]}),(0,V.tZ)(mt.lU,{color:"contentSecondary",children:x.subtitle})]})]})};var Go=i(16183);const Xo={Arrow:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,marginTop:t.sizing.scale300,width:t.sizing.scale600,height:t.sizing.scale600}}},Body:{style:e=>{let{$theme:t}=e;return{top:`-${t.sizing.scale200}`,left:`-${t.sizing.scale400}`,backgroundColor:t.colors.backgroundPrimary,borderTopLeftRadius:t.sizing.scale500,borderTopRightRadius:t.sizing.scale500,borderBottomLeftRadius:t.sizing.scale500,borderBottomRightRadius:t.sizing.scale500}}},Inner:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundPrimary,borderTopLeftRadius:t.sizing.scale500,borderTopRightRadius:t.sizing.scale500,borderBottomLeftRadius:t.sizing.scale500,borderBottomRightRadius:t.sizing.scale500,overflow:"hidden"}}}},No=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",overflow:"visible"}})),Fo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",maxHeight:"352px",minWidth:"343px",overflow:"hidden"}})),Qo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginTop:t.sizing.scale600,marginBottom:t.sizing.scale400,marginLeft:t.sizing.scale600,marginRight:t.sizing.scale600}})),Vo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",flexGrow:1,overflow:"auto"}})),qo=e=>{let{activeSectionUuid:t,onActiveSectionChange:i,sections:o,children:n}=e;const[a,s]=(0,r.useState)(!1),l=(0,r.useRef)(null),d=(0,tt.De)("store-desktop-menu-nav"),c=(0,Po.Z)(),h=(0,r.useMemo)((()=>o.map((e=>({title:c(e),itemId:String(e.catalogSectionUUID||"")})))),[o,c]),g=(0,u.ZP)();(0,r.useEffect)((()=>{a&&g("eats:store_ofd_desktop_horizontal_menu_nav_open_menu_popover")}),[a,g]);return(0,V.BX)(V.HY,{children:[(0,V.tZ)(No,{onClick:()=>{s(!a)},ref:l,children:n}),(0,V.tZ)(Vi.Z,{isOpen:a,onClickOutside:e=>{l.current&&!l.current.contains(e.target)&&s(!1)},mountNode:d()||void 0,showArrow:!0,returnFocus:!0,autoFocus:!0,placement:lo.r4.rightTop,overrides:Xo,content:(0,V.BX)(Fo,{children:[(0,V.BX)(Qo,{children:[(0,V.tZ)(mt.fH,{margin:0,children:(0,V.tZ)(yt.v,{id:"components.store_menu_nav_popover.full_menu"})}),(0,V.tZ)(ft.Z,{kind:Zt.TO.secondary,shape:Zt.X3.circle,size:Zt.NO.compact,onClick:()=>s(!1),children:(0,V.tZ)(Zo.default,{size:16})})]}),(0,V.tZ)(Vo,{children:(0,V.tZ)(so.Z,{items:h,activeItemId:t,onChange:e=>{let{event:t,item:r}=e;t.preventDefault(),t.stopPropagation(),g("eats:store_ofd_desktop_horizontal_menu_nav_popover_subsection_click"),i(r.itemId||"")},overrides:{NavItem:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale600}}},NavLink:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.LabelMedium}}}}})})]}),children:(0,V.tZ)("div",{})})]})};var Wo=i(39383),Yo=i(83403);const jo=(0,n.zo)("div",(e=>{let{$theme:t,$offsetHeight:i}=e;return{position:"sticky",top:`${i}px`,zIndex:2,width:"100%",backgroundColor:t.colors.backgroundPrimary,paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale300}})),Jo=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",paddingLeft:t.sizing.scale600,gap:t.sizing.scale100,minHeight:"48px",selfAlign:"flex-start"}})),Ko=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",bottom:"-2px",left:"0",width:"100%",height:"5px",backgroundColor:t.colors.borderSecondary}})),en=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"flex-end",justifyContent:"space-between",minHeight:"52px",marginTop:t.sizing.scale500}})),tn=(0,n.zo)("div",{display:"flex",alignItems:"center"}),rn=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,whiteSpace:"nowrap"}})),on=(0,n.zo)("button",(e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale600,cursor:"pointer",boxSizing:"border-box",display:"flex",alignItems:"center"}})),nn=e=>{let{activeSectionUuid:t,store:i,catalogSectionsMap:o,offsetHeight:n}=e;const s=(0,p.T)(),l=(0,Po.Z)(),d=(0,r.useRef)(null),c=(0,tt.i)("store-desktop-menu-nav"),{activeSubsectionUuid:h,smoothScrollToSubsection:g,resetActiveSubsectionUuid:m,subsectionIsRegistered:f}=(0,G._J)(),Z=(0,u.ZP)(),y=(0,r.useRef)(!1),S=(0,_.TH)(),[v,b]=(0,r.useState)({hasOverflow:!1,canScrollToLeft:!1,canScrollToRight:!1}),{storeSearchQuery:x,storeOfdSearchQuery:U}=(0,ae.RAN)(S,["storeSearchQuery","storeOfdSearchQuery"]),{searchQuery:z,handleSearchInputChange:w,handleKeyDown:$,handleOnFocus:T}=(0,Wo._J)(),R=(0,r.useRef)([]),k=(0,r.useRef)(null),C=(o[t]||[]).filter((e=>e.catalogSectionUUID&&"EATER_MESSAGE"!==e.type)),{levelCatalogSectionAsPerPickedForYou:B}=(0,Xe.o)(C),{catalogSections:O}=(0,Di.Z)({storeUuid:i.uuid,storeSearchQuery:U,isGrocery:!1,targetLocation:i.location,sectionUuid:t}),P=O.data?.[t],[E,L]=(0,r.useState)(P||B),[D,A]=(0,r.useState)(""),M=(0,r.useRef)(B);M.current=B,(0,r.useEffect)((()=>{L((e=>{let t=e;U?U&&P&&(t=P):t=M.current;const i=t.find((e=>e.catalogSectionUUID===h)),r=h&&i?h:t[0]?.catalogSectionUUID||"";return A(r),t})),m()}),[U,h,m,P]),(0,r.useEffect)((()=>{if(!D)return;const e=R.current[D];e&&k.current&&(0,Go.Z)(k.current,e,500,"right")}),[D]),(0,r.useEffect)((()=>{if(!d.current)return;const e=document.documentElement.scrollTop||document.body.scrollTop,t=d.current.offsetTop-n;let i="auto";if(e<=t){if(!U)return;i="smooth"}(0,Yo.Z)({top:t,behavior:i})}),[U,n]);const[H,X]=(0,ot.Z)({root:null});(0,r.useEffect)((()=>{X?.isIntersecting&&!y.current&&(y.current=!0,Z("eats:store_ofd_desktop_horizontal_menu_nav_impression"))}),[X?.isIntersecting,Z]);const N=(0,I.Z)((0,r.useCallback)((()=>{Z("eats:store_ofd_desktop_horizontal_menu_nav_scroll")}),[Z]),500),F=(0,r.useCallback)((()=>{wo()((()=>{const e=k.current?.scrollWidth||0,t=k.current?.offsetWidth||0,i=k.current?.scrollLeft||0,r=e>t,o=Boolean(i>0),n=Boolean(i<e-t);b({hasOverflow:r,canScrollToLeft:o,canScrollToRight:n})}),500)()}),[]);if((0,r.useEffect)((()=>{F()}),[F,E]),!t||x)return null;const Q=e=>t=>{R.current[e]=t},q=e=>{g(e)},W=Boolean(O.isLoading&&z),Y=D&&f(D);return(0,V.BX)(V.HY,{children:[(0,V.tZ)("div",{ref:d}),(0,V.tZ)(jo,{$offsetHeight:n,ref:e=>{c(e),H(e)},id:"store-desktop-menu-nav",children:(0,V.tZ)(a.Z,{children:(0,V.BX)(_t.Z,{gridMargins:0,gridColumns:24,gridGutters:16,gridGaps:0,behavior:Ut.m6.fluid,children:[(0,V.tZ)(zt.Z,{span:24,children:(0,V.BX)(en,{children:[(0,V.tZ)(Ho,{sections:i.sections,activeSectionUuid:t,storeUuid:i.uuid}),(0,V.tZ)(To.Z,{value:z||"",onChange:w,onKeyDown:$,size:Ro.NO.compact,placeholder:s("shared.searchInQuery",{query:i.title}),startEnhancer:(0,V.tZ)(ko.default,{size:14}),onFocus:T,clearable:!0,inputMode:"search",overrides:{Root:{style:e=>{let{$theme:t}=e;return{width:"357px",borderRadius:t.sizing.scale650,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300,marginBottom:t.sizing.scale300,marginTop:t.sizing.scale300,marginLeft:"auto"}}},StartEnhancer:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}},Input:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}}}})]})}),(0,V.tZ)(zt.Z,{span:24,children:(0,V.BX)(tn,{children:[(0,V.tZ)(qo,{activeSectionUuid:D,onActiveSectionChange:q,sections:E,children:(0,V.tZ)(on,{children:(0,V.tZ)(Co.default,{size:16})})}),(0,V.tZ)($o.m,{disabled:W,activeKey:D,onChange:e=>{let{activeKey:r}=e;Z("eats:store_subsection_navigation_tab_selected",{storeNavigationTab:{storeUuid:i.uuid,sectionUuid:t,subsectionUuid:String(r)}}),Z("eats:store_ofd_desktop_horizontal_menu_nav_subsection_click"),q(String(r))},activateOnFocus:!0,overrides:{Root:{style:()=>({overflow:"hidden",flexGrow:1,id:"container"})},TabList:{style:()=>({overflow:"auto"}),props:{ref:k,id:"container",onScroll:()=>{N(),F()}}},TabHighlight:{style:e=>{let{$theme:t}=e;return{opacity:Y?1:0}}}},uid:"desktop-ofd-menu",children:E.map((e=>(0,V.tZ)(Io.O,{title:(0,V.tZ)(rn,{children:l(e)}),tabRef:Q(e.catalogSectionUUID||""),"data-test-id":"target",overrides:{TabPanel:{style:()=>({display:"none"})}}},e.catalogSectionUUID||"")))}),v.hasOverflow?(0,V.BX)(Jo,{children:[(0,V.tZ)(ft.Z,{kind:Zt.TO.secondary,size:Zt.NO.compact,shape:Zt.X3.circle,disabled:!v.canScrollToLeft,onClick:()=>{if(Z("eats:store_ofd_desktop_horizontal_menu_nav_prev_click"),k.current){const e=k.current?.offsetWidth,t=k.current.scrollLeft-e;k.current.scrollTo({left:t,behavior:"smooth"})}},children:(0,V.tZ)(Oo.default,{size:16})},"left"),(0,V.tZ)(ft.Z,{kind:Zt.TO.secondary,size:Zt.NO.compact,shape:Zt.X3.circle,disabled:!v.canScrollToRight,onClick:()=>{if(Z("eats:store_ofd_desktop_horizontal_menu_nav_next_click"),k.current){const e=k.current?.offsetWidth,t=k.current.scrollLeft+e;k.current.scrollTo({left:t,behavior:"smooth"})}},children:(0,V.tZ)(Bo.default,{size:16})},"right"),(0,V.tZ)(Ko,{})]}):null]})})]})})})]})},an=(0,n.zo)("div",(e=>{let{$theme:t,$offsetHeight:i}=e;return{position:"sticky",top:i-1+"px",zIndex:2,backgroundColor:t.colors.backgroundPrimary,minWidth:"276px",width:"276px",borderTop:`1px solid ${t.colors.borderOpaque}`,paddingTop:t.sizing.scale300,paddingBottom:t.sizing.scale800,marginTop:t.sizing.scale300,boxSizing:"border-box"}})),sn=(0,n.zo)("div",(e=>{let{$offsetHeight:t}=e;return{width:"100%",maxHeight:`calc(100vh - ${t}px)`,overflowY:"auto"}})),ln=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",paddingTop:t.sizing.scale600,paddingLeft:t.sizing.scale300,paddingBottom:t.sizing.scale300,boxSizing:"border-box"}})),dn={NavItem:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale600,paddingBottom:t.sizing.scale550,paddingTop:t.sizing.scale550}}},NavLink:{style:e=>{let{$theme:t}=e;return{color:t.colors.contentSecondary,...t.typography.LabelMedium}}}},cn=e=>{let{activeSectionUuid:t,store:i,catalogSectionsMap:o,offsetHeight:n}=e;const a=(0,Po.Z)(),s=(0,tt.i)("store-desktop-vertical-menu-nav"),{activeSubsectionUuid:l,smoothScrollToSubsection:d,resetActiveSubsectionUuid:c}=(0,G._J)(),h=(0,u.ZP)(),g=(0,r.useRef)(!1),p=(0,_.TH)(),{storeSearchQuery:m,storeOfdSearchQuery:f}=(0,ae.RAN)(p,["storeSearchQuery","storeOfdSearchQuery"]),Z=(o[t]||[]).filter((e=>e.catalogSectionUUID&&"EATER_MESSAGE"!==e.type)),{levelCatalogSectionAsPerPickedForYou:y}=(0,Xe.o)(Z),{catalogSections:S}=(0,Di.Z)({storeUuid:i.uuid,storeSearchQuery:f,isGrocery:!1,targetLocation:i.location,sectionUuid:t}),v=S.data?.[t],[b,x]=(0,r.useState)(v||y),[U,z]=(0,r.useState)(""),w=(0,r.useRef)(y);w.current=y,(0,r.useEffect)((()=>{x((e=>{let t=e;f?f&&v&&(t=v):t=w.current;const i=t.find((e=>e.catalogSectionUUID===l)),r=l&&i?l:t[0]?.catalogSectionUUID||"";return z(r),t})),c()}),[f,l,c,v]);const[$,I]=(0,ot.Z)({root:null});(0,r.useEffect)((()=>{I?.isIntersecting&&!g.current&&(g.current=!0,h("eats:store_ofd_desktop_vertical_menu_nav_impression"))}),[I?.isIntersecting,h]);const T=(0,r.useMemo)((()=>b.map((e=>({title:a(e),itemId:e.catalogSectionUUID||""})))),[b,a]);if(!t||m)return null;return(0,V.tZ)(an,{$offsetHeight:n,ref:e=>{s(e),$(e)},id:"store-desktop-vertical-menu-nav",children:(0,V.BX)(sn,{$offsetHeight:n,children:[(0,V.tZ)(ln,{children:(0,V.tZ)(Ho,{sections:i.sections,activeSectionUuid:t,storeUuid:i.uuid})}),(0,V.tZ)(so.Z,{items:T,activeItemId:U,onChange:e=>{let{event:r,item:o}=e;r.preventDefault(),r.stopPropagation(),h("eats:store_subsection_navigation_tab_selected",{storeNavigationTab:{storeUuid:i.uuid,sectionUuid:t,subsectionUuid:String(o.itemId)}}),(e=>{d(e)})(String(o.itemId))},overrides:dn})]})})};var un=i(54031),hn=i(29194),gn=i(54612),pn=i(51492),mn=i(95171),fn=i(83811),Zn=i("__fusion__427");const yn=(0,n.zo)("a",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,cursor:"pointer",textDecoration:"underline"}})),Sn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,width:"122px",maxWidth:"122px",marginRight:"64px",fontSize:"14px",fontWeight:500,lineHeight:"16px",alignSelf:"flex-start",marginBottom:"4px"}})),vn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall}})),bn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"center",flexDirection:"column",borderRadius:"12px",margin:0,padding:"0 16px",boxSizing:"border-box",border:`1px solid ${t.colors.borderOpaque}`,gap:"8px",minHeight:"62px"}})),xn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",boxSizing:"border-box"}})),_n=(0,n.zo)("div",(e=>{let{$margin:t="0px"}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",margin:t}})),Un=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{display:"block",width:"325px"}})),zn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",borderRadius:"12px",background:t.colors.backgroundSecondary,overflow:"hidden",height:"113px",marginBottom:"16px"}})),wn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",boxSizing:"border-box",marginRight:t.sizing.scale600,height:t.sizing.scale950}})),$n=(e,t)=>`https://www.google.com/maps/dir/?api=1&origin=${t.latitude},${t.longitude}&destination=${e.latitude},${e.longitude}`,In=e=>{let{storeUuid:t,modalityInfo:i,isGroupOrderingDisabled:r,isOpen:o,isStoreSchedulable:n,isWithinDeliveryRange:a,storeLocation:s,storeName:l}=e;const d=(0,jr.Z)(),c=(0,We.Z)(),{deliveryLocation:u,diningMode:h}=(0,Z.Z)(t),{isSecondaryBundledStore:g}=(0,ee.Z)();if(g)return null;const p=(i?.modalityOptions||[]).find((e=>e.diningMode===h)),m={render:e=>{let{localizedDistance:t,storeAnchorPosition:i}=e;return u?(0,V.tZ)(pn.Z,{label:String(t),anchor:i}):(0,V.tZ)(gn.Z,{label:l})}},f={render:()=>(0,V.tZ)(pn.Z,{overrides:{PinHead:{style:()=>({display:"none"})}}})},y=c&&"PICKUP"===h&&u&&s,S=p?.priceTitleRichText&&p?.priceSubtitleRichText&&p?.etaTitleRichText&&p?.etaSubtitleRichText;return(0,V.BX)(bn,{children:[(0,V.BX)(xn,{children:[(0,V.BX)(_n,{$margin:S?"0px":"12px 0",children:[d.isEnabled&&i?(0,V.tZ)(wn,{children:(0,V.tZ)(Jr.Z,{modalityInfo:i})}):null,(0,V.tZ)(fn.Z,{storeUuid:t,isOpen:o,isWithinDeliveryRange:a,isGroupOrderingDisabled:r,isStoreSchedulable:n,headerType:"RESTAURANT"})]}),(0,V.tZ)(Un,{children:S?(0,V.tZ)(mn.Z,{bordered:!1,modalityInfo:i,storeUuid:t}):null})]},"delivery-info"),y?(0,V.BX)(xn,{children:[(0,V.BX)(Sn,{children:[(0,V.tZ)(vn,{children:(0,V.tZ)(yt.v,{id:"store.pickUpMap.storeAddress"})}),(0,V.tZ)(yn,{href:$n(s,u),target:"_blank",rel:"noopener noreferrer",children:s?.streetAddress})]}),(0,V.tZ)(zn,{children:(0,V.tZ)(Zn.default,{height:113,storeLocation:s,storeUuid:t,storeMarker:m,deliveryLocationMarker:f,padding:30})})]},"pickup-map"):null]})};var Tn=i(81198),Rn=i(75161),kn=i(91086),Cn=i(33259),Bn=i(34217),On=i(70589),Pn=i(4909),En=i(86293),Ln=i(22177),Dn=i(44702),An=i(74537),Mn=i(88464);const Hn=()=>{const[e,t]=o.useState(!0),[i,r]=o.useState("OPEN_STORES_CAROUSEL"),{closeModal:n}=(0,Ln.e)({replace:!0}),{bottomSheet:a,top:s,bottom:l}=(0,Dn.c)(),d=s||l,c=d?.adsExperimentalStorePayload?.parent,u=d?.adsExperimentalStorePayload?.children,h=(0,ae.vRw)().encodedStoreUuid||"",g="closed-store-modal",{storeUuid:p,deliveryTime:m,onTimeOptionSelected:f,onSchedule:Z,onAsap:y,onClose:S}=(0,Mn.Z)({encodedStoreUuid:h,entryPoint:g});if(!a)return null;const v=a.title?.text||"",b=a.body?.text||"",x=a.buttonText,_=a.secondaryButtonText,U=a.primaryActionType,z=()=>{t(!1),setTimeout((()=>{n()}),200)};return(0,V.tZ)(Rn.u_,{size:640,isOpen:e,onClose:z,children:"DELIVERY_TIME_PICKER"===i?(0,V.tZ)(En.Z,{entryPoint:(0,An.Z)(g,p),initialSelectedTimeOption:m,onTimeOptionSelected:f,onBack:()=>r("OPEN_STORES_CAROUSEL"),onClose:S,onSchedule:Z,onAsap:y,headerButtonType:"back",title:v,subtitle:b}):(0,V.BX)(V.HY,{children:[(0,V.tZ)(kn.xB,{showHeaderShadowOnExpanded:!1,leftButton:(0,V.tZ)(Cn.hQ,{onClick:z}),isExpanded:!0}),(0,V.tZ)(Bn.f,{$removeMarginTop:!0,children:d&&c&&u?(0,V.tZ)(L.Z,{title:v,subtitle:b,withPaginationControls:!0,canvasParent:c,canvasChildren:u,catalogIndex:-1,storeUuid:p,numGridItemsPerRow:u.length<=2?2:3,columnGap:8,storeCardImageEdge:111}):null}),(0,V.BX)(On.m,{children:[x?(0,V.tZ)(Pn.V,{onClick:()=>{"SCHEDULE_ORDER"===U?r("DELIVERY_TIME_PICKER"):t(!1)},kind:Zt.TO.primary,children:x}):null,_?(0,V.tZ)(Pn.V,{kind:Zt.TO.secondary,onClick:z,overrides:{BaseButton:{style:e=>{let{$theme:t}=e;return{marginTop:t.sizing.scale300}}}},children:_}):null]})]})})},Gn=(0,n.zo)("div",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),Xn=(0,n.zo)("div",(e=>{let{$marginTop:t,$direction:i,$gap:r}=e;return{width:"100%",overflow:"hidden",marginTop:t,alignSelf:"stretch",..."ltr"===i?{marginLeft:r}:{marginRight:r}}})),Nn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,marginBottom:t.sizing.scale800}})),Fn=(0,n.zo)("div",{position:"relative",alignSelf:"stretch",flexGrow:1}),Qn=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{padding:`${t.sizing.scale600} 0px ${t.sizing.scale0} 0px`}})),Vn=(0,n.zo)("div",(e=>{let{$topOffset:t,$zIndex:i}=e;return{position:"sticky",top:`${t}px`,zIndex:i||"auto"}})),qn=e=>{let{store:t,isHeaderSticky:i,shouldShowSearchExperience:n}=e;const v="USE_SECTION_AS_CATEGORY"===t.menuDisplayType,b=t.suggestedPromotion.text,U=t.suggestedPromotion.promotionUuid,z=t.storeInfoMetadata?.storeAvailablityStatus?.state,w=(0,hn.gm)(),$=(0,c.d)(),I=function(e,t){return t.supportedDiningModes&&t.supportedDiningModes.length>0&&!t.supportedDiningModes.some((t=>t.mode===e))}($,t),R=(0,u.ZP)(),k=(0,y.Z)(t),C=(0,Ti.Z)(k,t.catalogSectionsMap),B=(0,_.TH)(),{serverCart:O}=(0,g.iQ)(),[P,E]=(0,r.useState)(!1),L=(0,p.T)(),{uuid:D}=t,A=(0,f.Z)(D),{activePreferenceType:M}=(0,Z.Z)(D),H=o.useRef(null),G=(0,Li.Z)(),X=(0,un.Z)({storeUuid:t.uuid});(0,Bi.Z)(D,v);const N=(0,Pi.I0)();(0,Ei.IJ)({store:t,isLegacyStorePayload:!1,activeSectionUuid:k});const{storeSearchQuery:F,storeOfdSearchQuery:Q,entryPoint:q}=(0,ae.RAN)(B,["storeSearchQuery","storeOfdSearchQuery","entryPoint"]),W=Nr(F),Y=Boolean(F||Q)&&"shoppingList"===q||W,[j,J]=(0,r.useState)(!1),K=o.useRef(null),ee=o.useRef(null),{user:te}=(0,Zi.Z)(),ie=te.data?.isLoggedIn,{setSearchQuery:re}=(0,Wo._J)();(0,r.useEffect)((()=>{const e=ee.current,t=()=>{if(e){const{scrollTop:t}=e;J(t>0)}};return e?.addEventListener("scroll",t),()=>{e?.removeEventListener("scroll",t)}}),[ee]);const{desktopFeatures:ne}=(0,oe.Z)();(0,r.useEffect)((()=>{F&&!Q&&ne.hasNewInStoreSearch&&re(F)}),[F,Q,re,ne.hasNewInStoreSearch]);const[se,le]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=()=>{x.Z&&(x.Z.scrollY>0?le(!0):le(!1))};return x.Z?.addEventListener("scroll",e),()=>{x.Z?.removeEventListener("scroll",e)}}),[]),(0,r.useEffect)((()=>{t.isDeliveryOverTheTop&&R("eats:ott_store_view",{storeUuid:D}),I&&R("eats:store_dining_mode_not_suported",{storeUuid:D,diningMode:$}),b&&U&&R("eats:promo_pill_view",{restaurantUuid:D,promotionUuid:U,promotionText:b,promotionRequestType:"desktop_web_promo_pill"})}),[t,D,U,b,$,I,R,M,z,v]),(0,Ri.OT)({diningModes:t.supportedDiningModes}),(0,r.useEffect)((()=>{A()}),[A]),(0,r.useEffect)((()=>{G.set(D)}),[G,D]);const{surfaceStoreTimepicker:de}=(0,h.Z)(t);(0,r.useEffect)((()=>{de()}),[de]),(0,r.useEffect)((()=>{O.error&&v&&E(!0)}),[O.error,v]),o.useEffect((()=>{N((0,Oi.im)())}),[N]);const{headerHeight:ce}=(0,Fr.Z)(),ue=t.catalogSectionsMap;if(!ue||!k)return null;const he=ne.hasStickyHorizontalMenuNav,ge=t.featuredItemsSections?t.featuredItemsSections[k]:null,pe=X||ne.hasStoreBannersInCatalogColumn;return(0,V.BX)(V.HY,{children:[(0,V.tZ)(d.Z,{activeSectionUuid:k,isGrocery:v}),(0,V.BX)(a.Z,{children:[t.storeBanners&&!pe?(0,V.tZ)(Qn,{children:(0,V.tZ)(xr.Z,{banners:t.storeBanners})}):null,P?(0,V.tZ)(m.Z,{message:L("menu_item.error_updating_cart_description"),onClose:()=>E(!1)}):null,v||n||he||ne.hasStickyVerticalMenuNav?null:(0,V.tZ)(S.Z,{sections:t.sections,activeSectionUuid:k,storeUuid:D})]}),!ge||ie||F?null:(0,V.tZ)(a.Z,{children:(0,V.tZ)(ye,{storeUuid:t.uuid,catalogSection:ge,activeSectionUuid:k,isGrocery:v,isOpen:t.isOpen,serverRenderLimitedItems:!1,catalogIndex:0,shouldVirtualizeOFDCatalogItems:t.shouldVirtualizeOFDCatalogItems},ge.catalogSectionUUID)}),he&&!F?(0,V.tZ)(nn,{activeSectionUuid:k,catalogSectionsMap:ue,store:t,offsetHeight:i?ce:0}):null,(0,V.tZ)(a.Z,{children:(0,V.BX)(Gn,{ref:H,children:[X?(0,V.BX)(Vn,{$topOffset:ce+T.RZ,children:[(0,V.tZ)(Vn,{$topOffset:ce+T.RZ,$zIndex:ar.I_.cover,children:(0,V.tZ)(ao,{ref:K,storeUuid:t.uuid,headerBrandingInfo:t.headerBrandingInfo,storeTitle:t.title,isLeftBarScrolled:j,modalityInfo:t.modalityInfo})}),(0,V.BX)(ki.Z,{topOffset:i?ce+T.RZ+128:0,isNewVerticalsXpEnabled:X,ref:ee,children:[(0,V.tZ)(Uo,{links:t?.navigationConfig,storeUuid:t.uuid,storeSlug:t.slug,isScrolled:j||se}),(0,V.tZ)(s.Z,{activeSectionUuid:k,catalogSections:ue[k],catalogSectionsMap:ue,isGrocery:v,store:t})]})]}):he&&!F?null:ne.hasStickyVerticalMenuNav&&!F?(0,V.BX)(Fn,{children:[t.headerBrandingInfo?(0,V.tZ)(Nn,{children:(0,V.tZ)(Tn.Z,{headerBrandingInfo:t.headerBrandingInfo,storeUuid:D})}):null,(0,V.tZ)(cn,{activeSectionUuid:k,catalogSectionsMap:ue,store:t,offsetHeight:i?ce:0})]}):(0,V.tZ)(ki.Z,{topOffset:i?ce:0,children:(0,V.tZ)(s.Z,{activeSectionUuid:k,catalogSections:ue[k],catalogSectionsMap:ue,isGrocery:v,store:t})}),(0,V.BX)(Xn,{$marginTop:X&&t.storeBanners?"40px":"0px",$gap:he&&!F?"0px":ne.hasStickyVerticalMenuNav?"16px":"40px",$direction:w,children:[ne.hasDeliveryRowControls?(0,V.tZ)(In,{storeUuid:D,modalityInfo:t.modalityInfo,isGroupOrderingDisabled:t.isGroupOrderingDisabled,isOpen:t.isOpen,isStoreSchedulable:t.scheduledOrderInfo?.isSchedulable,isWithinDeliveryRange:t.isWithinDeliveryRange,storeLocation:t.location,storeName:t.title}):null,t.storeBanners&&pe?(0,V.tZ)(Qn,{children:(0,V.tZ)(xr.Z,{banners:t.storeBanners})}):null,Y?W?(0,V.tZ)(Gr,{store:t,isGrocery:v,storeSearchQuery:F||Q}):(0,V.tZ)(Er,{isActive:!0,store:t,isGrocery:v,storeSearchQuery:F||Q}):n?(0,V.tZ)(yr,{isActive:!0,store:t,sectionUuid:k,isGrocery:v,storeSearchQuery:F||Q,showDisclaimer:!ne.hasDisclaimerAtBottom}):(0,V.tZ)(De.ZP,{children:(0,V.tZ)(Ii,{isActive:!0,store:t,activeSectionUuid:k,catalogSections:ue[k],activeCatalogSection:C,isGrocery:v})})]})]})}),(0,V.tZ)(gi.Z,{placementType:"bottom",storeUuid:t.uuid}),b&&U?(0,V.tZ)(l.Z,{promotionText:b,promotionUuid:U,storeUuid:D}):null,i?null:(0,V.tZ)(Ci.Z,{catalogRef:H}),(0,V.tZ)(br.Z,{modalName:"closedStore",component:Hn}),(0,V.tZ)(br.Z,{modalName:"membershipExclusive",component:vr})]})},Wn=e=>(0,V.tZ)(qn,{store:e.store,isHeaderSticky:e.isHeaderSticky,shouldShowSearchExperience:e.shouldShowSearchExperience})},33641:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var r=i(36151),o=i(91931),n=i(67206),a=i(63171),s=i(88231),l=i(45359),d=i("__fusion__1102"),c=i("__fusion__961"),u=i(8639),h=i(62091),g=i(62852),p=i(8759),m=i(98528),f=i(50368),Z=i(33990);const y=(0,o.zo)("div",(e=>{let{$theme:t,$width:i="auto",$height:r="40px",$borderRadius:o="0",$margin:a="0"}=e;return{...(0,n.Z)({$theme:t}),width:i,height:r,borderRadius:o,margin:a,boxSizing:"border-box",backgroundSize:"100vw 100%"}})),S=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...(0,n.Z)({$theme:t}),marginTop:t.sizing.scale100,width:"100%",height:f.kE,borderRadius:t.borders.radius400,position:"relative",backgroundSize:"100vw 100%"}})),v=(0,o.zo)(h.Z,(e=>{let{$theme:t,$show:i}=e;return{display:"block",width:"100%",height:f.kE,borderRadius:t.borders.radius400,objectFit:"cover",border:"none",position:"absolute",top:0,left:0,opacity:i?1:0,...i?{transition:"all 200ms ease"}:{}}})),b=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"block",minWidth:"100%",width:"100%",height:f.kE,borderRadius:t.borders.radius400,position:"absolute",top:0,left:0,background:"transparent",backdropFilter:"blur(8px)"}})),x=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",top:0,left:0,width:"100%",display:"flex",justifyContent:"flex-end",alignItems:"center",padding:t.sizing.scale600,boxSizing:"border-box"}})),_=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{width:t.sizing.scale950,height:t.sizing.scale950,borderRadius:t.borders.radiusFull,marginLeft:t.sizing.scale300,display:"flex",justifyContent:"center",alignItems:"center",background:(0,u.uE)(t.colors.backgroundInversePrimary,.25),color:t.colors.contentInversePrimary,backdropFilter:"blur(8px)"}})),U=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",gap:"16px"}})),z=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{minWidth:"276px",width:"276px"}})),w=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",flexGrow:1}})),$=()=>(0,Z.tZ)(a.Z,{gridMargins:0,gridGaps:0,gridGutters:0,gridColumns:3,behavior:s.m6.fluid,children:Array.from({length:6}).map(((e,t)=>(0,Z.tZ)(l.Z,{span:3,children:(0,Z.tZ)(y,{$width:"100%",$height:"40px",$borderRadius:"0",$margin:"8px 0"})},t)))}),I=e=>{let{partialStore:t}=e;const[,i]=(0,o.hQ)(),[n,u]=(0,r.useState)(!0),h=(0,r.useRef)(null);return(0,g.Z)(!0),(0,r.useEffect)((()=>{h.current?.complete||u(!1)}),[]),(0,Z.BX)(p.Z,{children:[(0,Z.tZ)(a.Z,{gridMargins:0,gridGaps:0,gridGutters:0,gridColumns:3,behavior:s.m6.fluid,children:(0,Z.tZ)(l.Z,{span:3,children:(0,Z.BX)(S,{children:[t?.heroImageUrl?(0,Z.BX)(Z.HY,{children:[(0,Z.tZ)(v,{src:t.heroImageUrl,ref:h,onLoad:()=>{u(!0)},$show:n}),(0,Z.tZ)(b,{})]}):null,(0,Z.BX)(x,{children:[(0,Z.tZ)(_,{children:(0,Z.tZ)(d.default,{size:16})},"favorite"),(0,Z.tZ)(_,{children:(0,Z.tZ)(c.default,{size:16})},"overflow")]})]})})}),(0,Z.BX)(U,{children:[(0,Z.BX)(z,{children:[(0,Z.tZ)(y,{$width:"90%",$height:i.sizing.scale1000,$borderRadius:i.sizing.scale100,$margin:`${i.sizing.scale600} 0 0 0`},"title-line-1"),(0,Z.tZ)(y,{$width:"40%",$height:i.sizing.scale1000,$borderRadius:i.sizing.scale100,$margin:`${i.sizing.scale300} 0 0 0`},"title-line-2"),(0,Z.tZ)(y,{$width:"70%",$height:"18px",$borderRadius:i.sizing.scale100,$margin:`${i.sizing.scale300} 0 ${i.sizing.scale100} 0`},"meta-1"),(0,Z.tZ)(y,{$width:"50%",$height:"18px",$borderRadius:i.sizing.scale100,$margin:`${i.sizing.scale100} 0`},"meta-2"),(0,Z.tZ)(y,{$width:"60%",$height:"18px",$borderRadius:i.sizing.scale100,$margin:`${i.sizing.scale100} 0`},"meta-3"),(0,Z.tZ)($,{})]}),(0,Z.tZ)(w,{children:(0,Z.BX)(a.Z,{gridColumns:10,gridGaps:0,gridGutters:0,gridMargins:0,behavior:s.m6.fluid,children:[(0,Z.tZ)(l.Z,{span:2,children:(0,Z.tZ)(y,{$height:i.sizing.scale900,$borderRadius:"200px",$margin:`${i.sizing.scale800} ${i.sizing.scale600} 0 0`})},"dining-mode"),(0,Z.tZ)(l.Z,{span:2,children:(0,Z.tZ)(y,{$height:i.sizing.scale900,$borderRadius:"200px",$margin:`${i.sizing.scale800} 0 0 0`})},"group-order"),(0,Z.tZ)(l.Z,{span:3,skip:3,children:(0,Z.tZ)(y,{$height:i.sizing.scale900,$borderRadius:"200px",$margin:`${i.sizing.scale800} 0 0 0`})},"search"),(0,Z.tZ)(l.Z,{span:12,children:(0,Z.tZ)(m.Z,{})},"catalog")]})})]})]})}},7524:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var r=i(91931),o=i(8759),n=i(94579),a=i(43376),s=i(21168),l=i(67206),d=i(97415),c=i(99990),u=i(33990);const h=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...(0,l.Z)({height:68,$theme:t}),margin:`24px 0px 0px ${n.lK}`,width:"258px"}})),g=e=>{let{partialStore:t}=e;const{storeUuid:i}=(0,c.QT)();return(0,u.BX)(u.HY,{children:[(0,u.BX)(o.Z,{$ignorePadding:!0,children:[(0,u.tZ)(s.Z,{fallbackHeroImageUrl:t?.heroImageUrl,hideFavoriteButton:!0,hideOverflowButton:!0,isOpen:"boolean"!=typeof t?.isOpen||t?.isOpen,isPreview:!1,storeUuid:t?.storeUuid||i,storeTitle:t?.title||""}),(0,u.BX)(h,{children:[(0,u.tZ)(d.gD,{width:"80%",typography:"HeadingSmall"}),(0,u.tZ)(d.CB,{$height:"12px"}),(0,u.tZ)(d.gD,{width:"100%",typography:"ParagraphXSmall"}),(0,u.tZ)(d.CB,{$height:"8px"}),(0,u.tZ)(d.gD,{width:"50%",typography:"ParagraphXSmall"})]})]}),(0,u.tZ)(a.Z,{storeUuid:t?.storeUuid||i})]})}},66949:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var r=i(91931),o=i(55387),n=i(52246),a=i(62149),s=i(47986),l=i(84015),d=i(94579),c=i(33990);const u=(0,r.zo)("div",(e=>({borderRadius:"20px",padding:"8px 16px",boxShadow:e.$theme.shadows.floatingButton,position:"fixed",bottom:"40px",margin:"0 auto",background:e.$theme.colors.positive,left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",zIndex:d.I_.surface,...e.$hasLink?{cursor:"pointer"}:{}}))),h=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.onPositive,whiteSpace:"nowrap"}})),g=e=>{const t=(0,a.TH)();return(0,c.tZ)(l.Z,{$as:n.rU,to:(0,s._9Q)(t,o.F.pill,e.promotionUuid,e.storeUuid),eventName:"eats:promo_pill_click",eventPayload:{promotionUuid:e.promotionUuid,promotionText:e.promotionText,restaurantUuid:e.storeUuid,promotionRequestType:"desktop_web_promo_pill"},rel:"nofollow",children:(0,c.tZ)(u,{$hasLink:!0,children:(0,c.tZ)(h,{children:e.promotionText})})})}},14706:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var r=i(91631),o=i(62149),n=i(91931),a=i(26805),s=i(47986),l=i(14966),d=i(80803),c=i(99990),u=i(33990);const h=(0,n.w1)(a.Z,{display:"flex",flex:1,height:"73px",marginTop:"24px",overflowX:"scroll"}),g=(0,n.w1)(l.hh,(e=>{let{$theme:t,$isActive:i}=e;return{display:"flex",textDecoration:"none",flexDirection:"column",justifyContent:"center",boxSizing:"border-box",height:"100%",flexShrink:0,borderBottom:`5px solid ${i?t.colors.borderSelected:"transparent"}`}})),p=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.DisplayBold4XSmall})),m=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentTertiary}})),f=e=>{const t=(0,o.TH)(),i=(0,r.UO)(),n=(0,s.WxO)(i),{store:a}=(0,c.QT)(),l=(0,d.uD)(),f=a?.data?.storeMerchantTypeInfo?.uberMerchantType?.type;return(0,u.BX)(h,{$width:"24px",children:[e.availableSections.map((i=>(0,u.BX)(g,{to:(0,s.gfM)(t,{...n,sectionUuid:i.uuid}),onClick:()=>l(e.storeUuid,i.isOnSale,f),$isActive:e.activeSectionUuid===i.uuid,children:[(0,u.tZ)(p,{children:i.title}),(0,u.tZ)(m,{children:i.subtitle})]},i.uuid))),e.unavailableSections.map((i=>(0,u.BX)(g,{to:(0,s.gfM)(t,{...n,sectionUuid:i.uuid}),onClick:()=>l(e.storeUuid,i.isOnSale,f),$isActive:e.activeSectionUuid===i.uuid,children:[(0,u.tZ)(p,{children:i.title}),(0,u.tZ)(m,{children:i.subtitle})]},i.uuid)))]})},Z=e=>{let{sections:t,activeSectionUuid:i,storeUuid:r}=e;const o=Boolean(t.length>1&&i),n=t.filter((e=>e.isOnSale)),a=t.filter((e=>!e.isOnSale));return o?(0,u.tZ)(f,{activeSectionUuid:i,availableSections:n,unavailableSections:a,storeUuid:r}):null};Z.displayName="StoreDesktopSections";const y=Z},39240:(e,t,i)=>{"use strict";i.d(t,{Z:()=>I});var r=i(27201),o=i(91931),n=i(80165),a=i(79640),s=i(33990);const l=(0,o.zo)("div",{marginTop:"8px",display:"flex",flexDirection:"column"}),d=(0,o.zo)("div",{position:"relative"}),c=e=>{let{catalogSections:t,isGrocery:i,store:o,catalogSectionsMap:c,activeSectionUuid:u}=e;const h=(0,n.WI)("store-desktop-menu-nav"),g=(c[u]||[]).map((e=>e.catalogSectionUUID)).filter(Boolean),p=i?(0,a.xk)(o):u;return p?(0,s.tZ)("div",{ref:h,children:(0,s.tZ)(l,{children:(0,s.tZ)(d,{children:(0,s.tZ)(r.Z,{catalogSections:t,activeSectionSubsectionUuids:g,sectionUuid:p,isGrocery:i,catalogSectionsMap:c,storeReviewsCount:o.storeReviews.length,topReviewsBucket:o.topReviewsBucket})})})}):null};var u=i(36151),h=i(73764),g=i(91631),p=i(62149),m=i(47986),f=i(56065),Z=i(29194);const y=(0,o.zo)(h.Ns,{display:"flex",flex:"1",flexDirection:"column"}),S=(0,o.zo)("div",{display:"flex",alignItems:"center",justifyContent:"space-between"}),v=(0,o.zo)("div",(e=>({..."rtl"===e.$direction?{paddingRight:"24px"}:{paddingLeft:"24px"}}))),b=(0,o.zo)("button",(e=>({...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentPrimary,marginBottom:"24px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",borderBottom:e.$active?`2px solid ${e.$theme.colors.borderSelected}`:"0",textAlign:"center",":hover":{cursor:"pointer"}}))),x=(0,o.zo)("div",(e=>{let{$theme:t,$isNestedCatalogSection:i}=e;return{...i?t.typography.ParagraphMedium:t.typography.LabelMedium}})),_=e=>{let{activeSectionSubsectionUuids:t,isGrocery:i,store:r,sectionUuid:o,subsectionsMap:n}=e;const{activeSubsectionUuid:a,smoothScrollToSubsection:l,registerSubsectionNavRef:d}=(0,f._J)(),c=(0,Z.gm)(),h=(0,p.TH)(),{storeCatalogSections:_}=(0,m.RAN)(h,["storeCatalogSections"]),U=t.map((e=>n[e]))||[],z=(0,g.UO)(),w=(0,m.WxO)(z),$=(0,g.k6)(),I=i?r.sections||[]:t.map((e=>n[e]))||[];return I.length&&t.length>0?(0,s.tZ)(y,{children:I.map(((e,t)=>{const r=e?.uuid;if(!r)return null;const o=(0,m.RKz)(h,{...w,sectionUuid:e.uuid},{catalogSectionUuids:[r]});return(0,s.BX)(u.Fragment,{children:[(0,s.tZ)(S,{children:(0,s.tZ)(b,{onClick:()=>{i?$.push(o):l(r)},$active:!a&&0===t||a===r,ref:e=>{d(r,e)},children:(0,s.tZ)(x,{children:e.title})})}),r===_?(0,s.tZ)(v,{$direction:c,children:U.map(((e,t)=>{const i=e?.uuid;return i?(0,s.tZ)(S,{children:(0,s.tZ)(b,{onClick:()=>{l(i)},$active:!a&&0===t||a===i,ref:e=>{d(i,e)},children:e?.title?(0,s.tZ)(x,{$isNestedCatalogSection:!0,children:e.title}):null})},i):null}))}):null]},r)})).filter(Boolean)}):null},U=(0,o.zo)("div",{display:"flex",flexDirection:"column"}),z=(0,o.zo)("div",{position:"relative"}),w=e=>{let{isGrocery:t,store:i,subsectionsMap:r,activeSectionUuid:o}=e;const a=(0,n.WI)("store-desktop-menu-nav"),l=(i.sections||[]).find((e=>e.uuid===o));if(!l)return null;const d=l.subsectionUuids||[];return(0,s.tZ)("div",{ref:a,children:(0,s.tZ)(U,{children:(0,s.tZ)(z,{children:(0,s.tZ)(_,{activeSectionSubsectionUuids:d,sectionUuid:o,isGrocery:t,store:i,subsectionsMap:r})})})})},$=e=>{let{catalogSections:t,isGrocery:i,store:r,catalogSectionsMap:o,activeSectionUuid:n}=e;return n?t&&o?(0,s.tZ)(c,{activeSectionUuid:n,catalogSections:t,isGrocery:i,store:r,catalogSectionsMap:o}):!o&&r.subsectionsMap?(0,s.tZ)(w,{activeSectionUuid:n,subsectionsMap:r.subsectionsMap,isGrocery:i,store:r}):null:null};$.displayName="StoreDesktopSubsectionNavigation";const I=$},12078:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Z});var r=i(88885),o=i(91931),n=i(11841),a=i(16782),s=i(83811),l=i("__fusion__911"),d=i(3359),c=i(99990),u=i(39383),h=i(89765),g=i(33990);const p=(0,o.zo)("div",(()=>({display:"flex",justifyContent:"flex-end",alignItems:"flex-center",flexGrow:1,justifySelf:"flex-end",boxSizing:"border-box"}))),m=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{marginRight:t.sizing.scale600,height:t.sizing.scale950,position:"relative",boxSizing:"border-box"}})),f={Root:{style:e=>{let{$theme:t}=e;return{width:"357px",borderRadius:t.sizing.scale650,paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300,marginLeft:"auto"}}},StartEnhancer:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}},Input:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale300,paddingRight:t.sizing.scale300}}}},Z=e=>{let{modalityInfo:t,isOpen:i,storeUuid:o,isWithinDeliveryRange:Z,isGroupOrderingDisabled:y,isStoreSchedulable:S,withSearchInput:v,withModalityToggle:b=!1,withActionButtons:x=!1}=e;const _=(0,r.T)(),{store:U}=(0,c.QT)(),z=(0,h.Z)(),{searchQuery:w,handleSearchInputChange:$,handleKeyDown:I,handleOnFocus:T}=(0,u._J)();return(0,g.BX)(p,{children:[z.isEnabled&&t&&b?(0,g.tZ)(m,{children:(0,g.tZ)(d.Z,{modalityInfo:t})}):null,x?(0,g.tZ)(s.Z,{storeUuid:o,isOpen:i,isWithinDeliveryRange:Z,isGroupOrderingDisabled:y,isStoreSchedulable:S,headerType:"RESTAURANT"}):null,v?(0,g.tZ)(n.Z,{value:w||"",onChange:$,onKeyDown:I,size:a.NO.compact,placeholder:_("shared.searchInQuery",{query:U.data?.title}),startEnhancer:(0,g.tZ)(l.default,{size:14}),onFocus:T,clearable:!0,inputMode:"search",overrides:f}):null]})}},96037:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(55758),o=i(7221),n=i(33660);function a(e){let{storeUuid:t,storeSearchQuery:i,isGrocery:a,targetLocation:s,preferredCatalogSectionType:l}=e;const d=(0,r.d)(),{data:c,error:u,isLoading:h,isSuccess:g,isError:p}=(0,o.u)({diningMode:(0,n.Ee)(d),sectionUUIDs:null,storeUUIDs:[t],userQuery:i,isGrocery:a,targetLocation:s,preferredCatalogSectionType:l,entrypointContext:"SHOPPING_LIST"},{queryObserverOptions:{enabled:!0}});return{data:c,isLoading:h,error:u,hasLoaded:Boolean(g||p)}}},22177:(e,t,i)=>{"use strict";i.d(t,{a:()=>d,e:()=>l});var r=i(36151),o=i(95747),n=i(47986),a=i(62149),s=i(11189);const l=function(){let{replace:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,a.TH)(),i=(0,o.Z)(),s=(0,n.C45)(t),l=(0,r.useCallback)((()=>i(s,e)),[s,i,e]);return{closeModal:l}},d=function(){let{replace:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,a.TH)(),i=(0,o.Z)(),n=(0,s.c2)(t),l=(0,r.useCallback)((()=>i(n,e)),[n,i,e]);return{closePopover:l}}},37350:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(60849),o=i(41063);const n=()=>(0,r.ip)({...o.v.store_scheduled_order_navigation_enhancements_enabled,defaultValue:!1})},20395:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var r=i(75514),o=i(36151);const n=e=>{let{ref:t,key:i,scrollDelay:n}=e;const a=(0,o.useRef)(!0);(0,o.useEffect)((()=>{let e;const i=t?.current;if(i&&!a.current){if(r.Z&&i){const t=i.getBoundingClientRect().top,o=r.Z.innerHeight;t>=0&&t<=o||(n?e=setTimeout((()=>{i.scrollIntoView({behavior:"smooth",block:"start"})}),n):i.scrollIntoView({behavior:"smooth",block:"start"}))}return()=>clearTimeout(e)}a.current=!1}),[i,t,n])}},92963:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var r=i(36151),o=i(51083),n=i(53614),a=i(65624);function s(e,t){const i=(0,r.useContext)(n.v),s=(0,r.useContext)(o.GM),l=(0,o.G2)(a.T).from(s);(0,r.useEffect)((()=>{if(!i&&t){const i="string"==typeof t?t:JSON.stringify(t);l.setMeta(e,i)}}),[l,e,t,i])}},77541:(e,t,i)=>{e.exports=i.p+"5501fe06565874cf.svg"},55804:(e,t,i)=>{e.exports=i.p+"eab493b3f546e3c7.svg"}}]);